parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"I59m":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("react")),t=e(require("./utils/createSvgIcon")),l=(0,t.default)(r.default.createElement("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAll");exports.default=l;
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","react":"n8MK","./utils/createSvgIcon":"Atth"}],"ZVxi":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("react")),t=e(require("./utils/createSvgIcon")),a=(0,t.default)(r.default.createElement("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"CreditCard");exports.default=a;
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","react":"n8MK","./utils/createSvgIcon":"Atth"}],"j9ES":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("react")),r=require("./stellar-subscriptions");function e(t){return t&&t.__esModule?t:{default:t}}function n(t,r,e,n,o,a,u){try{var i=t[a](u),l=i.value}catch(c){return void e(c)}i.done?r(l):Promise.resolve(l).then(n,o)}function o(t){return function(){var r=this,e=arguments;return new Promise(function(o,a){var u=t.apply(r,e);function i(t){n(u,o,a,i,l,"next",t)}function l(t){n(u,o,a,i,l,"throw",t)}i(void 0)})}}function a(t,r){return s(t)||c(t,r)||i(t,r)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,r){if(t){if("string"==typeof t)return l(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,r):void 0}}function l(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function c(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a,u,i=[],l=!0,c=!1;try{if(a=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;l=!1}else for(;!(l=(n=a.call(e)).done)&&(i.push(n.value),i.length!==r);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=e.return&&(u=e.return(),Object(u)!==u))return}finally{if(c)throw o}}return i}}function s(t){if(Array.isArray(t))return t}function f(e,n,u){var i=a(t.default.useState(Date.now()),2),l=i[0],c=i[1],s=(0,r.useLiveRecentTransactions)(e,n,l),f=s.transactions,d=s.olderTransactionsAvailable,v=(0,r.useOlderTransactions)(e,n),y=t.default.useMemo(()=>u(f),[f]),h=function(){var t=o(function*(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!(t>=15)){var r=yield v(),e=u(r);return h(t+e.length)}c(Date.now())});return function(){return t.apply(this,arguments)}}();return t.default.useEffect(()=>{y.length<15&&h(y.length)},[y]),{olderTransactionsAvailable:d,transactions:y,fetchMoreTransactions:h}}var d=exports.default=f;
},{"react":"n8MK","./stellar-subscriptions":"aNYm"}],"VRyk":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("react")),t=e(require("./utils/createSvgIcon")),u=(0,t.default)(r.default.createElement("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),"ThumbUp");exports.default=u;
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","react":"n8MK","./utils/createSvgIcon":"Atth"}],"jtIX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=u(require("react")),e=require("react-i18next"),r=u(require("@material-ui/core/CircularProgress")),n=u(require("@material-ui/icons/ThumbUp")),o=require("~App/contexts/notifications"),i=require("~Generic/lib/stellar"),a=u(require("~Generic/components/MainSelectionButton"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,u,"next",t)}function u(t){c(i,n,o,a,u,"throw",t)}a(void 0)})}}function s(t,e){return v(t)||y(t,e)||d(t,e)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}function v(t){if(Array.isArray(t))return t}function b(u){var c=s(t.default.useState(!1),2),f=c[0],d=c[1],p=(0,e.useTranslation)().t,y=function(){var t=l(function*(){try{d(!0),yield(0,i.friendbotTopup)(u.horizonURL,u.publicKey)}catch(t){d(!1),(0,o.trackError)(t)}});return function(){return t.apply(this,arguments)}}();return t.default.createElement(a.default,{Icon:f?r.default:n.default,className:u.className,description:p("account.transactions.action.friendbot.description"),label:p("account.transactions.action.friendbot.label"),onClick:y,style:u.style})}var m=exports.default=b;
},{"react":"n8MK","react-i18next":"LuhD","@material-ui/core/CircularProgress":"mb4G","@material-ui/icons/ThumbUp":"VRyk","~App/contexts/notifications":"bqF5","~Generic/lib/stellar":"B7Y0","~Generic/components/MainSelectionButton":"f7c1"}],"wKkv":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("react")),t=e(require("./utils/createSvgIcon")),u=(0,t.default)(r.default.createElement("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt");exports.default=u;
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","react":"n8MK","./utils/createSvgIcon":"Atth"}],"YEJD":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("react")),t=e(require("./utils/createSvgIcon")),a=(0,t.default)(r.default.createElement("path",{d:"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"}),"BarChart");exports.default=a;
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","react":"n8MK","./utils/createSvgIcon":"Atth"}],"p5oS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"List",{enumerable:!0,get:function(){return t.default}}),exports.ListItem=void 0,Object.defineProperty(exports,"ListSubheader",{enumerable:!0,get:function(){return n.default}});var e=a(require("react")),t=a(require("@material-ui/core/List")),r=a(require("@material-ui/core/ListItem")),l=a(require("@material-ui/core/ListItemText")),n=a(require("@material-ui/core/ListSubheader"));function a(e){return e&&e.__esModule?e:{default:e}}var i=()=>void 0,u=t=>{return e.default.createElement("div",{style:{display:"flex",flexGrow:0,flexShrink:0,marginRight:12}},t.children)},o=t=>{var n=e.default.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"}},t.leftIcon?e.default.createElement(u,null,t.leftIcon):null,e.default.createElement("div",{style:{flexGrow:1,overflow:"hidden"}},t.heading?e.default.createElement("div",null,t.heading):null,e.default.createElement("div",null,t.primaryText),t.secondaryText?e.default.createElement("div",null,t.secondaryText):null),t.rightIcon?e.default.createElement(u,null,t.rightIcon):null);return e.default.createElement(r.default,{button:t.button||Boolean(t.onClick),onClick:t.onClick||i,style:t.style},e.default.createElement(l.default,{primary:n}))};exports.ListItem=o;
},{"react":"n8MK","@material-ui/core/List":"HMJ1","@material-ui/core/ListItem":"vro7","@material-ui/core/ListItemText":"FcKO","@material-ui/core/ListSubheader":"wSFK"}],"QsGy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=I(require("big.js")),t=I(require("react")),n=require("react-i18next"),a=require("stellar-sdk"),r=I(require("@material-ui/core/ExpansionPanel")),i=I(require("@material-ui/core/ExpansionPanelDetails")),l=I(require("@material-ui/core/ExpansionPanelSummary")),o=I(require("@material-ui/core/ListItem")),u=I(require("@material-ui/core/ListItemIcon")),c=I(require("@material-ui/core/ListItemText")),s=I(require("@material-ui/core/ListSubheader")),f=I(require("@material-ui/core/styles/makeStyles")),d=I(require("@material-ui/icons/ArrowRightAlt")),m=I(require("@material-ui/icons/ExpandMore")),p=I(require("@material-ui/icons/BarChart")),g=require("~App/theme"),y=require("~App/contexts/notifications"),h=require("~Generic/components/DialogActions"),b=require("~Generic/hooks/stellar"),v=require("~Generic/hooks/util"),x=require("~Generic/hooks/stellar-subscriptions"),E=require("~Generic/hooks/userinterface"),q=require("~Generic/lib/stellar"),A=require("~Generic/lib/transaction"),S=require("~Layout/components/Box"),C=require("~Layout/components/List"),k=I(require("~Transaction/components/TransactionSender")),T=require("./AccountBalances");function I(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,a,r,i,l){try{var o=e[i](l),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(a,r)}function P(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function l(e){L(i,a,r,l,o,"next",e)}function o(e){L(i,a,r,l,o,"throw",e)}l(void 0)})}}function O(e,t){return j(e)||R(e,t)||B(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function R(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,l,o=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(o.push(a.value),o.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw r}}return o}}function j(e){if(Array.isArray(e))return e}function G(e,t,n,r){var i=(0,q.offerAssetToAsset)(r.buying),l=(0,q.offerAssetToAsset)(r.selling);return l.isNative()?(0,A.createTransaction)([a.Operation.manageBuyOffer({offerId:r.id,buyAmount:"0",buying:i,price:r.price,selling:l,withMuxing:!0})],{accountData:n,horizon:e,walletAccount:t}):(0,A.createTransaction)([a.Operation.manageSellOffer({offerId:r.id,amount:"0",buying:i,price:r.price,selling:l,withMuxing:!0})],{accountData:n,horizon:e,walletAccount:t})}var M=t.default.memo(function(a){var r=(0,q.offerAssetToAsset)(a.offer.buying),i=(0,q.offerAssetToAsset)(a.offer.selling),l=(0,E.useIsMobile)();return t.default.createElement(o.default,{button:Boolean(a.onCancel),onClick:a.onCancel,style:Object.assign({minHeight:l?58:72},a.style)},t.default.createElement(u.default,{style:{marginRight:l?0:void 0}},t.default.createElement(p.default,null)),t.default.createElement(c.default,{primary:a.offer.seller!==a.accountPublicKey||i.isNative()?t.default.createElement("span",{style:{fontWeight:"bold"}},t.default.createElement(n.Trans,{i18nKey:"account.transactions.offer-list.text.buy"},"Buy",t.default.createElement(T.SingleBalance,{assetCode:r.getCode(),balance:String((0,e.default)(a.offer.amount).mul(a.offer.price)),inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}),"for",t.default.createElement(T.SingleBalance,{assetCode:i.getCode(),balance:a.offer.amount,inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}))):t.default.createElement("span",{style:{fontWeight:"bold"}},t.default.createElement(n.Trans,{i18nKey:"account.transactions.offer-list.text.sell"},"Sell",t.default.createElement(T.SingleBalance,{assetCode:i.getCode(),balance:a.offer.amount,inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}),"for",t.default.createElement(T.SingleBalance,{assetCode:r.getCode(),balance:String((0,e.default)(a.offer.amount).mul(a.offer.price)),inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}))),primaryTypographyProps:{style:{overflow:"hidden",textOverflow:"ellipsis"}},style:{paddingRight:l?0:void 0}}),t.default.createElement(c.default,{primaryTypographyProps:{align:"right"},style:{display:l?"none":void 0,flexShrink:0,paddingRight:0}},t.default.createElement(S.HorizontalLayout,{alignItems:"center",inline:!0,style:{fontSize:"1.4rem"}},t.default.createElement("b",null,i.getCode())," ",t.default.createElement(d.default,{style:{fontSize:"150%"}})," ",t.default.createElement("b",null,r.getCode()))))}),z=t.default.memo(function(e){var a=(0,n.useTranslation)().t;return t.default.createElement(o.default,{style:{borderBottom:"none",height:75}},t.default.createElement(c.default,{disableTypography:!0,style:{textAlign:"center"}},t.default.createElement(h.ActionButton,{onClick:e.onClick,loading:e.pending,style:{margin:"0 auto",paddingLeft:16,paddingRight:16},variant:"text"},a("account.transactions.transaction-list.load-more.label"))))}),N=(0,f.default)({expansionPanel:{background:"transparent","&:before":{background:"transparent"}},expansionPanelSummary:{justifyContent:"flex-start",minHeight:"48px !important",padding:0},expansionPanelSummaryContent:{flexGrow:0,marginTop:"0 !important",marginBottom:"0 !important"},expansionPanelDetails:{display:"block",padding:0},listItem:{padding:"8px 24px",[g.breakpoints.down(600)]:{paddingLeft:24,paddingRight:24}}});function H(e){var n=(0,x.useLiveAccountData)(e.account.accountID,e.account.testnet),a=N(),o=(0,b.useHorizon)(e.account.testnet),u=(0,x.useLiveAccountOffers)(e.account.accountID,e.account.testnet),c=O((0,v.useLoadingState)(),2),f=c[0],d=c[1],p=(0,x.useOlderOffers)(e.account.accountID,e.account.testnet),g=O(t.default.useState(!0),2),h=g[0],E=g[1],q=t.default.useCallback(()=>d(p()),[p,d]),A=function(){var t=P(function*(t){try{var a=yield G(o,e.account,n,t);yield e.sendTransaction(a)}catch(r){(0,y.trackError)(r)}});return function(e){return t.apply(this,arguments)}}();return 0===u.offers.length?null:t.default.createElement(C.List,{style:{background:"transparent"}},t.default.createElement(r.default,{className:a.expansionPanel,elevation:0,expanded:h,onChange:()=>E(!h)},t.default.createElement(l.default,{classes:{root:a.expansionPanelSummary,content:a.expansionPanelSummaryContent},expandIcon:t.default.createElement(m.default,null)},t.default.createElement(s.default,{className:a.listItem,disableSticky:!0,style:{background:"transparent",paddingRight:0}},e.title)),t.default.createElement(i.default,{className:a.expansionPanelDetails},u.offers.map(n=>t.default.createElement(M,{key:n.id,accountPublicKey:e.account.accountID,offer:n,onCancel:()=>A(n)})),u.olderOffersAvailable?t.default.createElement(z,{pending:"pending"===f.type,onClick:q}):null)))}function K(e){return t.default.createElement(k.default,{account:e.account},n=>{var a=n.sendTransaction;return t.default.createElement(H,Object.assign({},e,{sendTransaction:a}))})}var _=exports.default=K;
},{"big.js":"NYl1","react":"n8MK","react-i18next":"LuhD","stellar-sdk":"n9dh","@material-ui/core/ExpansionPanel":"VT0G","@material-ui/core/ExpansionPanelDetails":"gInR","@material-ui/core/ExpansionPanelSummary":"MGbU","@material-ui/core/ListItem":"vro7","@material-ui/core/ListItemIcon":"lJBu","@material-ui/core/ListItemText":"FcKO","@material-ui/core/ListSubheader":"wSFK","@material-ui/core/styles/makeStyles":"AdTK","@material-ui/icons/ArrowRightAlt":"wKkv","@material-ui/icons/ExpandMore":"evfY","@material-ui/icons/BarChart":"YEJD","~App/theme":"j28y","~App/contexts/notifications":"bqF5","~Generic/components/DialogActions":"wklB","~Generic/hooks/stellar":"tg2C","~Generic/hooks/util":"IVjY","~Generic/hooks/stellar-subscriptions":"aNYm","~Generic/hooks/userinterface":"rVD3","~Generic/lib/stellar":"B7Y0","~Generic/lib/transaction":"abl7","~Layout/components/Box":"YhZi","~Layout/components/List":"p5oS","~Transaction/components/TransactionSender":"bNi5","./AccountBalances":"c6ok"}],"uf6a":[function(require,module,exports) {
var r=require("util");function o(o){o instanceof Date&&(o=Math.round((Date.now()-o)/1e3));for(var e=o<0?"from now":"ago",t=[(o=Math.abs(o))/60/60/24/365,o/60/60/24/30,o/60/60/24/7,o/60/60/24,o/60/60,o/60,o],a=["year","month","week","day","hour","minute","second"],n=0;n<a.length;n++){var s=Math.floor(t[n]);if(s>1)return r.format("%d %ss %s",s,a[n],e);if(1===s)return r.format("%d %s %s",s,a[n],e)}return r.format("0 seconds %s",e)}module.exports=o;
},{"util":"gfUn"}],"XVD8":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=require("human-time"),o=function(e){function o(t){var r=e.call(this,t)||this;return r.state=r.getStateFromProps(t),r}return t(o,e),o.prototype.getStateFromProps=function(t){return{formattedTime:r(new Date(t.time)).replace(/minute/,"min").replace(/^.*second.*$/,"now")}},o.prototype.componentDidMount=function(){var t=this;this._timer=setInterval(function(){return t.setState(t.getStateFromProps(t.props))},this.props.period||3e4)},o.prototype.componentWillUnmount=function(){clearInterval(this._timer)},o.prototype.render=function(){return this.state.formattedTime},o}(e.Component);exports.default=o;
},{"react":"n8MK","human-time":"uf6a"}],"pVpQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TransactionListItem=void 0;var e=I(require("big.js")),t=I(require("react")),a=require("react-i18next"),n=require("stellar-sdk"),r=I(require("react-human-time")),l=I(require("@material-ui/core/Collapse")),i=I(require("@material-ui/core/List")),o=I(require("@material-ui/core/ListItem")),c=I(require("@material-ui/core/ListItemIcon")),u=I(require("@material-ui/core/ListItemText")),s=I(require("@material-ui/core/ListSubheader")),m=require("@material-ui/core/styles"),d=I(require("@material-ui/icons/Add")),f=I(require("@material-ui/icons/CallMade")),y=I(require("@material-ui/icons/CallReceived")),p=I(require("@material-ui/icons/Remove")),g=I(require("@material-ui/icons/Settings")),b=I(require("@material-ui/icons/SwapHoriz")),h=require("~App/contexts/settings"),E=R(require("~App/routes")),S=require("~Generic/hooks/userinterface"),v=require("~Generic/lib/paymentSummary"),w=require("~App/theme"),T=require("~Generic/components/DialogActions"),q=require("~Generic/components/ErrorBoundaries"),K=require("~Generic/components/PublicKey"),P=require("~Generic/lib/balances"),A=require("~Generic/lib/routes"),O=require("~Generic/lib/stellar"),k=I(require("~Transaction/components/MemoMessage")),x=I(require("~TransactionReview/components/TransactionReviewDialog")),C=require("~TransactionReview/components/Operations"),M=require("./AccountBalances");function B(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(B=function(e){return e?a:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=B(t);if(a&&a.has(e))return a.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=r?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(n,l,i):n[l]=e[l]}return n.default=e,a&&a.set(e,n),n}function I(e){return e&&e.__esModule?e:{default:e}}var j=e=>Array.from(new Set(e)),_=()=>void 0;function F(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.reduce((e,t)=>e.add(t),(0,e.default)(0))}function L(e){return e.animate?t.default.createElement(l.default,{appear:!0,enter:!1,in:!0,timeout:{enter:1e3}},e.children):t.default.createElement(t.default.Fragment,null,e.children)}function G(e){var n,r=e.amount,l=e.buying,i=e.offerId,o=e.price,c=e.selling,u=(0,a.useTranslation)().t;return n="0"===i?"".concat(u("account.transactions.transaction-list.offer-description.prefix.default"),": "):r.eq(0)?"".concat(u("account.transactions.transaction-list.offer-description.prefix.cancel"),": "):"".concat(u("account.transactions.transaction-list.offer-description.prefix.update"),": "),t.default.createElement(t.default.Fragment,null,n,"manageBuyOffer"===e.type?u("account.transactions.transaction-list.offer-description.buy","Buy ".concat(r.eq(0)?"":(0,P.formatBalance)(r.toString())," ").concat(l.code," for ").concat(r.eq(0)?"":(0,P.formatBalance)(r.mul(o).toString())," ").concat(c.code),{buyingAmount:r.eq(0)?"":(0,P.formatBalance)(r.toString()),buyingCode:l.code,sellingAmount:r.eq(0)?"":(0,P.formatBalance)(r.mul(o).toString()),sellingCode:c.code}):u("account.transactions.transaction-list.offer-description.sell","Sell ".concat(r.eq(0)?"":(0,P.formatBalance)(r.toString())," ").concat(c.code," for ").concat(r.eq(0)?"":(0,P.formatBalance)(r.mul(o).toString())," ").concat(l.code),{buyingAmount:r.eq(0)?"":(0,P.formatBalance)(r.mul(o).toString()),buyingCode:l.code,sellingAmount:r.eq(0)?"":(0,P.formatBalance)(r.toString()),sellingCode:c.code}))}function D(e){var n=(0,a.useTranslation)().t;return 0===e.publicKeys.length?t.default.createElement(t.default.Fragment,null,"-"):1===e.publicKeys.length?t.default.createElement(K.PublicKey,{publicKey:e.publicKeys[0],testnet:e.testnet,variant:e.short?"short":"full"}):t.default.createElement(t.default.Fragment,null,t.default.createElement(K.PublicKey,{publicKey:e.publicKeys[0],testnet:e.testnet,variant:"short"})," ",t.default.createElement("i",null,"+ ",e.publicKeys.length-1," ",n("account.transactions.transaction-list.item.remote-public-keys.more")))}var N=t.default.memo(function(e){var a=new Date(e.time);return t.default.createElement("span",{style:{whiteSpace:"nowrap"}},t.default.createElement(r.default,{time:a.getTime()}))});function z(a){return 1===a.transaction.operations.length&&["manageBuyOffer","manageSellOffer"].includes(a.transaction.operations[0].type)?t.default.createElement(b.default,null):1===a.transaction.operations.length&&"changeTrust"===a.transaction.operations[0].type?(0,e.default)(a.transaction.operations[0].limit).eq(0)?t.default.createElement(p.default,null):t.default.createElement(d.default,null):a.transaction.operations.every(e=>"accountMerge"===e.type)?t.default.createElement(y.default,null):0===a.paymentSummary.length?t.default.createElement(g.default,null):a.paymentSummary.every(e=>e.balanceChange.gt(0))?t.default.createElement(y.default,null):a.paymentSummary.every(e=>e.balanceChange.lt(0))?t.default.createElement(f.default,null):t.default.createElement(b.default,null)}var W=t.default.memo(function(r){var l=(0,C.useOperationTitle)(),i=(0,a.useTranslation)().t,o=r.paymentSummary.reduce((e,t)=>e.concat(t.publicKeys),[]),c=r.transaction.networkPassphrase===n.Networks.TESTNET,s=t.default.useMemo(()=>t.default.createElement("span",{style:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},t.default.createElement(N,{time:r.createdAt}),r.showMemo&&"none"!==r.transaction.memo.type?t.default.createElement(t.default.Fragment,null,"  |  ",t.default.createElement(k.default,{prefix:t.default.createElement(t.default.Fragment,null,i("account.transactions.transaction-list.item.memo"),": "),memo:r.transaction.memo})):null),[r.createdAt,r.showMemo,r.transaction,i]);if(o.length>0&&r.paymentSummary.every(e=>e.balanceChange.gt(0)))return t.default.createElement(u.default,{primary:t.default.createElement("span",null,i("account.transactions.transaction-list.item.from")," ",t.default.createElement(D,{publicKeys:o,short:!0,testnet:c})),primaryTypographyProps:{style:r.style},secondary:s,style:r.style});if(o.length>0&&r.paymentSummary.every(e=>e.balanceChange.lt(0)))return t.default.createElement(u.default,{primary:t.default.createElement("span",null,i("account.transactions.transaction-list.item.to")," ",t.default.createElement(D,{publicKeys:o,short:!0,testnet:c}),r.alwaysShowSource?t.default.createElement("span",null," ",i("account.transactions.transaction-list.item.from")," ",t.default.createElement(K.PublicKey,{publicKey:r.accountPublicKey,testnet:c,variant:"short"})," "):null),primaryTypographyProps:{style:r.style},secondary:s,style:r.style});if(1===r.transaction.operations.length&&"changeTrust"===r.transaction.operations[0].type){var m=r.transaction.operations[0];return(0,e.default)(m.limit).eq(0)?t.default.createElement(u.default,{primary:t.default.createElement("span",null,i("account.transactions.transaction-list.item.trust.remove-trust","Remove trust in asset ".concat((0,O.stringifyAssetToReadableString)(m.line)),{asset:(0,O.stringifyAssetToReadableString)(m.line)}),r.alwaysShowSource?t.default.createElement(t.default.Fragment,null," ","(",t.default.createElement(K.PublicKey,{publicKey:r.accountPublicKey,testnet:c,variant:"short"}),")"):null),primaryTypographyProps:{style:r.style},secondary:s,style:r.style}):t.default.createElement(u.default,{primary:t.default.createElement("span",null,i("account.transactions.transaction-list.item.trust.add-trust","Trust asset ".concat((0,O.stringifyAssetToReadableString)(m.line)),{asset:(0,O.stringifyAssetToReadableString)(m.line)}),r.alwaysShowSource?t.default.createElement(t.default.Fragment,null," ","(",t.default.createElement(K.PublicKey,{publicKey:r.accountPublicKey,testnet:c,variant:"short"}),")"):null),primaryTypographyProps:{style:r.style},secondary:s,style:r.style})}if(1===r.transaction.operations.length&&["manageBuyOffer","manageSellOffer"].includes(r.transaction.operations[0].type)){var d=r.transaction.operations[0],f=(0,e.default)("manageBuyOffer"===d.type?d.buyAmount:d.amount);return"0"===String(d.offerId)?t.default.createElement(u.default,{primary:t.default.createElement("span",null,t.default.createElement(G,Object.assign({},d,{amount:f,price:(0,e.default)(d.price)})),r.alwaysShowSource?t.default.createElement(t.default.Fragment,null," ","(",t.default.createElement(K.PublicKey,{publicKey:r.accountPublicKey,testnet:c,variant:"short"}),")"):null),primaryTypographyProps:{style:r.style},secondary:s,style:r.style}):f.eq(0)?t.default.createElement(u.default,{primary:t.default.createElement("span",null,t.default.createElement(G,Object.assign({},d,{amount:(0,e.default)(0),price:(0,e.default)(d.price)})),r.alwaysShowSource?t.default.createElement(t.default.Fragment,null," ","(",t.default.createElement(K.PublicKey,{publicKey:r.accountPublicKey,testnet:c,variant:"short"}),")"):null),primaryTypographyProps:{style:r.style},secondary:s,style:r.style}):t.default.createElement(u.default,{primary:t.default.createElement("span",null,t.default.createElement(G,Object.assign({},d,{amount:f,price:(0,e.default)(d.price)})),r.alwaysShowSource?t.default.createElement(t.default.Fragment,null," ","(",t.default.createElement(K.PublicKey,{publicKey:r.accountPublicKey,testnet:c,variant:"short"}),")"):null),primaryTypographyProps:{style:r.style},secondary:s,style:r.style})}var y=r.transaction.operations.map(l);return t.default.createElement(u.default,{primary:t.default.createElement("span",null,j(y).join(", ")),primaryTypographyProps:{style:r.style},secondary:s,style:r.style})});function H(e){var a=e.paymentSummary,n=(0,S.useIsMobile)(),r=e.transaction.operations.filter(e=>"createAccount"===e.type),l=e.transaction.operations.filter(e=>"payment"===e.type),i=a.every(t=>t.publicKeys.every(t=>t===e.accountPublicKey))?F(...r.map(e=>e.startingBalance),...l.map(e=>e.amount)):a[0].balanceChange;return t.default.createElement(u.default,{primaryTypographyProps:{align:"right"},style:Object.assign({flexShrink:0},e.style)},0===a.length?null:t.default.createElement(M.SingleBalance,{assetCode:a[0].asset.getCode(),balance:i.toString(),style:n?{fontSize:"1rem"}:{fontSize:"1.4rem"}}))}var J=exports.TransactionListItem=t.default.memo(function(e){var a=t.default.useContext(h.SettingsContext).hideMemos,n=(0,S.useIsMobile)(),r=e.transaction,l=e.onOpenTransaction,i=(0,v.getPaymentSummary)(e.accountPublicKey,r),u=l?()=>l(r.hash().toString("hex")):void 0;return t.default.createElement(o.default,{button:Boolean(u),className:e.className||"",onClick:u,style:e.style},t.default.createElement(c.default,{style:{marginRight:n?0:void 0}},e.icon||t.default.createElement(z,{paymentSummary:i,transaction:r})),t.default.createElement(W,{accountPublicKey:e.accountPublicKey,alwaysShowSource:e.alwaysShowSource,createdAt:e.createdAt,paymentSummary:i,showMemo:!a,style:{fontSize:n?"0.8rem":void 0,fontWeight:"bold",overflow:"hidden",paddingRight:0,textOverflow:"ellipsis"},transaction:r}),t.default.createElement(H,{accountPublicKey:e.accountPublicKey,paymentSummary:i,style:{paddingRight:0},transaction:r}))}),Q=t.default.memo(function(e){var n=(0,a.useTranslation)().t;return t.default.createElement(o.default,{style:{borderBottom:"none",height:75}},t.default.createElement(u.default,{disableTypography:!0,style:{textAlign:"center"}},t.default.createElement(T.ActionButton,{onClick:e.onClick,loading:e.pending,style:{margin:"0 auto",paddingLeft:16,paddingRight:16},variant:"text"},n("account.transactions.transaction-list.load-more.label"))))}),U=(0,m.makeStyles)({listItem:{padding:"8px 24px",[w.breakpoints.down(600)]:{paddingLeft:24,paddingRight:24}}});function V(e){var a=U(),n=(0,S.useIsMobile)(),r=(0,S.useRouter)(),l=(0,A.matchesRoute)(r.location.pathname,E.showTransaction("*","*"))?r.match.params.subaction:null,o=t.default.useMemo(()=>{if(!l)return null;var t=e.transactions.find(e=>e.hash===l),a=t?t.decodedTx:null;return a&&t?Object.assign(a,{created_at:t.created_at}):a},[l,e.transactions]),c=t.default.useCallback(t=>{r.history.push(E.showTransaction(e.account.id,t))},[e.account.id,r.history]),u=t.default.useCallback(()=>{r.history.push(E.account(e.account.id)),setTimeout(()=>{document.activeElement&&document.activeElement.blur()},0)},[e.account.id,r.history]),m=t.default.useMemo(()=>t.default.createElement(t.default.Fragment,null,e.transactions.map(n=>t.default.createElement(L,{key:n.hash,animate:Date.now()-new Date(n.created_at).getTime()<1e4},t.default.createElement(q.InlineErrorBoundary,{height:72},t.default.createElement(J,{key:n.hash,accountPublicKey:e.account.publicKey,className:a.listItem,createdAt:n.created_at,onOpenTransaction:c,transaction:n.decodedTx}))))),[e.transactions,e.account.publicKey,a.listItem,c]);return 0!==e.transactions.length||e.olderTransactionsAvailable?t.default.createElement(i.default,{disablePadding:n,style:{background:e.background}},t.default.createElement(s.default,{className:a.listItem,disableSticky:!0,style:{background:e.background}},e.title),m,e.olderTransactionsAvailable?t.default.createElement(Q,{pending:e.loadingMoreTransactions,onClick:e.onFetchMoreTransactions}):null,t.default.createElement(x.default,{open:null!==o,account:e.account,disabled:!0,showSource:!0,showSubmissionProgress:!1,transaction:o,onClose:u,onSubmitTransaction:_})):null}var X=exports.default=t.default.memo(V);
},{"big.js":"NYl1","react":"n8MK","react-i18next":"LuhD","stellar-sdk":"n9dh","react-human-time":"XVD8","@material-ui/core/Collapse":"uPhD","@material-ui/core/List":"HMJ1","@material-ui/core/ListItem":"vro7","@material-ui/core/ListItemIcon":"lJBu","@material-ui/core/ListItemText":"FcKO","@material-ui/core/ListSubheader":"wSFK","@material-ui/core/styles":"UUDD","@material-ui/icons/Add":"NKXr","@material-ui/icons/CallMade":"ryyR","@material-ui/icons/CallReceived":"cZ2a","@material-ui/icons/Remove":"PBsU","@material-ui/icons/Settings":"g4gl","@material-ui/icons/SwapHoriz":"ZiLG","~App/contexts/settings":"a27z","~App/routes":"kQ9N","~Generic/hooks/userinterface":"rVD3","~Generic/lib/paymentSummary":"iu89","~App/theme":"j28y","~Generic/components/DialogActions":"wklB","~Generic/components/ErrorBoundaries":"KnCo","~Generic/components/PublicKey":"ANfc","~Generic/lib/balances":"HJwV","~Generic/lib/routes":"uNGg","~Generic/lib/stellar":"B7Y0","~Transaction/components/MemoMessage":"qV5M","~TransactionReview/components/TransactionReviewDialog":"YfIG","~TransactionReview/components/Operations":"l05Z","./AccountBalances":"c6ok"}],"eoWf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SignatureRequestList=exports.InteractiveSignatureRequestList=void 0;var e=d(require("@material-ui/core/ListSubheader")),t=require("@stellarguard/stellar-uri"),r=d(require("react")),n=require("~Generic/hooks/userinterface"),a=require("~Generic/lib/routes"),o=f(require("~App/routes")),u=require("~Generic/components/ErrorBoundaries"),i=require("~Layout/components/List"),s=require("./TransactionList"),c=d(require("~Transaction/components/TransactionSender"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return v(e)||g(e,t)||h(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,u,i=[],s=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw a}}return i}}function v(e){if(Array.isArray(e))return e}function b(e){var n=e.onOpenTransaction,a=e.signatureRequest,o=r.default.useMemo(()=>new t.TransactionStellarUri(a.req).getTransaction(),[a.req]),u=r.default.useCallback(n?()=>n(o,a):()=>void 0,[n,a,o]);return r.default.createElement(s.TransactionListItem,{alwaysShowSource:!0,accountPublicKey:o.source,createdAt:a.created_at,icon:e.icon,onOpenTransaction:u,style:e.style,transaction:o})}var q=exports.SignatureRequestList=r.default.memo(function(s){var c=s.sendTransaction,l=(0,n.useRouter)();r.default.useEffect(()=>{var e=e=>{if((0,a.matchesRoute)(e,o.showTransaction("*","*"))){var r=p(e.replace(/^\//,"").split("/"),4)[3],n=s.signatureRequests.find(e=>e.hash===r);if(n){var u=new t.TransactionStellarUri(n.req);c(u.getTransaction(),n)}}};return e(l.location.pathname),l.history.listen(t=>{e(t.pathname)})},[l.history,l.location.pathname,c,s.signatureRequests]);var f=(e,t)=>{l.history.push(o.showTransaction(s.account.id,t.hash))};return 0===s.signatureRequests.length?null:r.default.createElement(r.default.Fragment,null,r.default.createElement(i.List,{style:{background:"transparent"}},r.default.createElement(e.default,{disableSticky:!0,style:{background:"transparent"}},s.title),s.signatureRequests.map(e=>r.default.createElement(u.InlineErrorBoundary,{height:72,key:e.hash},r.default.createElement(b,{icon:s.icon,onOpenTransaction:f,signatureRequest:e,style:{minHeight:72}})))))}),T=exports.InteractiveSignatureRequestList=r.default.memo(e=>{var t=(0,n.useRouter)(),u=!(0,a.matchesRoute)(t.location.pathname,o.showTransaction("*","*")),i=r.default.useCallback(()=>{t.history.push(o.routeUp(t.location.pathname))},[t]);return r.default.createElement(c.default,{account:e.account,forceClose:u,onCloseTransactionDialog:i},t=>{var n=t.sendTransaction;return r.default.createElement(q,{account:e.account,icon:e.icon,sendTransaction:n,signatureRequests:e.signatureRequests,title:e.title})})});
},{"@material-ui/core/ListSubheader":"wSFK","@stellarguard/stellar-uri":"QNvY","react":"n8MK","~Generic/hooks/userinterface":"rVD3","~Generic/lib/routes":"uNGg","~App/routes":"kQ9N","~Generic/components/ErrorBoundaries":"KnCo","~Layout/components/List":"p5oS","./TransactionList":"pVpQ","~Transaction/components/TransactionSender":"bNi5"}],"RXkO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=C(require("react")),t=require("react-i18next"),n=C(require("@material-ui/icons/DoneAll")),r=C(require("@material-ui/icons/CreditCard")),a=C(require("@material-ui/icons/Update")),u=require("~App/contexts/settings"),i=require("~App/contexts/signatureDelegation"),o=require("~Generic/hooks/stellar"),l=require("~Generic/hooks/stellar-subscriptions"),s=require("~Generic/hooks/userinterface"),c=require("~Generic/hooks/util"),f=C(require("~Generic/hooks/useFilteredTransactions")),d=x(require("~App/routes")),p=C(require("~Generic/components/MainSelectionButton")),m=require("~Layout/components/Box"),g=C(require("./FriendbotButton")),y=C(require("./OfferList")),b=require("./SignatureRequestList"),q=C(require("./TransactionList")),v=require("~Generic/lib/transaction");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(r,u,i):r[u]=e[u]}return r.default=e,n&&n.set(e,r),r}function C(e){return e&&e.__esModule?e:{default:e}}function M(e,t){return T(e)||A(e,t)||E(e,t)||O()}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,u,i,o=[],l=!0,s=!1;try{if(u=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return o}}function T(e){if(Array.isArray(e))return e}var k=(e,t)=>!t.decodedTx.operations.every(t=>"createClaimableBalance"===t.type||"claimClaimableBalance"===t.type&&t.source!==e.publicKey),w=(e,t)=>!(0,v.isDustTransaction)(t.decodedTx,e);function j(r){var u=e.default.useContext(i.SignatureDelegationContext).pendingSignatureRequests,o=(0,t.useTranslation)().t,l=e.default.useMemo(()=>e.default.createElement(n.default,null),[]),s=e.default.useMemo(()=>e.default.createElement(a.default,{style:{opacity:.5}}),[]),c=e.default.useMemo(()=>u.filter(e=>"submitted"!==e.status&&e.signers.some(e=>e===r.account.publicKey)&&-1===e.signed_by.indexOf(r.account.publicKey)),[r.account,u]),f=e.default.useMemo(()=>u.filter(e=>"submitted"!==e.status&&e.signers.some(e=>e===r.account.publicKey)&&e.signed_by.indexOf(r.account.publicKey)>-1),[r.account,u]);return e.default.createElement(e.default.Fragment,null,e.default.createElement(b.InteractiveSignatureRequestList,{account:r.account,icon:l,signatureRequests:c,title:o("account.transactions.signature-request-list.title.requests-to-cosign")}),e.default.createElement(b.InteractiveSignatureRequestList,{account:r.account,icon:s,signatureRequests:f,title:o("account.transactions.signature-request-list.title.requests-waiting-for-others")}))}function _(n){var a=n.account,i=e.default.useContext(u.SettingsContext),b=i.showDust,v=i.showClaimableBalanceTxs,h=(0,t.useTranslation)().t,x=(0,l.useLiveAccountData)(a.accountID,a.testnet),C=(0,o.useHorizonURLs)(a.testnet),O=(0,s.useIsMobile)(),E=M((0,c.useLoadingState)(),2),S=E[0],A=E[1],T=e.default.useCallback(e=>e.filter(e=>(v||k(a,e))&&(b||w(a,e))),[]),_=(0,f.default)(a.accountID,a.testnet,T),L=_.transactions,D=_.olderTransactionsAvailable,I=_.fetchMoreTransactions,R=(0,s.useRouter)(),B=e.default.useContext(u.SettingsContext),F=e.default.useCallback(()=>A(I()),[I,A]),G=e.default.useCallback(()=>R.history.push(d.depositAsset(a.id)),[a,R]);return e.default.createElement(e.default.Fragment,null,x.balances.length>0?e.default.createElement(e.default.Fragment,null,B.multiSignature?e.default.createElement(j,{account:a}):null,e.default.createElement(y.default,{account:a,title:h("account.transactions.offer-list.title")}),e.default.createElement(q.default,{account:a,background:"transparent",loadingMoreTransactions:"pending"===S.type,olderTransactionsAvailable:D,onFetchMoreTransactions:F,title:h("account.transactions.transaction-list.title"),transactions:L})):e.default.createElement(e.default.Fragment,null,e.default.createElement(m.VerticalLayout,{alignItems:"stretch",margin:"0 auto",style:{padding:O?"16px 28px":"32px 28px",width:"fit-content"}},a.testnet?e.default.createElement(g.default,{horizonURL:C[0],publicKey:a.publicKey,style:{marginBottom:O?16:32}}):null,e.default.createElement(p.default,{Icon:r.default,description:h("account.transactions.action.navigate-to-deposit.description"),label:h("account.transactions.action.navigate-to-deposit.label"),onClick:G}))))}var L=exports.default=e.default.memo(_);
},{"react":"n8MK","react-i18next":"LuhD","@material-ui/icons/DoneAll":"I59m","@material-ui/icons/CreditCard":"ZVxi","@material-ui/icons/Update":"gz3s","~App/contexts/settings":"a27z","~App/contexts/signatureDelegation":"xkYR","~Generic/hooks/stellar":"tg2C","~Generic/hooks/stellar-subscriptions":"aNYm","~Generic/hooks/userinterface":"rVD3","~Generic/hooks/util":"IVjY","~Generic/hooks/useFilteredTransactions":"j9ES","~App/routes":"kQ9N","~Generic/components/MainSelectionButton":"f7c1","~Layout/components/Box":"YhZi","./FriendbotButton":"jtIX","./OfferList":"QsGy","./SignatureRequestList":"eoWf","./TransactionList":"pVpQ","~Generic/lib/transaction":"abl7"}]},{},[], null)