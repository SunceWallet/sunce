{"version":3,"file":"web-OrCDcvNT.js","sources":["../node_modules/fast-sha256/sha256.js","../node_modules/tweetnacl-util/nacl-util.js","../node_modules/key-store/lib/index.js","../src/Platform/ipc/web.ts"],"sourcesContent":["(function (root, factory) {\n    // Hack to make all exports of this module sha256 function object properties.\n    var exports = {};\n    factory(exports);\n    var sha256 = exports[\"default\"];\n    for (var k in exports) {\n        sha256[k] = exports[k];\n    }\n        \n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = sha256;\n    } else if (typeof define === 'function' && define.amd) {\n        define(function() { return sha256; }); \n    } else {\n        root.sha256 = sha256;\n    }\n})(this, function(exports) {\n\"use strict\";\nexports.__esModule = true;\n// SHA-256 (+ HMAC and PBKDF2) for JavaScript.\n//\n// Written in 2014-2016 by Dmitry Chestnykh.\n// Public domain, no warranty.\n//\n// Functions (accept and return Uint8Arrays):\n//\n//   sha256(message) -> hash\n//   sha256.hmac(key, message) -> mac\n//   sha256.pbkdf2(password, salt, rounds, dkLen) -> dk\n//\n//  Classes:\n//\n//   new sha256.Hash()\n//   new sha256.HMAC(key)\n//\nexports.digestLength = 32;\nexports.blockSize = 64;\n// SHA-256 constants\nvar K = new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b,\n    0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01,\n    0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7,\n    0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n    0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152,\n    0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n    0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc,\n    0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819,\n    0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08,\n    0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,\n    0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n    0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\nfunction hashBlocks(w, v, p, pos, len) {\n    var a, b, c, d, e, f, g, h, u, i, j, t1, t2;\n    while (len >= 64) {\n        a = v[0];\n        b = v[1];\n        c = v[2];\n        d = v[3];\n        e = v[4];\n        f = v[5];\n        g = v[6];\n        h = v[7];\n        for (i = 0; i < 16; i++) {\n            j = pos + i * 4;\n            w[i] = (((p[j] & 0xff) << 24) | ((p[j + 1] & 0xff) << 16) |\n                ((p[j + 2] & 0xff) << 8) | (p[j + 3] & 0xff));\n        }\n        for (i = 16; i < 64; i++) {\n            u = w[i - 2];\n            t1 = (u >>> 17 | u << (32 - 17)) ^ (u >>> 19 | u << (32 - 19)) ^ (u >>> 10);\n            u = w[i - 15];\n            t2 = (u >>> 7 | u << (32 - 7)) ^ (u >>> 18 | u << (32 - 18)) ^ (u >>> 3);\n            w[i] = (t1 + w[i - 7] | 0) + (t2 + w[i - 16] | 0);\n        }\n        for (i = 0; i < 64; i++) {\n            t1 = (((((e >>> 6 | e << (32 - 6)) ^ (e >>> 11 | e << (32 - 11)) ^\n                (e >>> 25 | e << (32 - 25))) + ((e & f) ^ (~e & g))) | 0) +\n                ((h + ((K[i] + w[i]) | 0)) | 0)) | 0;\n            t2 = (((a >>> 2 | a << (32 - 2)) ^ (a >>> 13 | a << (32 - 13)) ^\n                (a >>> 22 | a << (32 - 22))) + ((a & b) ^ (a & c) ^ (b & c))) | 0;\n            h = g;\n            g = f;\n            f = e;\n            e = (d + t1) | 0;\n            d = c;\n            c = b;\n            b = a;\n            a = (t1 + t2) | 0;\n        }\n        v[0] += a;\n        v[1] += b;\n        v[2] += c;\n        v[3] += d;\n        v[4] += e;\n        v[5] += f;\n        v[6] += g;\n        v[7] += h;\n        pos += 64;\n        len -= 64;\n    }\n    return pos;\n}\n// Hash implements SHA256 hash algorithm.\nvar Hash = /** @class */ (function () {\n    function Hash() {\n        this.digestLength = exports.digestLength;\n        this.blockSize = exports.blockSize;\n        // Note: Int32Array is used instead of Uint32Array for performance reasons.\n        this.state = new Int32Array(8); // hash state\n        this.temp = new Int32Array(64); // temporary state\n        this.buffer = new Uint8Array(128); // buffer for data to hash\n        this.bufferLength = 0; // number of bytes in buffer\n        this.bytesHashed = 0; // number of total bytes hashed\n        this.finished = false; // indicates whether the hash was finalized\n        this.reset();\n    }\n    // Resets hash state making it possible\n    // to re-use this instance to hash other data.\n    Hash.prototype.reset = function () {\n        this.state[0] = 0x6a09e667;\n        this.state[1] = 0xbb67ae85;\n        this.state[2] = 0x3c6ef372;\n        this.state[3] = 0xa54ff53a;\n        this.state[4] = 0x510e527f;\n        this.state[5] = 0x9b05688c;\n        this.state[6] = 0x1f83d9ab;\n        this.state[7] = 0x5be0cd19;\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        this.finished = false;\n        return this;\n    };\n    // Cleans internal buffers and re-initializes hash state.\n    Hash.prototype.clean = function () {\n        for (var i = 0; i < this.buffer.length; i++) {\n            this.buffer[i] = 0;\n        }\n        for (var i = 0; i < this.temp.length; i++) {\n            this.temp[i] = 0;\n        }\n        this.reset();\n    };\n    // Updates hash state with the given data.\n    //\n    // Optionally, length of the data can be specified to hash\n    // fewer bytes than data.length.\n    //\n    // Throws error when trying to update already finalized hash:\n    // instance must be reset to use it again.\n    Hash.prototype.update = function (data, dataLength) {\n        if (dataLength === void 0) { dataLength = data.length; }\n        if (this.finished) {\n            throw new Error(\"SHA256: can't update because hash was finished.\");\n        }\n        var dataPos = 0;\n        this.bytesHashed += dataLength;\n        if (this.bufferLength > 0) {\n            while (this.bufferLength < 64 && dataLength > 0) {\n                this.buffer[this.bufferLength++] = data[dataPos++];\n                dataLength--;\n            }\n            if (this.bufferLength === 64) {\n                hashBlocks(this.temp, this.state, this.buffer, 0, 64);\n                this.bufferLength = 0;\n            }\n        }\n        if (dataLength >= 64) {\n            dataPos = hashBlocks(this.temp, this.state, data, dataPos, dataLength);\n            dataLength %= 64;\n        }\n        while (dataLength > 0) {\n            this.buffer[this.bufferLength++] = data[dataPos++];\n            dataLength--;\n        }\n        return this;\n    };\n    // Finalizes hash state and puts hash into out.\n    //\n    // If hash was already finalized, puts the same value.\n    Hash.prototype.finish = function (out) {\n        if (!this.finished) {\n            var bytesHashed = this.bytesHashed;\n            var left = this.bufferLength;\n            var bitLenHi = (bytesHashed / 0x20000000) | 0;\n            var bitLenLo = bytesHashed << 3;\n            var padLength = (bytesHashed % 64 < 56) ? 64 : 128;\n            this.buffer[left] = 0x80;\n            for (var i = left + 1; i < padLength - 8; i++) {\n                this.buffer[i] = 0;\n            }\n            this.buffer[padLength - 8] = (bitLenHi >>> 24) & 0xff;\n            this.buffer[padLength - 7] = (bitLenHi >>> 16) & 0xff;\n            this.buffer[padLength - 6] = (bitLenHi >>> 8) & 0xff;\n            this.buffer[padLength - 5] = (bitLenHi >>> 0) & 0xff;\n            this.buffer[padLength - 4] = (bitLenLo >>> 24) & 0xff;\n            this.buffer[padLength - 3] = (bitLenLo >>> 16) & 0xff;\n            this.buffer[padLength - 2] = (bitLenLo >>> 8) & 0xff;\n            this.buffer[padLength - 1] = (bitLenLo >>> 0) & 0xff;\n            hashBlocks(this.temp, this.state, this.buffer, 0, padLength);\n            this.finished = true;\n        }\n        for (var i = 0; i < 8; i++) {\n            out[i * 4 + 0] = (this.state[i] >>> 24) & 0xff;\n            out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n            out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n            out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n        }\n        return this;\n    };\n    // Returns the final hash digest.\n    Hash.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    // Internal function for use in HMAC for optimization.\n    Hash.prototype._saveState = function (out) {\n        for (var i = 0; i < this.state.length; i++) {\n            out[i] = this.state[i];\n        }\n    };\n    // Internal function for use in HMAC for optimization.\n    Hash.prototype._restoreState = function (from, bytesHashed) {\n        for (var i = 0; i < this.state.length; i++) {\n            this.state[i] = from[i];\n        }\n        this.bytesHashed = bytesHashed;\n        this.finished = false;\n        this.bufferLength = 0;\n    };\n    return Hash;\n}());\nexports.Hash = Hash;\n// HMAC implements HMAC-SHA256 message authentication algorithm.\nvar HMAC = /** @class */ (function () {\n    function HMAC(key) {\n        this.inner = new Hash();\n        this.outer = new Hash();\n        this.blockSize = this.inner.blockSize;\n        this.digestLength = this.inner.digestLength;\n        var pad = new Uint8Array(this.blockSize);\n        if (key.length > this.blockSize) {\n            (new Hash()).update(key).finish(pad).clean();\n        }\n        else {\n            for (var i = 0; i < key.length; i++) {\n                pad[i] = key[i];\n            }\n        }\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36;\n        }\n        this.inner.update(pad);\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36 ^ 0x5c;\n        }\n        this.outer.update(pad);\n        this.istate = new Uint32Array(8);\n        this.ostate = new Uint32Array(8);\n        this.inner._saveState(this.istate);\n        this.outer._saveState(this.ostate);\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] = 0;\n        }\n    }\n    // Returns HMAC state to the state initialized with key\n    // to make it possible to run HMAC over the other data with the same\n    // key without creating a new instance.\n    HMAC.prototype.reset = function () {\n        this.inner._restoreState(this.istate, this.inner.blockSize);\n        this.outer._restoreState(this.ostate, this.outer.blockSize);\n        return this;\n    };\n    // Cleans HMAC state.\n    HMAC.prototype.clean = function () {\n        for (var i = 0; i < this.istate.length; i++) {\n            this.ostate[i] = this.istate[i] = 0;\n        }\n        this.inner.clean();\n        this.outer.clean();\n    };\n    // Updates state with provided data.\n    HMAC.prototype.update = function (data) {\n        this.inner.update(data);\n        return this;\n    };\n    // Finalizes HMAC and puts the result in out.\n    HMAC.prototype.finish = function (out) {\n        if (this.outer.finished) {\n            this.outer.finish(out);\n        }\n        else {\n            this.inner.finish(out);\n            this.outer.update(out, this.digestLength).finish(out);\n        }\n        return this;\n    };\n    // Returns message authentication code.\n    HMAC.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    return HMAC;\n}());\nexports.HMAC = HMAC;\n// Returns SHA256 hash of data.\nfunction hash(data) {\n    var h = (new Hash()).update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hash = hash;\n// Function hash is both available as module.hash and as default export.\nexports[\"default\"] = hash;\n// Returns HMAC-SHA256 of data under the key.\nfunction hmac(key, data) {\n    var h = (new HMAC(key)).update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hmac = hmac;\n// Derives a key from password and salt using PBKDF2-HMAC-SHA256\n// with the given number of iterations.\n//\n// The number of bytes returned is equal to dkLen.\n//\n// (For better security, avoid dkLen greater than hash length - 32 bytes).\nfunction pbkdf2(password, salt, iterations, dkLen) {\n    var prf = new HMAC(password);\n    var len = prf.digestLength;\n    var ctr = new Uint8Array(4);\n    var t = new Uint8Array(len);\n    var u = new Uint8Array(len);\n    var dk = new Uint8Array(dkLen);\n    for (var i = 0; i * len < dkLen; i++) {\n        var c = i + 1;\n        ctr[0] = (c >>> 24) & 0xff;\n        ctr[1] = (c >>> 16) & 0xff;\n        ctr[2] = (c >>> 8) & 0xff;\n        ctr[3] = (c >>> 0) & 0xff;\n        prf.reset();\n        prf.update(salt);\n        prf.update(ctr);\n        prf.finish(u);\n        for (var j = 0; j < len; j++) {\n            t[j] = u[j];\n        }\n        for (var j = 2; j <= iterations; j++) {\n            prf.reset();\n            prf.update(u).finish(u);\n            for (var k = 0; k < len; k++) {\n                t[k] ^= u[k];\n            }\n        }\n        for (var j = 0; j < len && i * len + j < dkLen; j++) {\n            dk[i * len + j] = t[j];\n        }\n    }\n    for (var i = 0; i < len; i++) {\n        t[i] = u[i] = 0;\n    }\n    for (var i = 0; i < 4; i++) {\n        ctr[i] = 0;\n    }\n    prf.clean();\n    return dk;\n}\nexports.pbkdf2 = pbkdf2;\n});\n","// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sha256 = __importStar(require(\"fast-sha256\"));\nvar tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nvar tweetnacl_util_1 = __importDefault(require(\"tweetnacl-util\"));\nfunction randomNonce() {\n    return tweetnacl_util_1.default.encodeBase64(tweetnacl_1.default.randomBytes(tweetnacl_1.default.secretbox.nonceLength));\n}\nfunction deriveHashFromPassword(password, metadata) {\n    return sha256.pbkdf2(tweetnacl_util_1.default.decodeUTF8(password), tweetnacl_util_1.default.decodeBase64(metadata.nonce), metadata.iterations, tweetnacl_1.default.secretbox.keyLength);\n}\nfunction decrypt(encryptedBase64, metadata, password) {\n    var secretKey = deriveHashFromPassword(password, metadata);\n    var decrypted = tweetnacl_1.default.secretbox.open(tweetnacl_util_1.default.decodeBase64(encryptedBase64), tweetnacl_util_1.default.decodeBase64(metadata.nonce), secretKey);\n    if (!decrypted) {\n        throw new Error('Decryption failed.');\n    }\n    return JSON.parse(tweetnacl_util_1.default.encodeUTF8(decrypted));\n}\nfunction encrypt(privateData, metadata, password) {\n    var secretKey = deriveHashFromPassword(password, metadata);\n    var data = tweetnacl_util_1.default.decodeUTF8(JSON.stringify(privateData));\n    var encrypted = tweetnacl_1.default.secretbox(data, tweetnacl_util_1.default.decodeBase64(metadata.nonce), secretKey);\n    return tweetnacl_util_1.default.encodeBase64(encrypted);\n}\nfunction createStore(save, initialKeys, options) {\n    if (initialKeys === void 0) { initialKeys = {}; }\n    if (options === void 0) { options = {}; }\n    var _a = options.iterations, iterations = _a === void 0 ? 10000 : _a;\n    var keysData = initialKeys;\n    function saveKey(keyID, password, privateData, publicData) {\n        if (publicData === void 0) { publicData = {}; }\n        // Important: Do not re-use previous metadata!\n        // Use a fresh nonce. Also the previous metadata might have been forged.\n        var metadata = {\n            nonce: randomNonce(),\n            iterations: iterations\n        };\n        keysData[keyID] = {\n            metadata: metadata,\n            public: publicData,\n            private: encrypt(privateData, metadata, password)\n        };\n    }\n    return {\n        getKeyIDs: function () {\n            return Object.keys(keysData);\n        },\n        getPublicKeyData: function (keyID) {\n            return keysData[keyID].public;\n        },\n        getPrivateKeyData: function (keyID, password) {\n            return decrypt(keysData[keyID].private, keysData[keyID].metadata, password);\n        },\n        saveKey: function (keyID, password, privateData, publicData) {\n            if (publicData === void 0) { publicData = {}; }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            saveKey(keyID, password, privateData, publicData);\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        saveKeys: function (data) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            data.forEach(function (d) { return saveKey(d.keyID, d.password, d.privateData, d.publicData); });\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        savePublicKeyData: function (keyID, publicData) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!keysData[keyID]) {\n                                // Prevent creating an incomplete key record\n                                throw new Error(\"Cannot save public data for key \" + keyID + \". Key does not yet exist in store.\");\n                            }\n                            keysData[keyID] = __assign({}, keysData[keyID], { public: publicData });\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        removeKey: function (keyID) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!keysData[keyID]) {\n                                throw new Error(\"Cannot delete key \" + keyID + \". Key not found.\");\n                            }\n                            delete keysData[keyID];\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        }\n    };\n}\nexports.createStore = createStore;\n","import { createStore, KeysData } from \"key-store\"\nimport { Networks, Keypair, Transaction } from \"stellar-sdk\"\nimport { Messages } from \"../../shared/ipc\"\nimport { WrongPasswordError } from \"../../Generic/lib/errors\"\n\ntype CallHandler = (...args: any) => any\n\ninterface CallHandlers {\n  [messageType: string]: CallHandler\n}\n\nconst callHandlers: CallHandlers = {}\n\nexport function call<Message extends keyof IPC.MessageType>(\n  messageType: Message,\n  ...args: IPC.MessageArgs<Message>\n): Promise<IPC.MessageReturnType<Message>> {\n  return new Promise<IPC.MessageReturnType<Message>>((resolve, reject) => {\n    try {\n      const handler = callHandlers[messageType]\n      if (handler) {\n        const result = handler(...args)\n        resolve(result)\n      } else {\n        reject(`No handler for ${messageType} found.`)\n      }\n    } catch (error) {\n      reject(error)\n    }\n  })\n}\n\ntype UnsubscribeFn = () => void\n\nexport function subscribeToMessages<Message extends keyof IPC.MessageType>(\n  messageType: Message,\n  callback: (message: any) => void\n): UnsubscribeFn {\n  // subscribing to deep link urls is the only use case right now\n  return messageType === Messages.DeepLinkURL ? subscribeToDeepLinkURLs(callback) : () => undefined\n}\n\ncallHandlers[Messages.CopyToClipboard] = (text: string) => (navigator as any).clipboard.writeText(text)\ncallHandlers[Messages.OpenLink] = (href: string) => window.open(href, \"_blank\")\n\ncallHandlers[Messages.CheckUpdateAvailability] = () => false\ncallHandlers[Messages.StartUpdate] = () => undefined\n\ncallHandlers[Messages.NotificationPermission] = () => window.Notification.permission\ncallHandlers[Messages.RequestNotificationPermission] = window.Notification.requestPermission\ncallHandlers[Messages.ShowNotification] = (localNotification: LocalNotification) => {\n  return new Promise<void>(resolve => {\n    const notification = new Notification(localNotification.title, { body: localNotification.text })\n\n    notification.addEventListener(\"click\", () => {\n      resolve()\n      notification.close()\n    })\n  })\n}\n\nlet isDefault = false\nlet differentHandler = true\ncallHandlers[Messages.IsDifferentHandlerInstalled] = () => differentHandler\ncallHandlers[Messages.IsDefaultProtocolClient] = () => isDefault\ncallHandlers[Messages.SetAsDefaultProtocolClient] = () => {\n  window.navigator.registerProtocolHandler(\n    \"web+stellar\",\n    `${window.location.origin}/?uri=%s`,\n    \"Stellar request handler\"\n  )\n  isDefault = true\n  differentHandler = false\n  return true\n}\n\nconst defaultTestingKeys: KeysData<PublicKeyData> = {\n  \"1\": {\n    metadata: {\n      nonce: \"19sHNxecdiik6chwGFgZVk9UJoG2k8B+\",\n      iterations: 10000\n    },\n    public: {\n      name: \"Test account\",\n      password: false,\n      publicKey: \"GBPBFWVBADSESGADWEGC7SGTHE3535FWK4BS6UW3WMHX26PHGIH5NF4W\",\n      testnet: true\n    },\n    private:\n      \"F6SxXmjdLgxPI3msiNWZ7RGHoBwYEdFICLHJqzIZOADn71lfBYFD/qvQxcD9L1Wq495cDek0RlNLGF2fNK8P48A+B7Hfk8hWL+o5EbPd1ql20r7SfxVh9o0=\"\n  },\n  \"2\": {\n    metadata: {\n      nonce: \"PvRwEZlBBIdwo3BPrPCxMpjsxmDbQI1r\",\n      iterations: 10000\n    },\n    public: {\n      name: \"Test account with password\",\n      password: true,\n      publicKey: \"GBPBFWVBADSESGADWEGC7SGTHE3535FWK4BS6UW3WMHX26PHGIH5NF4W\",\n      testnet: true\n    },\n    private:\n      \"5VzbN/Y5S1CfizJnnIejm8ku4KsG5cPvRht6BoZ8HalOOKdOt66Ra/rjoNlMbh45Et+25iGggzj+IlFvpepmuaEFcdqj5myEJspcy4GGwn+9TtA+KmUDcRI=\"\n  },\n  \"3\": {\n    metadata: {\n      nonce: \"ChxQagEiuX/R98SEtdL/vT8HiebThI5X\",\n      iterations: 10000\n    },\n    public: {\n      name: \"Multisig Account\",\n      password: false,\n      publicKey: \"GDNVDG37WMKPEIXSJRBAQAVPO5WGOPKZRZZBPLWXULSX6NQNLNQP6CFF\",\n      testnet: true\n    },\n    private:\n      \"XFZM+iKm5YM6v2KdABGyczb9D51IdFPM3ibRhrVGfMonOKV8dVKvqC9JA1ylfcbEpzUaIUwPBjAxk7SIgcGhtjrqenp0Bj1QPqZwSWmAB5q5pfb5aLTdwVc=\"\n  }\n}\n\ninitKeyStore()\ninitSettings()\n\nfunction initKeyStore() {\n  // TODO: Change this before release!\n  const keys = localStorage.getItem(\"sunce:keys\")\n  const initialKeys = keys ? JSON.parse(keys) : defaultTestingKeys\n\n  function saveKeys(keysData: KeysData<PublicKeyData>) {\n    localStorage.setItem(\"sunce:keys\", JSON.stringify(keysData))\n  }\n  // Create a key store with a high number of iterations to make it harder to brute-force, default is only 10000.\n  const keyStore = createStore<PrivateKeyData, PublicKeyData>(saveKeys, initialKeys, { iterations: 250000 })\n\n  callHandlers[Messages.GetKeyIDs] = keyStore.getKeyIDs\n  callHandlers[Messages.GetPublicKeyData] = keyStore.getPublicKeyData\n  callHandlers[Messages.GetPrivateKeyData] = keyStore.getPrivateKeyData\n  callHandlers[Messages.RemoveKey] = keyStore.removeKey\n  callHandlers[Messages.SaveKey] = keyStore.saveKey\n  callHandlers[Messages.SavePublicKeyData] = keyStore.savePublicKeyData\n\n  function signTransaction(internalAccountID: string, transactionXDR: string, password: string) {\n    try {\n      const account = keyStore.getPublicKeyData(internalAccountID)\n      const networkPassphrase = account.testnet ? Networks.TESTNET : Networks.PUBLIC\n      const transaction = new Transaction(transactionXDR, networkPassphrase)\n\n      const privateKey = keyStore.getPrivateKeyData(internalAccountID, password).privateKey\n\n      transaction.sign(Keypair.fromSecret(privateKey))\n\n      return transaction\n        .toEnvelope()\n        .toXDR()\n        .toString(\"base64\")\n    } catch (error) {\n      throw WrongPasswordError()\n    }\n  }\n\n  callHandlers[Messages.SignTransaction] = signTransaction\n}\n\nconst defaultSettings: Platform.SettingsData = {\n  agreedToTermsAt: \"2019-01-17T07:34:05.688Z\",\n  biometricLock: false,\n  multisignature: true,\n  testnet: true,\n  trustedServices: [],\n  hideMemos: false,\n  showDust: false,\n  showClaimableBalanceTxs: false\n}\n\nfunction initSettings() {\n  const storedSettings = localStorage.getItem(\"sunce:settings\")\n  let settings = storedSettings ? JSON.parse(storedSettings) : defaultSettings\n\n  callHandlers[Messages.BioAuthAvailable] = () => ({ available: false, enrolled: false })\n\n  callHandlers[Messages.ReadSettings] = () => settings\n  callHandlers[Messages.StoreSettings] = (updatedSettings: Partial<Platform.SettingsData>) => {\n    settings = {\n      ...settings,\n      ...updatedSettings\n    }\n\n    localStorage.setItem(\"sunce:settings\", JSON.stringify(settings))\n  }\n\n  callHandlers[Messages.ReadIgnoredSignatureRequestHashes] = () => {\n    const data = window.localStorage.getItem(\"wallet:storage:ignoredSignatureRequests\")\n    return data ? JSON.parse(data) : []\n  }\n\n  callHandlers[Messages.StoreIgnoredSignatureRequestHashes] = (updatedSignatureRequestHashes: string[]) => {\n    window.localStorage.setItem(\n      \"wallet:storage:ignoredSignatureRequests\",\n      JSON.stringify(updatedSignatureRequestHashes)\n    )\n  }\n}\n\nfunction subscribeToDeepLinkURLs(callback: (url: string) => void) {\n  // check if a stellar uri has been passed already\n  const uri = new URLSearchParams(window.location.search).get(\"uri\")\n  if (uri) {\n    callback(uri)\n  }\n\n  // no way to unsubscribe\n  return () => undefined\n}\n"],"names":["sha256","this","Hash","HMAC","resolve","require$$0","require$$1","require$$2","_a","createStore","Networks","Transaction","Keypair"],"mappings":"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","x_google_ignoreList":[0,1,2]}