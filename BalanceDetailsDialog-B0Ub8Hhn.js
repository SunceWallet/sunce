import{b_ as Le,b$ as ae,r as N,f as xe,R as n,a6 as w,Z as Q,av as De,b9 as Me,$ as B,H as F,ax as _,ai as M,aS as Re,b1 as q,aa as Y,ad as H,a0 as Oe,a1 as se,a2 as fe,au as $,al as _e,c0 as Be,bv as G,c1 as Se,bK as ye,ak as K,aZ as ve,a$ as ke,aM as ze,c2 as ie,Y as Pe,aE as Ne,a9 as We,a_ as Ue,bd as Fe,ap as Ge,bf as Ke}from"./app-TIsuwqEK.js";import{S as $e,L as oe,d as le,B as Je,A as be,V as He,T as Ve,u as Ze,h as Xe,i as W,c as Qe,m as re,j as qe,k as V,s as Ye,l as je}from"./app-stage2-D0Y65gPS.js";var ce=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function et(t,e){return!!(t===e||ce(t)&&ce(e))}function tt(t,e){if(t.length!==e.length)return!1;for(var s=0;s<t.length;s++)if(!et(t[s],e[s]))return!1;return!0}function Z(t,e){e===void 0&&(e=tt);var s,l=[],r,h=!1;function d(){for(var g=[],c=0;c<arguments.length;c++)g[c]=arguments[c];return h&&s===this&&e(g,l)||(r=t.apply(this,g),h=!0,s=this,l=g),r}return d}var nt=typeof performance=="object"&&typeof performance.now=="function",ue=nt?function(){return performance.now()}:function(){return Date.now()};function de(t){cancelAnimationFrame(t.id)}function at(t,e){var s=ue();function l(){ue()-s>=e?t.call(null):r.id=requestAnimationFrame(l)}var r={id:requestAnimationFrame(l)};return r}var X=-1;function me(t){if(t===void 0&&(t=!1),X===-1||t){var e=document.createElement("div"),s=e.style;s.width="50px",s.height="50px",s.overflow="scroll",document.body.appendChild(e),X=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return X}var O=null;function he(t){if(t===void 0&&(t=!1),O===null||t){var e=document.createElement("div"),s=e.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";var l=document.createElement("div"),r=l.style;return r.width="100px",r.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?O="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?O="negative":O="positive-ascending"),document.body.removeChild(e),O}return O}var st=150,it=function(e,s){return e};function ot(t){var e,s=t.getItemOffset,l=t.getEstimatedTotalSize,r=t.getItemSize,h=t.getOffsetForIndexAndAlignment,d=t.getStartIndexForOffset,g=t.getStopIndexForStartIndex,c=t.initInstanceProps,p=t.shouldResetStyleCacheOnItemSizeChange,E=t.validateProps;return e=function(v){Le(L,v);function L(S){var a;return a=v.call(this,S)||this,a._instanceProps=c(a.props,ae(a)),a._outerRef=void 0,a._resetIsScrollingTimeoutId=null,a.state={instance:ae(a),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof a.props.initialScrollOffset=="number"?a.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},a._callOnItemsRendered=void 0,a._callOnItemsRendered=Z(function(o,i,u,f){return a.props.onItemsRendered({overscanStartIndex:o,overscanStopIndex:i,visibleStartIndex:u,visibleStopIndex:f})}),a._callOnScroll=void 0,a._callOnScroll=Z(function(o,i,u){return a.props.onScroll({scrollDirection:o,scrollOffset:i,scrollUpdateWasRequested:u})}),a._getItemStyle=void 0,a._getItemStyle=function(o){var i=a.props,u=i.direction,f=i.itemSize,b=i.layout,m=a._getItemStyleCache(p&&f,p&&b,p&&u),y;if(m.hasOwnProperty(o))y=m[o];else{var I=s(a.props,o,a._instanceProps),x=r(a.props,o,a._instanceProps),D=u==="horizontal"||b==="horizontal",T=u==="rtl",C=D?I:0;m[o]=y={position:"absolute",left:T?void 0:C,right:T?C:void 0,top:D?0:I,height:D?"100%":x,width:D?x:"100%"}}return y},a._getItemStyleCache=void 0,a._getItemStyleCache=Z(function(o,i,u){return{}}),a._onScrollHorizontal=function(o){var i=o.currentTarget,u=i.clientWidth,f=i.scrollLeft,b=i.scrollWidth;a.setState(function(m){if(m.scrollOffset===f)return null;var y=a.props.direction,I=f;if(y==="rtl")switch(he()){case"negative":I=-f;break;case"positive-descending":I=b-u-f;break}return I=Math.max(0,Math.min(I,b-u)),{isScrolling:!0,scrollDirection:m.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._onScrollVertical=function(o){var i=o.currentTarget,u=i.clientHeight,f=i.scrollHeight,b=i.scrollTop;a.setState(function(m){if(m.scrollOffset===b)return null;var y=Math.max(0,Math.min(b,f-u));return{isScrolling:!0,scrollDirection:m.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._outerRefSetter=function(o){var i=a.props.outerRef;a._outerRef=o,typeof i=="function"?i(o):i!=null&&typeof i=="object"&&i.hasOwnProperty("current")&&(i.current=o)},a._resetIsScrollingDebounced=function(){a._resetIsScrollingTimeoutId!==null&&de(a._resetIsScrollingTimeoutId),a._resetIsScrollingTimeoutId=at(a._resetIsScrolling,st)},a._resetIsScrolling=function(){a._resetIsScrollingTimeoutId=null,a.setState({isScrolling:!1},function(){a._getItemStyleCache(-1,null)})},a}L.getDerivedStateFromProps=function(a,o){return lt(a,o),E(a),null};var A=L.prototype;return A.scrollTo=function(a){a=Math.max(0,a),this.setState(function(o){return o.scrollOffset===a?null:{scrollDirection:o.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},A.scrollToItem=function(a,o){o===void 0&&(o="auto");var i=this.props,u=i.itemCount,f=i.layout,b=this.state.scrollOffset;a=Math.max(0,Math.min(a,u-1));var m=0;if(this._outerRef){var y=this._outerRef;f==="vertical"?m=y.scrollWidth>y.clientWidth?me():0:m=y.scrollHeight>y.clientHeight?me():0}this.scrollTo(h(this.props,a,o,b,this._instanceProps,m))},A.componentDidMount=function(){var a=this.props,o=a.direction,i=a.initialScrollOffset,u=a.layout;if(typeof i=="number"&&this._outerRef!=null){var f=this._outerRef;o==="horizontal"||u==="horizontal"?f.scrollLeft=i:f.scrollTop=i}this._callPropsCallbacks()},A.componentDidUpdate=function(){var a=this.props,o=a.direction,i=a.layout,u=this.state,f=u.scrollOffset,b=u.scrollUpdateWasRequested;if(b&&this._outerRef!=null){var m=this._outerRef;if(o==="horizontal"||i==="horizontal")if(o==="rtl")switch(he()){case"negative":m.scrollLeft=-f;break;case"positive-ascending":m.scrollLeft=f;break;default:var y=m.clientWidth,I=m.scrollWidth;m.scrollLeft=I-y-f;break}else m.scrollLeft=f;else m.scrollTop=f}this._callPropsCallbacks()},A.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&de(this._resetIsScrollingTimeoutId)},A.render=function(){var a=this.props,o=a.children,i=a.className,u=a.direction,f=a.height,b=a.innerRef,m=a.innerElementType,y=a.innerTagName,I=a.itemCount,x=a.itemData,D=a.itemKey,T=D===void 0?it:D,C=a.layout,R=a.outerElementType,k=a.outerTagName,Ce=a.style,Ie=a.useIsScrolling,Ae=a.width,j=this.state.isScrolling,J=u==="horizontal"||C==="horizontal",pe=J?this._onScrollHorizontal:this._onScrollVertical,ee=this._getRangeToRender(),Ee=ee[0],we=ee[1],te=[];if(I>0)for(var z=Ee;z<=we;z++)te.push(N.createElement(o,{data:x,key:T(z,x),index:z,isScrolling:Ie?j:void 0,style:this._getItemStyle(z)}));var ne=l(this.props,this._instanceProps);return N.createElement(R||k||"div",{className:i,onScroll:pe,ref:this._outerRefSetter,style:xe({position:"relative",height:f,width:Ae,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:u},Ce)},N.createElement(m||y||"div",{children:te,ref:b,style:{height:J?"100%":ne,pointerEvents:j?"none":void 0,width:J?ne:"100%"}}))},A._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var a=this.props.itemCount;if(a>0){var o=this._getRangeToRender(),i=o[0],u=o[1],f=o[2],b=o[3];this._callOnItemsRendered(i,u,f,b)}}if(typeof this.props.onScroll=="function"){var m=this.state,y=m.scrollDirection,I=m.scrollOffset,x=m.scrollUpdateWasRequested;this._callOnScroll(y,I,x)}},A._getRangeToRender=function(){var a=this.props,o=a.itemCount,i=a.overscanCount,u=this.state,f=u.isScrolling,b=u.scrollDirection,m=u.scrollOffset;if(o===0)return[0,0,0,0];var y=d(this.props,m,this._instanceProps),I=g(this.props,y,m,this._instanceProps),x=!f||b==="backward"?Math.max(1,i):1,D=!f||b==="forward"?Math.max(1,i):1;return[Math.max(0,y-x),Math.max(0,Math.min(o-1,I+D)),y,I]},L}(N.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var lt=function(e,s){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,s.instance},rt=ot({getItemOffset:function(e,s){var l=e.itemSize;return s*l},getItemSize:function(e,s){var l=e.itemSize;return l},getEstimatedTotalSize:function(e){var s=e.itemCount,l=e.itemSize;return l*s},getOffsetForIndexAndAlignment:function(e,s,l,r,h,d){var g=e.direction,c=e.height,p=e.itemCount,E=e.itemSize,v=e.layout,L=e.width,A=g==="horizontal"||v==="horizontal",S=A?L:c,a=Math.max(0,p*E-S),o=Math.min(a,s*E),i=Math.max(0,s*E-S+E+d);switch(l==="smart"&&(r>=i-S&&r<=o+S?l="auto":l="center"),l){case"start":return o;case"end":return i;case"center":{var u=Math.round(i+(o-i)/2);return u<Math.ceil(S/2)?0:u>a+Math.floor(S/2)?a:u}case"auto":default:return r>=i&&r<=o?r:r<i?i:o}},getStartIndexForOffset:function(e,s){var l=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(l-1,Math.floor(s/r)))},getStopIndexForStartIndex:function(e,s,l){var r=e.direction,h=e.height,d=e.itemCount,g=e.itemSize,c=e.layout,p=e.width,E=r==="horizontal"||c==="horizontal",v=s*g,L=E?p:h,A=Math.ceil((L+l-v)/g);return Math.max(0,Math.min(d-1,s+A-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function ct(t){if(!t.container)return null;const e=t.container.clientHeight,s=t.container.clientWidth;return n.createElement(rt,{height:e,itemCount:t.itemCount,itemSize:t.itemSize,width:s},t.children)}const ut=[new w.Asset("EURMTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("MTLAP","GCNVDZIHGX473FEI7IXCUAEXUJ4BGCKEMHF36VYP5EMS7PX2QBLAMTLA"),new w.Asset("MTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("MTLRECT","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("BTCMTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("SATSMTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("USDM","GDHDC4GBNPMENZAOBB4NCQ25TGZPDRK6ZGWUGSI22TVFATOLRPSUUSDM"),new w.Asset("USDC","GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN")],dt=[new w.Asset("USD","GCKFBEIYV2U22IO2BJ4KVJOIP7XPWQGQFKKWXR6DOSJBV7STMAQSMTGG"),new w.Asset("SRT","GCDNJUBQSX7AJWLJACMJ7I4BC3Z47BQUTMHEICZLE6MU4KQBRYG5JY6B")],mt=Q({clickable:{},icon:{[M.down(350)]:{minWidth:48}},logo:{[M.down(350)]:{width:36,height:36}},logoHidden:{visibility:"hidden"},badge:{top:4,right:4,boxShadow:"0 0 3px 1px black"},mainListItemText:{flex:"1 1 auto",whiteSpace:"nowrap"},mainListItemTextPrimaryTypography:{overflow:"hidden",textOverflow:"ellipsis",[M.down(400)]:{fontSize:15},[M.down(350)]:{fontSize:13}},mainListItemTextSecondaryTypography:{overflow:"hidden",textOverflow:"ellipsis",[M.down(400)]:{fontSize:14},[M.down(350)]:{fontSize:12}},balanceListItemText:{flex:"1 0 auto",marginLeft:8,textAlign:"right"},balanceText:{fontSize:"140%",[M.down(350)]:{fontSize:"120%"}},actions:{flex:"0 0 auto",marginLeft:4,marginRight:-16,width:48}});function ht(t){const e=mt(),s=`${t.className||""} ${t.onClick?e.clickable:""}`,l=n.useMemo(()=>De(t.balance),[t.balance]),r=Me(l,t.testnet),{t:h}=B(),d=n.useMemo(()=>t.hideBalance?null:n.createElement($e,{assetCode:"",balance:t.balance.balance,showInfinity:t.isOwnAsset}),[t.balance.balance,t.hideBalance]);if(t.balance.asset_type==="native")return n.createElement(F,{button:!!t.onClick,className:s,onClick:t.onClick,style:t.style},n.createElement(oe,{className:e.icon},n.createElement(le,{asset:l,className:`${e.logo} ${t.hideLogo?e.logoHidden:""}`,testnet:t.testnet})),n.createElement(_,{classes:{root:e.mainListItemText,primary:e.mainListItemTextPrimaryTypography,secondary:e.mainListItemTextSecondaryTypography},primary:t.spendableBalance?h("account.balance-details.item.spendable-balance.primary"):"Stellar Lumens (XLM)",secondary:t.spendableBalance?void 0:"stellar.org"}),n.createElement(_,{classes:{root:e.balanceListItemText,primary:e.balanceText},primary:d}));const g=r&&r.name||t.balance.asset_code,c=g!==t.balance.asset_code?`${g} (${t.balance.asset_code})`:t.balance.asset_code;return n.createElement(F,{button:!!t.onClick,className:s,onClick:t.onClick,style:t.style},n.createElement(oe,{className:e.icon},n.createElement(Je,{badgeContent:t.badgeCount,classes:{badge:e.badge},color:"primary"},n.createElement(le,{asset:l,className:`${e.logo} ${t.hideLogo?e.logoHidden:""}`,dark:!0,testnet:t.testnet}))),n.createElement(_,{className:e.mainListItemText,classes:{primary:e.mainListItemTextPrimaryTypography,secondary:e.mainListItemTextSecondaryTypography},primary:c,secondary:n.createElement(be,{publicKey:t.balance.asset_issuer,testnet:t.testnet})}),n.createElement(_,{className:e.balanceListItemText,primary:d,primaryTypographyProps:{className:e.balanceText}}))}const P=n.memo(ht);function gt(t){const[e,s]=n.useState(""),[l,r]=n.useState(""),[h,d]=n.useState(""),g=Re("(max-width:450px)"),{t:c}=B(),p=()=>t.createAddAssetTransaction(new w.Asset(e,l),{limit:h||void 0}),E=()=>t.sendTransaction(p);return n.createElement(q,{top:n.createElement(Y,{hideBackButton:!0,onBack:t.onClose,title:c("account-settings.custom-trustline.title")})},n.createElement("form",{noValidate:!0,style:{display:"block",width:"100%"}},n.createElement(H,{label:c("account-settings.custom-trustline.textfield.code.label"),placeholder:"EURT, USDT, BTC, ...",autoFocus:!0,margin:"dense",name:"asset-code",value:e,onChange:v=>s(v.target.value)}),n.createElement(H,{fullWidth:!0,label:c("account-settings.custom-trustline.textfield.issuer.label"),placeholder:c("account-settings.custom-trustline.textfield.issuer.placeholder"),margin:"dense",name:"asset-issuer",value:l,onChange:v=>r(v.target.value)}),n.createElement(H,{inputProps:{pattern:"^[0-9]*(.[0-9]+)?$",inputMode:"decimal"},fullWidth:!0,label:c("account-settings.custom-trustline.textfield.limit.label"),placeholder:c("account-settings.custom-trustline.textfield.limit.placeholder"),margin:"dense",name:"trust-limit",value:h,type:"number",onChange:v=>d(v.target.value)}),n.createElement(Oe,{preventMobileActionsBox:!0},n.createElement(se,{onClick:t.onClose},c("account-settings.custom-trustline.action.cancel")),n.createElement(se,{icon:n.createElement(He,null),loading:t.txCreationPending,onClick:E,type:"primary"},c(g?"account-settings.custom-trustline.action.trust.short":"account-settings.custom-trustline.action.trust.long")))))}const ft=n.memo(gt);function St(t,e){return e=e.toLowerCase(),t.code.toLowerCase().startsWith(e)||t.name.toLowerCase().startsWith(e)}function yt(t,e){return e=e.toLowerCase(),t.name.toLowerCase().startsWith(e)}function Te(t){return{asset_code:t.getCode(),asset_issuer:t.getIssuer(),asset_type:t.getAssetType(),balance:"0",is_authorized:!0,is_authorized_to_maintain_liabilities:!0,last_modified_ledger:0,limit:"0",buying_liabilities:"0",selling_liabilities:"0",is_clawback_enabled:!1}}function vt(t,e){const s={};for(const l of t){const r=e(l),h=s[r];h?h.push(l):s[r]=[l]}return s}const bt=n.memo(function(e){return n.createElement(n.Fragment,null,e.assets.map(s=>n.createElement(P,{key:$(s),balance:Te(s),hideBalance:!0,onClick:()=>e.onOpenAssetDetails(s),testnet:e.testnet})))}),U=73,ge=Q({assetItem:{borderRadius:"0 !important",height:U},issuerItem:{background:"white",borderRadius:8,height:U},noResultItem:{background:"white",borderRadius:8,height:U}});function Tt(t,e,s){const l=[];for(const d of Object.keys(e))l.push({type:"issuer",issuer:d}),l.push(...e[d].map(g=>({type:"asset",issuer:d,record:g})));function r(d){const g=ge(),c=l[d.index],{t:p}=B();return n.createElement("div",{style:d.style},n.createElement(n.Suspense,{fallback:n.createElement(K,null)},c.type==="issuer"?n.createElement(F,{key:c.issuer,className:g.issuerItem},n.createElement(_,{primary:c.issuer==="native"?"stellar.org":n.createElement(be,{publicKey:c.issuer,testnet:t.testnet}),secondary:e[c.issuer].length===1?p("account.add-asset.item.issuer.secondary.one-asset"):p("account.add-asset.item.issuer.secondary.more-than-one-asset",{amount:e[c.issuer].length}),secondaryTypographyProps:{style:{overflow:"hidden",textOverflow:"ellipsis"}}})):null,c.type==="asset"?n.createElement(P,{balance:Te(ie(c.record)),className:g.assetItem,hideBalance:!0,onClick:()=>s(ie(c.record)),style:{paddingLeft:32},testnet:t.testnet}):null))}function h(){const d=ge(),{t:g}=B();return n.createElement(F,{key:0,className:d.noResultItem},n.createElement(_,{primary:g("account.add-asset.item.no-result.primary"),secondary:g("account.add-asset.item.no-result.secondary")}))}return l.length>0?(r.count=l.length,r):(h.count=1,h)}const Ct=Q({grow:{flexGrow:1},list:{marginTop:16,padding:0},searchField:{background:"white",flexShrink:0,flexGrow:0,marginBottom:16},searchFieldInput:{fontSize:16,paddingTop:14,paddingBottom:14}}),It=n.memo(function(e){const s=e.account.testnet?dt:ut,l=Ct(),r=n.useRef(null),h=Ze(e.account.testnet),d=fe(),{t:g}=B(),c=Xe(e.account.testnet),[p,E]=n.useState(!1),[v,L]=n.useState(""),[A,S]=n.useState(!1),a=n.useCallback(T=>d.history.push(W(e.account.id,$(T))),[d.history,e.account.id]),o=()=>E(!0),i=()=>E(!1),u=async(T,C={})=>{const R=[w.Operation.changeTrust({asset:T,limit:C.limit,withMuxing:!0})];return Qe(R,{accountData:e.accountData,horizon:e.horizon,walletAccount:e.account})},f=async T=>{try{S(!0);const C=await T();S(!1),await e.sendTransaction(C)}catch(C){S(!1),ze(C)}},b=T=>e.accountData.balances.some(C=>C.asset_code===T.code&&C.asset_issuer===T.issuer),m=n.useCallback((T,C)=>{const R=C.toLowerCase(),k=c.lookup(T);return k?k.domain.toLowerCase().includes(R)||k.name.toLowerCase().includes(R):!1},[c]),y=s.filter(T=>!b(T)),I=n.useCallback(T=>{L(T.target.value)},[]),x=n.useMemo(()=>{const T=h.filter(C=>St(C,v)||yt(C.issuer_detail,v)||m(C.issuer,v));return vt(T,C=>C.issuer)},[h,v,m]),D=n.useMemo(()=>Tt(e.account,x,a),[e.account,x,a]);return n.createElement(q,{excessWidth:24,top:n.createElement(Y,{onBack:e.onClose,title:g("account.add-asset.title")})},n.createElement(_e,{grow:!0,margin:"16px 0 0"},n.createElement(Be,{autoFocus:!0,className:l.searchField,inputProps:{className:l.searchFieldInput},onChange:I,value:v,placeholder:g("account.add-asset.search-field.placeholder")}),n.createElement(G,{className:l.list},n.createElement(Se,{onClick:o},n.createElement(ye,null),"  ",g("account.add-asset.button.add-custom-asset.label"))),n.createElement(n.Suspense,{fallback:n.createElement(K,null)},v?n.createElement("ul",{className:`${l.list} ${l.grow}`,ref:r},n.createElement(ct,{container:r.current,itemCount:D.count,itemSize:U},D)):n.createElement(G,{className:`${l.list} ${l.grow}`},n.createElement(bt,{assets:y,onOpenAssetDetails:a,testnet:e.account.testnet})))),n.createElement(ve,{open:p,onClose:i,TransitionComponent:ke},n.createElement(n.Suspense,{fallback:n.createElement(K,null)},n.createElement(ft,{account:e.account,accountData:e.accountData,createAddAssetTransaction:u,horizon:e.horizon,onClose:i,sendTransaction:f,txCreationPending:A}))))});function At(t){return n.createElement(Ve,{account:t.account,onSubmissionCompleted:t.onClose},({horizon:e,sendTransaction:s})=>n.createElement(It,{...t,horizon:e,sendTransaction:s}))}const pt=n.memo(At);function Et(t,e){return e.asset_type==="native"?t.isNative():e.asset_code===t.getCode()&&e.asset_issuer===t.getIssuer()}const wt=n.memo(function(e){return n.createElement(n.Fragment,null,e.assets.map(s=>{const l=e.accountData.balances.find(d=>Et(s,d)),r=e.openOffers.filter(d=>d.buying.asset_code===s.code&&d.buying.asset_issuer===s.issuer||d.selling.asset_code===s.code&&d.selling.asset_issuer===s.issuer),h=e.olderOffersAvailable&&r.length>=10?"10+":r.length;return n.createElement(P,{key:$(s),badgeCount:h,balance:l,onClick:()=>e.onOpenAssetDetails(s),style:{paddingLeft:e.hpadding,paddingRight:e.hpadding,marginLeft:e.hmargin,marginRight:e.hmargin},testnet:e.account.testnet,isOwnAsset:e.account.accountID===s.getIssuer()})}))}),Lt=n.memo(function(e){return n.createElement(n.Fragment,null,n.createElement(P,{key:"XLM",balance:e.balance,onClick:()=>e.onOpenAssetDetails(w.Asset.native()),style:{paddingLeft:e.hpadding,paddingRight:e.hpadding,marginLeft:e.hmargin,marginRight:e.hmargin},testnet:e.account.testnet}),n.createElement(P,{key:"XLM:spendable",balance:{...e.balance,balance:Ge(e.balance.balance).eq(0)?"0":Fe(Ke(e.accountData),e.balance).toString()},hideLogo:!0,onClick:()=>e.onOpenAssetDetails(w.Asset.native()),spendableBalance:!0,style:{marginTop:-8,paddingLeft:e.hpadding,paddingRight:e.hpadding,marginLeft:e.hmargin,marginRight:e.hmargin},testnet:e.account.testnet}))});function xt(t){const e=Pe(t.account.accountID,t.account.testnet),{offers:s,olderOffersAvailable:l}=Ne(t.account.accountID,t.account.testnet),r=We(),h=fe(),{t:d}=B(),g=n.useCallback(()=>h.history.push(re(t.account.id)),[t.account.id,h.history]),c=n.useCallback(()=>h.history.push(qe(t.account.id)),[t.account.id,h.history]),p=V(h.location.pathname,re(t.account.id)),E=V(h.location.pathname,W("*","*"))&&!V(h.location.pathname,W("*","manage")),v=i=>h.history.push(W(t.account.id,$(i))),L=Ye(e.balances).filter(i=>i.asset_type!=="native").map(i=>new w.Asset(i.asset_code,i.asset_issuer)),A=e.balances.find(i=>i.asset_type==="native"),S=r?0:8,a=16,o=0;return n.createElement(q,{excessWidth:12,top:n.createElement(Y,{onBack:t.onClose,title:t.account.name})},n.createElement(G,{style:{paddingLeft:S,paddingRight:S,margin:"0 -8px"}},n.createElement(Se,{gutterBottom:!0,onClick:g,style:{padding:`0 ${a}px`,marginLeft:o,marginRight:o}},n.createElement(ye,null),"  ",d("account.balance-details.button.add-asset.label")),n.createElement(wt,{account:t.account,accountData:e,assets:L,hmargin:o,hpadding:a,onOpenAssetDetails:v,openOffers:s,olderOffersAvailable:l})),n.createElement(je,{style:{margin:"16px 0"}}),n.createElement(G,{style:{paddingLeft:S,paddingRight:S,margin:"0 -8px 8px"}},A?n.createElement(Lt,{account:t.account,accountData:e,balance:A,hmargin:o,hpadding:a,onOpenAssetDetails:v}):null),n.createElement(ve,{fullScreen:!0,open:p||E,onClose:c,TransitionComponent:Ue},n.createElement(n.Suspense,{fallback:n.createElement(K,null)},n.createElement(pt,{account:t.account,accountData:e,hpadding:S,itemHPadding:a,onClose:c}))))}const Rt=n.memo(xt);export{Rt as default};
//# sourceMappingURL=BalanceDetailsDialog-B0Ub8Hhn.js.map
