parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"q9cE":[function(require,module,exports) {
module.exports="object"==typeof self?self.FormData:window.FormData;
},{}],"yOEa":[function(require,module,exports) {
"use strict";function e(e,t){var r=e.headers["content-type"]&&/json/.test(e.headers["content-type"])&&e.data&&(e.data.error||e.data.message);return Error(r?"Request to "+t.domain+" failed: "+r:"Request to "+t.domain+" failed with status "+e.status)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResponseError=e;
},{}],"CzOz":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.ok="success",e.kyc="kyc"}(e=exports.TransferResultType||(exports.TransferResultType={}));
},{}],"S5W6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("./result");!function(e){e.interactive="interactive",e.nonInteractive="non-interactive",e.status="status"}(e=exports.KYCResponseType||(exports.KYCResponseType={}));var r={customer_info_status:e.status,interactive_customer_info_needed:e.interactive,non_interactive_customer_info_needed:e.nonInteractive};function n(e,n){var s=r[e.data.type];if(!s)throw Error(n+" requires KYC, but did not specify valid KYC instructions.");return{data:e.data,subtype:s,type:t.TransferResultType.kyc}}function s(e){return 403===e.status||"interactive_customer_info_needed"===e.data.type}exports.createKYCInstructions=n,exports.isKYCRequired=s;
},{"./result":"CzOz"}],"dt8k":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var o,i=n(require("form-data")),a=require("./errors"),s=require("./kyc"),u=require("./result");function c(t,r,n,o){if(void 0===o&&(o={}),r.isNative())throw Error("Cannot deposit lumens, but only assets issued by "+t.domain+".");var i={accountID:n,asset:r,fields:e(e({lang:t.options.lang,wallet_name:t.options.walletName,wallet_url:t.options.walletURL},o),{account:n,asset_code:r.getCode()}),interactive:function(e){return l(i,e)},legacy:function(e){return f(i,e)},transferServer:t};return i}function l(e,n){return t(this,void 0,void 0,function(){var t,o,s,u,c,l;return r(this,function(r){switch(r.label){case 0:t=e.fields,o=e.transferServer,s=new i.default,Object.keys(t).forEach(function(e){void 0!==t[e]&&s.append(e,t[e])}),u={"Content-Type":"multipart/form-data"},n&&(u.Authorization="Bearer "+n),c=function(e){return 200===e||201===e||400===e||403===e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,p(e,function(){return o.post("/transactions/deposit/interactive",s,{headers:u,validateStatus:c})})];case 2:return[2,r.sent()];case 3:if((l=r.sent())&&l.response&&404===l.response.status)return[2,f(e,n)];if(l&&l.response)throw a.ResponseError(l.response,e.transferServer);return[2,f(e,n)];case 4:return[2]}})})}function f(e,n){return t(this,void 0,void 0,function(){var t,o,i,a;return r(this,function(r){return t=e.fields,o=e.transferServer,i={},n&&(i.Authorization="Bearer "+n),a=function(e){return 200===e||201===e||400===e||403===e},[2,p(e,function(){return o.get("/deposit",{headers:i,params:t,validateStatus:a})})]})})}function p(e,n){return t(this,void 0,void 0,function(){var t,o;return r(this,function(r){switch(r.label){case 0:return t=e.transferServer,[4,n()];case 1:if(o=r.sent(),s.isKYCRequired(o))return[2,s.createKYCInstructions(o,t.domain)];if(200===o.status)return[2,{data:o.data,type:u.TransferResultType.ok}];throw a.ResponseError(o,e.transferServer)}})})}!function(e){e.SEPA="SEPA",e.SWIFT="SWIFT"}(o=exports.DepositType||(exports.DepositType={})),exports.Deposit=c;
},{"form-data":"q9cE","./errors":"yOEa","./kyc":"S5W6","./result":"CzOz"}],"ApFK":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function u(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,u)}c((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};function n(n,r,o,a,i){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,n.get("/fee",{params:{operation:r,type:o,asset_code:a.code,amount:String(i)}})];case 1:return[2,e.sent().data]}})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchFee=n;
},{}],"PMUC":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(a,o){function i(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,s)}u((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r};Object.defineProperty(exports,"__esModule",{value:!0});var r=function(t){return Array.from(new Set(t))};function a(t){throw Error(t)}function o(o){return t(this,void 0,void 0,function(){var t,i,s;return e(this,function(e){switch(e.label){case 0:return[4,o.get("/info")];case 1:return t=e.sent(),i=r(n(Object.keys(t.data.deposit),Object.keys(t.data.withdraw))).filter(function(t){return"transactions"!==t}),[2,{assets:s=i.filter(function(t){return o.assets.some(function(e){return e.code===t})}).map(function(e){return{asset:o.assets.find(function(t){return t.code===e})||a(o.domain+" does not issue asset "+e+"."),deposit:t.data.deposit[e],endpoints:t.data,transferServer:o,withdraw:t.data.withdraw[e]}}),depositableAssets:s.filter(function(t){return t.deposit}).map(function(t){return t.asset}),endpoints:t.data,transferServer:o,withdrawableAssets:s.filter(function(t){return t.withdraw}).map(function(t){return t.asset})}]}})})}exports.fetchTransferInfos=o;
},{}],"K08T":[function(require,module,exports) {
"use strict";var e,t=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function r(e,r,a,o){return void 0===a&&(a="transfer"),t(this,void 0,void 0,function(){var t,i,s;return n(this,function(n){switch(n.label){case 0:return t={},o&&(t.Authorization="Bearer "+o),i="stellar"===a?"stellar_transaction_id":"external"===a?"external_transaction_id":"id",[4,e.get("/transaction",{headers:t,params:(s={},s[i]=r,s)})];case 1:return[2,n.sent().data]}})})}function a(e,r,a,o){return void 0===o&&(o={}),t(this,void 0,void 0,function(){var t;return n(this,function(n){switch(n.label){case 0:return t={},a&&(t.Authorization="Bearer "+a),[4,e.get("/transactions",{headers:t,params:{asset_code:r,kind:o.kind,limit:o.limit,no_older_than:o.noOlderThan,paging_id:o.pagingId}})];case 1:return[2,n.sent().data]}})})}Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.completed="completed",e.pending_external="pending_external",e.pending_anchor="pending_anchor",e.pending_stellar="pending_stellar",e.pending_trust="pending_trust",e.pending_user="pending_user",e.pending_user_transfer_start="pending_user_transfer_start",e.incomplete="incomplete",e.no_market="no_market",e.too_small="too_small",e.too_large="too_large",e.error="error"}(e=exports.TransferStatus||(exports.TransferStatus={})),exports.fetchTransaction=r,exports.fetchTransactions=a;
},{}],"hyou":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"IDpx":[function(require,module,exports) {
module.exports=function(o){return null!=o&&null!=o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o)};
},{}],"U7Ys":[function(require,module,exports) {
"use strict";var e=require("./helpers/bind"),r=require("is-buffer"),n=Object.prototype.toString;function t(e){return"[object Array]"===n.call(e)}function i(e){return"[object ArrayBuffer]"===n.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function f(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function u(e){return"string"==typeof e}function c(e){return"number"==typeof e}function a(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function s(e){return"[object Date]"===n.call(e)}function p(e){return"[object File]"===n.call(e)}function y(e){return"[object Blob]"===n.call(e)}function d(e){return"[object Function]"===n.call(e)}function b(e){return l(e)&&d(e.pipe)}function j(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function m(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function B(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function v(e,r){if(null!=e)if("object"!=typeof e&&(e=[e]),t(e))for(var n=0,i=e.length;n<i;n++)r.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.call(null,e[o],o,e)}function A(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=A(e[n],r):e[n]=r}for(var n=0,t=arguments.length;n<t;n++)v(arguments[n],r);return e}function g(r,n,t){return v(n,function(n,i){r[i]=t&&"function"==typeof n?e(n,t):n}),r}module.exports={isArray:t,isArrayBuffer:i,isBuffer:r,isFormData:o,isArrayBufferView:f,isString:u,isNumber:c,isObject:l,isUndefined:a,isDate:s,isFile:p,isBlob:y,isFunction:d,isStream:b,isURLSearchParams:j,isStandardBrowserEnv:B,forEach:v,merge:A,extend:g,trim:m};
},{"./helpers/bind":"hyou","is-buffer":"IDpx"}],"Udu2":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"U7Ys"}],"dTek":[function(require,module,exports) {
"use strict";module.exports=function(e,o,r,s,t){return e.config=o,r&&(e.code=r),e.request=s,e.response=t,e};
},{}],"o1qN":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"dTek"}],"Znla":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,u){var a=u.config.validateStatus;u.status&&a&&!a(u.status)?s(t("Request failed with status code "+u.status,u.config,null,u.request,u)):e(u)};
},{"./createError":"o1qN"}],"bopl":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}return a&&(i+=(-1===i.indexOf("?")?"?":"&")+a),i};
},{"./../utils":"U7Ys"}],"cVTV":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"U7Ys"}],"nDfz":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"U7Ys"}],"el2w":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"U7Ys"}],"xPvN":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),s=require("./../helpers/buildURL"),t=require("./../helpers/parseHeaders"),o=require("./../helpers/isURLSameOrigin"),n=require("../core/createError");module.exports=function(a){return new Promise(function(i,u){var l=a.data,p=a.headers;e.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(a.auth){var c=a.auth.username||"",f=a.auth.password||"";p.Authorization="Basic "+btoa(c+":"+f)}if(d.open(a.method.toUpperCase(),s(a.url,a.params,a.paramsSerializer),!0),d.timeout=a.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in d?t(d.getAllResponseHeaders()):null,s={data:a.responseType&&"text"!==a.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:e,config:a,request:d};r(i,u,s),d=null}},d.onerror=function(){u(n("Network Error",a,null,d)),d=null},d.ontimeout=function(){u(n("timeout of "+a.timeout+"ms exceeded",a,"ECONNABORTED",d)),d=null},e.isStandardBrowserEnv()){var h=require("./../helpers/cookies"),m=(a.withCredentials||o(a.url))&&a.xsrfCookieName?h.read(a.xsrfCookieName):void 0;m&&(p[a.xsrfHeaderName]=m)}if("setRequestHeader"in d&&e.forEach(p,function(e,r){void 0===l&&"content-type"===r.toLowerCase()?delete p[r]:d.setRequestHeader(r,e)}),a.withCredentials&&(d.withCredentials=!0),a.responseType)try{d.responseType=a.responseType}catch(y){if("json"!==a.responseType)throw y}"function"==typeof a.onDownloadProgress&&d.addEventListener("progress",a.onDownloadProgress),"function"==typeof a.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",a.onUploadProgress),a.cancelToken&&a.cancelToken.promise.then(function(e){d&&(d.abort(),u(e),d=null)}),void 0===l&&(l=null),d.send(l)})};
},{"./../utils":"U7Ys","./../core/settle":"Znla","./../helpers/buildURL":"bopl","./../helpers/parseHeaders":"cVTV","./../helpers/isURLSameOrigin":"nDfz","../core/createError":"o1qN","./../helpers/cookies":"el2w"}],"UaWL":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./utils"),r=require("./helpers/normalizeHeaderName"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function i(){var t;return"undefined"!=typeof XMLHttpRequest?t=require("./adapters/xhr"):void 0!==e&&(t=require("./adapters/http")),t}var o={adapter:i(),transformRequest:[function(e,n){return r(n,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(e){o.headers[e]={}}),t.forEach(["post","put","patch"],function(e){o.headers[e]=t.merge(n)}),module.exports=o;
},{"./utils":"U7Ys","./helpers/normalizeHeaderName":"Udu2","./adapters/xhr":"xPvN","./adapters/http":"xPvN","process":"pBGv"}],"fXQL":[function(require,module,exports) {
"use strict";var t=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},e.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},e.prototype.forEach=function(e){t.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=e;
},{"./../utils":"U7Ys"}],"HTuB":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(t,u,e){return r.forEach(e,function(r){t=r(t,u)}),t};
},{"./../utils":"U7Ys"}],"xBKK":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"AlNz":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],"NrwK":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"QgkU":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),s=require("../defaults"),t=require("./../helpers/isAbsoluteURL"),n=require("./../helpers/combineURLs");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(d){return o(d),d.baseURL&&!t(d.url)&&(d.url=n(d.baseURL,d.url)),d.headers=d.headers||{},d.data=r(d.data,d.headers,d.transformRequest),d.headers=e.merge(d.headers.common||{},d.headers[d.method]||{},d.headers||{}),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete d.headers[e]}),(d.adapter||s.adapter)(d).then(function(e){return o(d),e.data=r(e.data,e.headers,d.transformResponse),e},function(e){return a(e)||(o(d),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,d.transformResponse))),Promise.reject(e)})};
},{"./../utils":"U7Ys","./transformData":"HTuB","../cancel/isCancel":"xBKK","../defaults":"UaWL","./../helpers/isAbsoluteURL":"AlNz","./../helpers/combineURLs":"NrwK"}],"caKe":[function(require,module,exports) {
"use strict";var e=require("./../defaults"),t=require("./../utils"),r=require("./InterceptorManager"),o=require("./dispatchRequest");function s(e){this.defaults=e,this.interceptors={request:new r,response:new r}}s.prototype.request=function(r){"string"==typeof r&&(r=t.merge({url:arguments[0]},arguments[1])),(r=t.merge(e,{method:"get"},this.defaults,r)).method=r.method.toLowerCase();var s=[o,void 0],u=Promise.resolve(r);for(this.interceptors.request.forEach(function(e){s.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)});s.length;)u=u.then(s.shift(),s.shift());return u},t.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(r,o){return this.request(t.merge(o||{},{method:e,url:r}))}}),t.forEach(["post","put","patch"],function(e){s.prototype[e]=function(r,o,s){return this.request(t.merge(s||{},{method:e,url:r,data:o}))}}),module.exports=s;
},{"./../defaults":"UaWL","./../utils":"U7Ys","./InterceptorManager":"fXQL","./dispatchRequest":"QgkU"}],"CyMk":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"kVMG":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"CyMk"}],"s1PP":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"Kw9F":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),n=require("./core/Axios"),t=require("./defaults");function u(t){var u=new n(t),l=r(n.prototype.request,u);return e.extend(l,n.prototype,u),e.extend(l,u),l}var l=u(t);l.Axios=n,l.create=function(r){return u(e.merge(t,r))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),module.exports=l,module.exports.default=l;
},{"./utils":"U7Ys","./helpers/bind":"hyou","./core/Axios":"caKe","./defaults":"UaWL","./cancel/Cancel":"CyMk","./cancel/CancelToken":"kVMG","./cancel/isCancel":"xBKK","./helpers/spread":"s1PP"}],"c1GE":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"Kw9F"}],"D9J3":[function(require,module,exports) {
"use strict";function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(function(t,e){return 0===t.length?e:t.endsWith("/")&&e.startsWith("/")?t+e.substr(1):t.endsWith("/")||e.startsWith("/")?t+e:t+"/"+e},"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.joinURL=t;
},{}],"Qg0g":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function u(e){try{a(n.next(e))}catch(t){i(t)}}function s(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(u,s)}a((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=r(require("axios")),o=require("stellar-sdk"),i=require("./util");function u(e){throw Error(e)}function s(e){return e.TRANSFER_SERVER_SEP0024||e.TRANSFER_SERVER||null}function a(r,o,u,s,a){return void 0===a&&(a={}),{get assets(){return u},get domain(){return r},get network(){return s},get url(){return o},get options(){return a},get:function(r,u){return e(this,void 0,void 0,function(){return t(this,function(e){return[2,n.default.get(i.joinURL(o,r),u)]})})},post:function(r,u,s){return e(this,void 0,void 0,function(){return t(this,function(e){return[2,n.default.post(i.joinURL(o,r),u,s)]})})}}}function l(r,n,i){return e(this,void 0,void 0,function(){var e,l,c;return t(this,function(t){switch(t.label){case 0:return[4,o.StellarTomlResolver.resolve(r)];case 1:return e=t.sent(),l=s(e)||u("There seems to be no transfer server on "+r+"."),c=f(e,r),[2,a(r,l,c,n,i)]}})})}function c(r,n){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,o.StellarTomlResolver.resolve(r,n)];case 1:return[2,s(e.sent())]}})})}function f(e,t){if(void 0===t&&(t="?"),!e.CURRENCIES)throw Error("No CURRENCIES found in stellar.toml of domain "+t+".");return e.CURRENCIES.filter(function(e){return e.code}).map(function(e){return new o.Asset(e.code,e.issuer)})}function h(r,n){return e(this,void 0,void 0,function(){var e,i;return t(this,function(t){switch(t.label){case 0:if(n.isNative())throw Error("Native XLM asset does not have an issuer account.");return[4,new o.Server(r).loadAccount(n.getIssuer())];case 1:return e=t.sent(),(i=e.home_domain)?[2,c(i)]:[2,null]}})})}exports.TransferServer=a,exports.openTransferServer=l,exports.locateTransferServer=c,exports.resolveAssets=f,exports.resolveTransferServerURL=h;
},{"axios":"c1GE","stellar-sdk":"n9dh","./util":"D9J3"}],"U1sw":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},t=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function i(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,s)}u((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var a,o=n(require("form-data")),i=require("stellar-sdk"),s=require("./errors"),u=require("./kyc"),c=require("./result");function l(t,r,n){if(void 0===n&&(n={}),r.isNative())throw Error("Cannot withdraw lumens, but only assets issued by "+t.domain+".");var a={asset:r,fields:e(e({lang:t.options.lang,wallet_name:t.options.walletName,wallet_url:t.options.walletURL},n),{asset_code:r.getCode()}),interactive:function(e){return f(a,e)},legacy:function(e){return d(a,e)},transferServer:t};return a}function f(e,n){return t(this,void 0,void 0,function(){var t,a,i,u,c,l;return r(this,function(r){switch(r.label){case 0:t=e.fields,a=e.transferServer,i=new o.default,Object.keys(t).forEach(function(e){void 0!==t[e]&&i.append(e,t[e])}),u={"Content-Type":"multipart/form-data"},n&&(u.Authorization="Bearer "+n),c=function(e){return 200===e||201===e||400===e||403===e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,h(e,function(){return a.post("/transactions/withdraw/interactive",i,{headers:u,validateStatus:c})})];case 2:return[2,r.sent()];case 3:if((l=r.sent())&&l.response&&404===l.response.status)return[2,d(e,n)];if(l&&l.response)throw s.ResponseError(l.response,e.transferServer);return[2,d(e,n)];case 4:return[2]}})})}function d(e,n){return t(this,void 0,void 0,function(){var t,a,o,i;return r(this,function(r){return t=e.fields,a=e.transferServer,o={},n&&(o.Authorization="Bearer "+n),i=function(e){return 200===e||201===e||400===e||403===e},[2,h(e,function(){return a.get("/withdraw",{headers:o,params:t,validateStatus:i})})]})})}function h(e,n){return t(this,void 0,void 0,function(){var t,a;return r(this,function(r){switch(r.label){case 0:return t=e.transferServer,[4,n()];case 1:if(a=r.sent(),u.isKYCRequired(a))return[2,u.createKYCInstructions(a,t.domain)];if(200===a.status)return[2,{data:a.data,type:c.TransferResultType.ok}];throw s.ResponseError(a,e.transferServer)}})})}function p(e,t,r,n,a){if(void 0===a&&(a={}),t.addOperation(i.Operation.payment({amount:n,asset:r,destination:e.data.account_id,source:a.sourceAccountID})),"hash"===e.data.memo_type&&e.data.memo)t.addMemo(i.Memo.hash(e.data.memo));else if("id"===e.data.memo_type&&e.data.memo)t.addMemo(i.Memo.id(e.data.memo));else if("text"===e.data.memo_type&&e.data.memo)t.addMemo(i.Memo.text(e.data.memo));else if(e.data.memo)throw Error("Anchor requires a memo on the withdrawal transaction, but did not specify a valid memo type.");return t.build()}!function(e){e.bankAccount="bank_account",e.cash="cash",e.crypto="crypto",e.mobile="mobile",e.billPayment="bill_payment"}(a=exports.WithdrawalType||(exports.WithdrawalType={})),exports.Withdrawal=l,exports.createWithdrawalPayment=p;
},{"form-data":"q9cE","stellar-sdk":"n9dh","./errors":"yOEa","./kyc":"S5W6","./result":"CzOz"}],"vOJh":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),e(require("./deposit")),e(require("./fees")),e(require("./info")),e(require("./kyc")),e(require("./result")),e(require("./transactions")),e(require("./transfer-server")),e(require("./withdrawal"));
},{"./deposit":"dt8k","./fees":"ApFK","./info":"PMUC","./kyc":"S5W6","./result":"CzOz","./transactions":"K08T","./transfer-server":"Qg0g","./withdrawal":"U1sw"}],"wEAb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useTransferInfos=l;var e=require("@satoshipay/stellar-transfer"),r=require("stellar-sdk"),n=require("../lib/suspense"),t=require("./_caches"),o=require("./stellar");function s(e,r,n,t,o,s,a){try{var i=e[s](a),u=i.value}catch(c){return void n(c)}i.done?r(u):Promise.resolve(u).then(t,o)}function a(e){return function(){var r=this,n=arguments;return new Promise(function(t,o){var a=e.apply(r,n);function i(e){s(a,t,o,i,u,"next",e)}function u(e){s(a,t,o,i,u,"throw",e)}i(void 0)})}}var i=e=>Array.from(new Set(e));function u(e,r,n){return Promise.race([e,new Promise((e,t)=>{setTimeout(()=>t(Error(n)),r)})])}function c(e,r){return f.apply(this,arguments)}function f(){return(f=a(function*(n,t){var o=t?r.Networks.TESTNET:r.Networks.PUBLIC;try{return yield u((0,e.openTransferServer)(n,o,{walletName:"Sunce",walletURL:"https://sunce.montelibero.org"}),8e3,"Transfer server discovery at ".concat(n," timed out."))}catch(s){return void console.error("Treating ".concat(n," as no transfer server available:"),s)}})).apply(this,arguments)}function l(r,s){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=r.map(e=>e.issuer).filter(e=>Boolean(e)),l=(0,o.useAccountHomeDomains)(f,s).map((e,n)=>u[r[n].code]||e),v=i(l).filter(e=>Boolean(e));return(0,n.mapSuspendables)(v,r=>(t.transferInfosCache.get(r)||t.transferInfosCache.suspend(r,a(function*(){try{var n=yield c(r,s);if(!n)return[];var t=yield(0,e.fetchTransferInfos)(n);return t?[t]:[]}catch(o){return console.error("Failed to fetch transfer infos for transfer server ".concat(r,":"),o),[]}})))[0],{ignoreSingleErrors:!0})}
},{"@satoshipay/stellar-transfer":"vOJh","stellar-sdk":"n9dh","../lib/suspense":"TQD0","./_caches":"YWb9","./stellar":"tg2C"}],"SKq8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("react")),t=require("@material-ui/core/styles");function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,t.makeStyles)({root:{display:"block",position:"relative",height:"100%",overflow:"auto",width:"100%"},slide:{display:"block",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,overflow:"auto",transition:"opacity .3s",willChange:"opacity","&$active":{opacity:1}},active:{}});function r(t){var a=l();return e.default.createElement("div",{className:"".concat(a.root," ").concat(t.className||""),style:t.style},t.children.map((l,r)=>e.default.createElement("div",{className:[a.slide,r===t.current?a.active:""].join(" "),key:r},l)))}function i(t){for(var a=[],l=0;l<t.size;l++){var i=void 0;i=l===t.index?t.current:l===t.index-1?t.prev||null:l===t.index+1&&t.next||null,a.push(e.default.createElement(e.default.Fragment,{key:l},i))}return e.default.createElement(r,{className:t.className,current:t.index,style:t.style},a)}var o=exports.default=e.default.memo(i);
},{"react":"n8MK","@material-ui/core/styles":"UUDD"}],"wzz5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialState=exports.Action=void 0,exports.shouldBackNavigationCloseDialog=s,exports.stateMachine=r;var e=require("~Generic/lib/errors"),t=exports.Action={navigateBack:()=>({type:"navigate-back"}),selectType:(e,t,s)=>({type:"select-type",asset:e,method:t,transferServer:s}),selectXLMDeposit:()=>({type:"select-xlm-deposit"}),captureWithdrawalInput:e=>({type:"capture-fields",formValues:e}),conductAuth:(e,t,s,a)=>({type:"conduct-auth",authChallenge:a,deposit:e,webauth:s,withdrawal:t}),setAuthToken:e=>({type:"set-auth-token",authToken:e}),setDidRedirectToKYC:()=>({type:"did-redirect-to-kyc"}),setTransferTransaction:e=>({type:"set-transfer-transaction",transaction:e}),conductKYC:(e,t,s,a)=>({type:"conduct-kyc",authToken:a,deposit:e,response:s,withdrawal:t}),promptForTxDetails:(e,t,s,a)=>({type:"prompt-for-tx-details",deposit:e,response:s,transfer:a,withdrawal:t}),completed:e=>({type:"completed",amount:e}),kycDenied:e=>({type:"kyc-denied",response:e})};function s(e){return"initial"===e.step||"completed"===e.step||"kyc-denied"===e.step}var a=exports.initialState={step:"initial",formValues:{}};function r(t,s){switch(s.type){case"navigate-back":return"enter-values"===t.step?Object.assign(Object.assign({},t),{step:"initial"}):"xlm-deposit"===t.step?{step:"initial",formValues:{}}:"deposit"in t&&t.deposit?{step:"enter-values",asset:t.deposit.asset,method:t.deposit.fields.type,formValues:t.deposit.fields,transferServer:t.deposit.transferServer}:"withdrawal"in t&&t.withdrawal?{step:"enter-values",asset:t.withdrawal.asset,method:t.withdrawal.fields.type,formValues:t.withdrawal.fields,transferServer:t.withdrawal.transferServer}:t;case"select-type":return Object.assign(Object.assign({},t),{step:"enter-values",asset:s.asset,method:s.method,transferServer:s.transferServer});case"select-xlm-deposit":return{step:"xlm-deposit"};case"capture-fields":return{step:"enter-values",asset:t.asset,formValues:s.formValues||t.formValues,method:t.method,transferServer:t.transferServer};case"conduct-auth":return{step:"auth-pending",authChallenge:s.authChallenge,deposit:s.deposit,webauth:s.webauth,withdrawal:s.withdrawal};case"set-auth-token":return Object.assign(Object.assign({},t),{authToken:s.authToken});case"conduct-kyc":return{step:"kyc-pending",authToken:s.authToken,deposit:s.deposit,response:s.response,withdrawal:s.withdrawal};case"did-redirect-to-kyc":return Object.assign(Object.assign({},t),{didRedirect:!0});case"set-transfer-transaction":return Object.assign(Object.assign({},t),{transfer:s.transaction});case"prompt-for-tx-details":return{step:"enter-tx-details",deposit:s.deposit,response:s.response,transfer:s.transfer,withdrawal:s.withdrawal};case"completed":return{step:"completed",amount:s.amount,deposit:t.deposit,response:t.response,withdrawal:t.withdrawal};case"kyc-denied":return{step:"kyc-denied",deposit:t.deposit,response:s.response,withdrawal:t.withdrawal};default:throw(0,e.CustomError)("UnexpectedActionError","Unexpected action: ".concat(s.type),{action:s.type})}}
},{"~Generic/lib/errors":"U9Sl"}],"S1cf":[function(require,module,exports) {
"use strict";var r=require("./helpers/bind"),e=Object.prototype.toString;function t(r){return"[object Array]"===e.call(r)}function n(r){return void 0===r}function o(r){return null!==r&&!n(r)&&null!==r.constructor&&!n(r.constructor)&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function u(r){return"[object ArrayBuffer]"===e.call(r)}function f(r){return"undefined"!=typeof FormData&&r instanceof FormData}function i(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&r.buffer instanceof ArrayBuffer}function c(r){return"string"==typeof r}function a(r){return"number"==typeof r}function l(r){return null!==r&&"object"==typeof r}function s(r){return"[object Date]"===e.call(r)}function p(r){return"[object File]"===e.call(r)}function y(r){return"[object Blob]"===e.call(r)}function d(r){return"[object Function]"===e.call(r)}function b(r){return l(r)&&d(r.pipe)}function j(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}function v(r){return r.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function B(r,e){if(null!=r)if("object"!=typeof r&&(r=[r]),t(r))for(var n=0,o=r.length;n<o;n++)e.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.call(null,r[u],u,r)}function g(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=g(r[t],e):r[t]=e}for(var t=0,n=arguments.length;t<n;t++)B(arguments[t],e);return r}function h(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=h(r[t],e):r[t]="object"==typeof e?h({},e):e}for(var t=0,n=arguments.length;t<n;t++)B(arguments[t],e);return r}function A(e,t,n){return B(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e}module.exports={isArray:t,isArrayBuffer:u,isBuffer:o,isFormData:f,isArrayBufferView:i,isString:c,isNumber:a,isObject:l,isUndefined:n,isDate:s,isFile:p,isBlob:y,isFunction:d,isStream:b,isURLSearchParams:j,isStandardBrowserEnv:m,forEach:B,merge:g,deepMerge:h,extend:A,trim:v};
},{"./helpers/bind":"hyou"}],"H6Qo":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}if(a){var l=i.indexOf("#");-1!==l&&(i=i.slice(0,l)),i+=(-1===i.indexOf("?")?"?":"&")+a}return i};
},{"./../utils":"S1cf"}],"rj2i":[function(require,module,exports) {
"use strict";var t=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},e.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},e.prototype.forEach=function(e){t.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=e;
},{"./../utils":"S1cf"}],"woEt":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(t,u,e){return r.forEach(e,function(r){t=r(t,u)}),t};
},{"./../utils":"S1cf"}],"M8l6":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"S1cf"}],"YdsM":[function(require,module,exports) {
"use strict";module.exports=function(e,i,s,t,n){return e.config=i,s&&(e.code=s),e.request=t,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e};
},{}],"bIiH":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"YdsM"}],"aS8y":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,r){var u=r.config.validateStatus;!u||u(r.status)?e(r):s(t("Request failed with status code "+r.status,r.config,null,r.request,r))};
},{"./createError":"bIiH"}],"KxkP":[function(require,module,exports) {
"use strict";var e=require("../helpers/isAbsoluteURL"),r=require("../helpers/combineURLs");module.exports=function(s,u){return s&&!e(u)?r(s,u):u};
},{"../helpers/isAbsoluteURL":"AlNz","../helpers/combineURLs":"NrwK"}],"ZeD7":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"S1cf"}],"w7LF":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"S1cf"}],"dn2M":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"S1cf"}],"KRuG":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),t=require("./../helpers/buildURL"),s=require("../core/buildFullPath"),o=require("./../helpers/parseHeaders"),n=require("./../helpers/isURLSameOrigin"),a=require("../core/createError");module.exports=function(i){return new Promise(function(u,l){var d=i.data,p=i.headers;e.isFormData(d)&&delete p["Content-Type"];var c=new XMLHttpRequest;if(i.auth){var f=i.auth.username||"",h=i.auth.password||"";p.Authorization="Basic "+btoa(f+":"+h)}var m=s(i.baseURL,i.url);if(c.open(i.method.toUpperCase(),t(m,i.params,i.paramsSerializer),!0),c.timeout=i.timeout,c.onreadystatechange=function(){if(c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in c?o(c.getAllResponseHeaders()):null,t={data:i.responseType&&"text"!==i.responseType?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:e,config:i,request:c};r(u,l,t),c=null}},c.onabort=function(){c&&(l(a("Request aborted",i,"ECONNABORTED",c)),c=null)},c.onerror=function(){l(a("Network Error",i,null,c)),c=null},c.ontimeout=function(){var e="timeout of "+i.timeout+"ms exceeded";i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),l(a(e,i,"ECONNABORTED",c)),c=null},e.isStandardBrowserEnv()){var v=require("./../helpers/cookies"),T=(i.withCredentials||n(m))&&i.xsrfCookieName?v.read(i.xsrfCookieName):void 0;T&&(p[i.xsrfHeaderName]=T)}if("setRequestHeader"in c&&e.forEach(p,function(e,r){void 0===d&&"content-type"===r.toLowerCase()?delete p[r]:c.setRequestHeader(r,e)}),e.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),i.responseType)try{c.responseType=i.responseType}catch(g){if("json"!==i.responseType)throw g}"function"==typeof i.onDownloadProgress&&c.addEventListener("progress",i.onDownloadProgress),"function"==typeof i.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",i.onUploadProgress),i.cancelToken&&i.cancelToken.promise.then(function(e){c&&(c.abort(),l(e),c=null)}),void 0===d&&(d=null),c.send(d)})};
},{"./../utils":"S1cf","./../core/settle":"aS8y","./../helpers/buildURL":"H6Qo","../core/buildFullPath":"KxkP","./../helpers/parseHeaders":"ZeD7","./../helpers/isURLSameOrigin":"w7LF","../core/createError":"bIiH","./../helpers/cookies":"dn2M"}],"BXyq":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./utils"),r=require("./helpers/normalizeHeaderName"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function i(){var t;return"undefined"!=typeof XMLHttpRequest?t=require("./adapters/xhr"):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=require("./adapters/http")),t}var o={adapter:i(),transformRequest:[function(e,n){return r(n,"Accept"),r(n,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(e){o.headers[e]={}}),t.forEach(["post","put","patch"],function(e){o.headers[e]=t.merge(n)}),module.exports=o;
},{"./utils":"S1cf","./helpers/normalizeHeaderName":"M8l6","./adapters/xhr":"KRuG","./adapters/http":"KRuG","process":"pBGv"}],"uz6X":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),t=require("../defaults");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(n){return s(n),n.headers=n.headers||{},n.data=r(n.data,n.headers,n.transformRequest),n.headers=e.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete n.headers[e]}),(n.adapter||t.adapter)(n).then(function(e){return s(n),e.data=r(e.data,e.headers,n.transformResponse),e},function(e){return a(e)||(s(n),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,n.transformResponse))),Promise.reject(e)})};
},{"./../utils":"S1cf","./transformData":"woEt","../cancel/isCancel":"xBKK","../defaults":"BXyq"}],"OHvn":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){r=r||{};var o={},a=["url","method","params","data"],n=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];e.forEach(a,function(e){void 0!==r[e]&&(o[e]=r[e])}),e.forEach(n,function(a){e.isObject(r[a])?o[a]=e.deepMerge(t[a],r[a]):void 0!==r[a]?o[a]=r[a]:e.isObject(t[a])?o[a]=e.deepMerge(t[a]):void 0!==t[a]&&(o[a]=t[a])}),e.forEach(s,function(e){void 0!==r[e]?o[e]=r[e]:void 0!==t[e]&&(o[e]=t[e])});var i=a.concat(n).concat(s),c=Object.keys(r).filter(function(e){return-1===i.indexOf(e)});return e.forEach(c,function(e){void 0!==r[e]?o[e]=r[e]:void 0!==t[e]&&(o[e]=t[e])}),o};
},{"../utils":"S1cf"}],"OvAf":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=require("../helpers/buildURL"),r=require("./InterceptorManager"),o=require("./dispatchRequest"),s=require("./mergeConfig");function i(e){this.defaults=e,this.interceptors={request:new r,response:new r}}i.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.prototype.getUri=function(e){return e=s(this.defaults,e),t(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(r,o){return this.request(e.merge(o||{},{method:t,url:r}))}}),e.forEach(["post","put","patch"],function(t){i.prototype[t]=function(r,o,s){return this.request(e.merge(s||{},{method:t,url:r,data:o}))}}),module.exports=i;
},{"./../utils":"S1cf","../helpers/buildURL":"H6Qo","./InterceptorManager":"rj2i","./dispatchRequest":"uz6X","./mergeConfig":"OHvn"}],"tsWd":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"CyMk"}],"nUiQ":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),n=require("./core/Axios"),u=require("./core/mergeConfig"),t=require("./defaults");function i(u){var t=new n(u),i=r(n.prototype.request,t);return e.extend(i,n.prototype,t),e.extend(i,t),i}var l=i(t);l.Axios=n,l.create=function(e){return i(u(l.defaults,e))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),module.exports=l,module.exports.default=l;
},{"./utils":"S1cf","./helpers/bind":"hyou","./core/Axios":"OvAf","./core/mergeConfig":"OHvn","./defaults":"BXyq","./cancel/Cancel":"CyMk","./cancel/CancelToken":"tsWd","./cancel/isCancel":"xBKK","./helpers/spread":"s1PP"}],"dZBD":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"nUiQ"}],"PuRG":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.debug=void 0;var t=e(require("debug"));exports.debug=t.default("sep-10");
},{"debug":"jcLW"}],"UO8G":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}u((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.authenticate=exports.postResponse=exports.fetchChallenge=void 0;var r=n(require("axios")),a=require("stellar-sdk"),o=require("./logger");function i(e,t,n){o.debug("Checking challenge transaction...",{localPublicKey:n,serviceSigningKey:t});var r=t?a.Keypair.fromPublicKey(t):null;if(t&&e.source!==t)throw Error("Challenge source account does not match the remote signing account: "+e.source);if("0"!==String(e.sequence))throw Error("Challenge sequence number must be zero.");if(!e.timeBounds)throw Error("Challenge transaction has no time bounds set.");if(1e3*Number.parseInt(e.timeBounds.minTime,10)>Date.now()+1e4)throw Error("Challenge transaction lower time bound is in the future.");if(1e3*Number.parseInt(e.timeBounds.maxTime,10)<Date.now()-1e4)throw Error("Challenge transaction upper time bound is in the past.");if(0===e.operations.length)throw Error("Challenge transaction carries no operations.");if(64!==s(e).length)throw Error("Challenge nonce must be 64 bytes long.");if(r&&!e.signatures.some(function(e){return e.hint().equals(r.signatureHint())}))throw Error("Challenge not signed by service's signing key.")}function s(e){var t=e.operations.filter(function(e){return"manageData"===e.type})[0];if(!t)throw Error("Challange does not contain a manage_data operation");return t.value}function u(n,s,u,c){return e(this,void 0,void 0,function(){var e,l,h;return t(this,function(t){switch(t.label){case 0:o.debug("Fetching web auth challenge from "+n+"..."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.default(n,{params:{account:u}})];case 2:return e=t.sent(),[3,4];case 3:throw l=t.sent(),o.debug("Fetching web auth challenge from "+n+" failed:",l),Error("Cannot fetch web auth challenge: "+l.message);case 4:return o.debug("Fetched web auth challenge:",e.data),i(h=new a.Transaction(e.data.transaction,c),s,u),[2,h]}})})}function c(n,a){return e(this,void 0,void 0,function(){var e,i,s,u;return t(this,function(t){switch(t.label){case 0:e={transaction:a.toEnvelope().toXDR().toString("base64")},t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.default(n,{method:"POST",headers:{"Content-Type":"application/json"},data:e})];case 2:return i=t.sent(),[3,4];case 3:throw s=t.sent(),o.debug("Authentication at "+n+" failed:",s),Object.assign(Error("Web authentication failed: "+s.message),{response:s.response});case 4:if(!i.data||"string"!=typeof i.data.token)throw u=i.data&&i.data.error?i.data.error:"No token sent.",Error("Web authentication failed: "+u);return[2,i.data.token]}})})}function l(n,r,a,o){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,u(n,r,a.publicKey(),o)];case 1:return(e=t.sent()).sign(a),[4,c(n,e)];case 2:return[2,t.sent()]}})})}exports.fetchChallenge=u,exports.postResponse=c,exports.authenticate=l;
},{"axios":"dZBD","stellar-sdk":"n9dh","./logger":"PuRG"}],"muyN":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{l(r.next(e))}catch(t){i(t)}}function a(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,a)}l((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchWebAuthData=exports.getWebAuthEndpointURL=exports.getServiceSigningKey=void 0;var n=require("stellar-sdk"),r=require("./logger");function o(e){return e.SIGNING_KEY||null}function i(e){return e.WEB_AUTH_ENDPOINT||null}function u(u,a){return e(this,void 0,void 0,function(){var e,l,c,s,f;return t(this,function(t){switch(t.label){case 0:return[4,u.loadAccount(a)];case 1:return e=t.sent(),(l=e.home_domain)?[4,n.StellarTomlResolver.resolve(l)]:(r.debug("Web auth endpoint cannot be located. Issuing account has no home_domain: "+a),[2,null]);case 2:return c=t.sent(),s=i(c),f=o(c),s&&f?[2,{domain:l,endpointURL:s,signingKey:f}]:[2,null]}})})}exports.getServiceSigningKey=o,exports.getWebAuthEndpointURL=i,exports.fetchWebAuthData=u;
},{"stellar-sdk":"n9dh","./logger":"PuRG"}],"pytD":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),t=this&&this.__exportStar||function(t,r){for(var i in t)"default"===i||r.hasOwnProperty(i)||e(r,t,i)};Object.defineProperty(exports,"__esModule",{value:!0}),t(require("./authentication"),exports),t(require("./stellar-toml"),exports);
},{"./authentication":"UO8G","./stellar-toml":"muyN"}],"GDa2":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMemo=i,exports.parseAmount=l,exports.usePolling=c;var r=u(require("react")),t=require("stellar-sdk"),n=require("~App/contexts/notifications");function u(e){return e&&e.__esModule?e:{default:e}}function o(e,r,t,n,u,o,a){try{var c=e[o](a),i=c.value}catch(l){return void t(l)}c.done?r(i):Promise.resolve(i).then(n,u)}function a(e){return function(){var r=this,t=arguments;return new Promise(function(n,u){var a=e.apply(r,t);function c(e){o(a,n,u,c,i,"next",e)}function i(e){o(a,n,u,c,i,"throw",e)}c(void 0)})}}function c(e){var t=r.default.useRef(null),u=()=>{t.current&&(clearInterval(t.current),t.current=null)};return r.default.useEffect(()=>()=>u(),[]),{isActive:()=>null!==t.current,start:r=>{t.current||(t.current=setInterval(a(function*(){try{yield r()}catch(e){(0,n.trackError)(e)}}),e))},stop:u}}function i(r){var n=r.memo,u=r.memo_type;if(!n||!u)return null;switch(u){case"hash":var o=e.from(n,"base64");return t.Memo.hash(o.toString("hex"));case"id":return t.Memo.id(n);case"text":return t.Memo.text(n);default:return null}}function l(e){return null==e?e:Number.parseFloat(e)}
},{"react":"n8MK","stellar-sdk":"n9dh","~App/contexts/notifications":"bqF5","buffer":"dskh"}],"MBHY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useTransferState=k;var e=d(require("react")),t=require("@satoshipay/stellar-sep-10"),r=require("@satoshipay/stellar-transfer"),n=require("~App/contexts/caches"),i=require("~App/contexts/notifications"),a=require("~Generic/hooks/_caches"),o=require("~Generic/hooks/stellar"),s=require("~Generic/hooks/workers"),u=require("~Generic/lib/errors"),c=require("~Generic/lib/transaction"),l=require("../util/statemachine"),f=require("../util/util");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){p(a,n,i,o,s,"next",e)}function s(e){p(a,n,i,o,s,"throw",e)}o(void 0)})}}function h(e,t){return A(e)||b(e,t)||m(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function A(e){if(Array.isArray(e))return e}var S=6e3,T={current:l.initialState,prevs:[]};function w(e,t){var r=(0,l.stateMachine)(e.current,t),n="navigate-back"!==t.type;return r.step!==e.current.step&&n?{prevs:[...e.prevs,e.current],current:r,next:void 0}:r.step===e.current.step||n?Object.assign(Object.assign({},e),{current:r}):{prevs:e.prevs.slice(0,-1),next:e.current,current:r}}function k(d,p){var y=(0,s.useNetWorker)(),m=e.default.useContext(n.SigningKeyCacheContext),g=(0,o.useWebAuth)(),b=h(e.default.useReducer(w,T),2),A=b[0],k=b[1],q=function(){var e=v(function*(e,t,r){k(l.Action.selectType(t,r||"",e))});return function(t,r,n){return e.apply(this,arguments)}}(),C=function(){var e=v(function*(e){var r=a.stellarTomlCache.get(e.domain),n=r&&r[0]?r[1]:yield y.fetchStellarToml(e.domain),i=(0,t.getWebAuthEndpointURL)(n);if(!i)return[void 0,void 0];var o={domain:e.domain,endpointURL:i,signingKey:(0,t.getServiceSigningKey)(n)||null};return o.signingKey&&m.store(o.signingKey,o.domain),[o,g.getCachedAuthToken(o.endpointURL,d.publicKey)]});return function(t){return e.apply(this,arguments)}}(),x=function(){var e=v(function*(e,t,r){var n=yield(0,c.signTransaction)(t,d,r),i=yield g.postResponse(e.endpointURL,n,d.testnet);return k(l.Action.setAuthToken(i)),i});return function(t,r,n){return e.apply(this,arguments)}}(),K=function(){var e=v(function*(e){k(l.Action.captureWithdrawalInput(e.formValues));var t=(yield(0,r.fetchTransferInfos)(e.transferServer)).assets.find(t=>t.asset.equals(e.asset)),n=t&&t.withdraw;if(!n||!n.enabled)throw(0,u.CustomError)("AssetNotWithdrawableError","Asset ".concat(e.asset.code," seems to not be withdrawable via ").concat(e.transferServer.domain),{asset:e.asset.code,domain:e.transferServer.domain});var i=h(yield C(e.transferServer),2),a=i[0],o=i[1];return o&&k(l.Action.setAuthToken(o)),[a,o]});return function(t){return e.apply(this,arguments)}}(),j=0,O=function(){var e=v(function*(e,t,n){if(!1!==window.navigator.onLine)try{var a=(yield(0,r.fetchTransaction)(e,t,"transfer",n)).transaction;return j=0,k(l.Action.setTransferTransaction(a)),a}catch(o){++j<=3&&(0,i.trackError)(o)}});return function(t,r,n){return e.apply(this,arguments)}}(),R=(0,f.usePolling)(S),P=R.isActive,W=R.start,E=R.stop,Y={afterSuccessfulExecution:e=>k(l.Action.completed(e)),didRedirectToKYC:()=>k(l.Action.setDidRedirectToKYC()),initiateWebAuth:C,isKYCPollingActive:P,navigateBack:()=>{P()&&E(),["completed","initial","kyc-denied"].indexOf(A.current.step)>-1?p():k(l.Action.navigateBack())},performWebAuth:x,pollKYCStatus:O,startKYCPolling:W,stopKYCPolling:E,submitTransferFieldValues:K,submitTransferSelection:q};return{dispatch:k,machineState:A,transfer:Y}}
},{"react":"n8MK","@satoshipay/stellar-sep-10":"pytD","@satoshipay/stellar-transfer":"vOJh","~App/contexts/caches":"ueUj","~App/contexts/notifications":"bqF5","~Generic/hooks/_caches":"YWb9","~Generic/hooks/stellar":"tg2C","~Generic/hooks/workers":"TeTT","~Generic/lib/errors":"U9Sl","~Generic/lib/transaction":"abl7","../util/statemachine":"wzz5","../util/util":"GDa2"}],"ywtJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useDepositState=b;var e=u(require("big.js")),t=require("stellar-sdk"),r=require("@satoshipay/stellar-transfer"),n=require("~Generic/lib/errors"),i=require("~Generic/hooks/stellar"),a=require("../util/statemachine"),o=require("./useTransferState"),s=require("../util/util");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return y(e)||d(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function y(e){if(Array.isArray(e))return e}function v(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){v(a,n,i,o,s,"next",e)}function s(e){v(a,n,i,o,s,"throw",e)}o(void 0)})}}function m(e,t){var n=Object.assign(Object.assign({},t.formValues),{type:t.method});return(0,r.Deposit)(t.transferServer,t.asset,e.accountID,n)}function b(u,l){var f=(0,i.useWebAuth)(),p=(0,o.useTransferState)(u,l),d=p.dispatch,y=p.machineState,v=p.transfer,b=function(){var e=h(function*(e,t,i){var o=yield e.interactive(t);if(o.type===r.TransferResultType.ok)d(a.Action.promptForTxDetails(e,void 0,o,i)),v.stopKYCPolling();else{if(o.type!==r.TransferResultType.kyc||o.subtype!==r.KYCResponseType.interactive)throw(0,n.CustomError)("UnexpectedResponseTypeError","Unexpected response type: ".concat(o.type," / ").concat(o.data.type),{type:o.type,dataType:o.data.type});var s=o.data.id||o.data.identifier;v.isKYCPollingActive()||(v.startKYCPolling(()=>g(e,s,t)),d(a.Action.conductKYC(e,void 0,o,"authToken"in y.current?y.current.authToken:void 0)),g(e,s,t))}return o});return function(t,r,n){return e.apply(this,arguments)}}(),T=function(){var e=h(function*(e,t,r,n,i){var a=yield v.performWebAuth(r,n,i);return yield b(e,a),a});return function(t,r,n,i,a){return e.apply(this,arguments)}}(),S=function(){var e=h(function*(e){var i=(yield(0,r.fetchTransferInfos)(e.transferServer)).assets.find(t=>t.asset.equals(e.asset));if(!i||!i.deposit||!i.deposit.enabled)throw(0,n.CustomError)("AssetNotDepositableError","Asset ".concat(e.asset.code," seems to not be depositable via ").concat(e.transferServer.domain),{asset:e.asset.code,domain:e.transferServer.domain});var o=m(u,e),s=c(yield v.submitTransferFieldValues(e),2),l=s[0],p=s[1];if(l)if(p)yield b(o,p);else{var y=u.testnet?t.Networks.TESTNET:t.Networks.PUBLIC,h=yield f.fetchChallenge(l.endpointURL,l.signingKey,u.publicKey,y);d(a.Action.conductAuth(o,void 0,l,h))}else yield b(o)});return function(t){return e.apply(this,arguments)}}(),g=function(){var t=h(function*(t,n,i){var o=yield v.pollKYCStatus(t.transferServer,n,i);if(o&&o.status===r.TransferStatus.pending_user_transfer_start){var u={type:r.TransferResultType.ok,data:{how:"",eta:o.status_eta,fee_fixed:(0,s.parseAmount)(o.amount_fee)}};d(a.Action.promptForTxDetails(t,void 0,u,o)),v.stopKYCPolling()}else if(o&&"completed"===o.status){var c=(0,e.default)(o.amount_out);d(a.Action.completed(c)),v.stopKYCPolling()}});return function(e,r,n){return t.apply(this,arguments)}}();return{actions:{afterSuccessfulExecution:v.afterSuccessfulExecution,didRedirectToKYC:v.didRedirectToKYC,navigateBack:v.navigateBack,performWebAuth:T,selectXLMDeposit:()=>{d(a.Action.selectXLMDeposit())},submitTransferFieldValues:S,submitTransferSelection:v.submitTransferSelection},nextState:y.next,prevStates:y.prevs,state:y.current}}
},{"big.js":"NYl1","stellar-sdk":"n9dh","@satoshipay/stellar-transfer":"vOJh","~Generic/lib/errors":"U9Sl","~Generic/hooks/stellar":"tg2C","../util/statemachine":"wzz5","./useTransferState":"MBHY","../util/util":"GDa2"}],"DnUc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useWithdrawalState=T;var e=require("stellar-sdk"),t=require("@satoshipay/stellar-transfer"),r=require("~Generic/hooks/stellar"),n=require("~Generic/lib/errors"),a=require("~Generic/hooks/workers"),o=require("~Generic/lib/transaction"),i=require("../util/statemachine"),s=require("./useTransferState"),u=require("../util/util");function c(e,t){return y(e)||p(e,t)||f(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}function y(e){if(Array.isArray(e))return e}function v(e,t,r,n,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){v(o,n,a,i,s,"next",e)}function s(e){v(o,n,a,i,s,"throw",e)}i(void 0)})}}function m(e){var r=Object.assign(Object.assign({},e.formValues),{type:e.method});return(0,t.Withdrawal)(e.transferServer,e.asset,r)}function b(e,t,r,n,a,o){return w.apply(this,arguments)}function w(){return(w=h(function*(t,r,a,i,s,c){var l=(0,u.createMemo)(s.data);if(!s.data.account_id)throw(0,n.CustomError)("MissingInfoError","Cannot create transaction, because ".concat(c.transferServer.domain," did not send all required information."),{transferServer:c.transferServer.domain});var f=[e.Operation.payment({amount:String(a),asset:c.asset,destination:s.data.account_id,withMuxing:!0})];return(0,o.createTransaction)(f,{accountData:r,horizon:i,memo:l,walletAccount:t})})).apply(this,arguments)}function T(o,l){var f=(0,a.useNetWorker)(),d=(0,r.useHorizonURLs)(o.testnet),p=(0,r.useWebAuth)(),y=(0,s.useTransferState)(o,l),v=y.dispatch,w=y.machineState,T=y.transfer,S=function(){var e=h(function*(e,r,a){var o=yield e.interactive(r);if(o.type===t.TransferResultType.ok)v(i.Action.promptForTxDetails(void 0,e,o,a)),T.stopKYCPolling();else{if(o.type!==t.TransferResultType.kyc||o.subtype!==t.KYCResponseType.interactive)throw(0,n.CustomError)("UnexpectedResponseTypeError","Unexpected response type: ".concat(o.type," / ").concat(o.data.type),{type:o.type,dataType:o.data.type});var s=o.data.id||o.data.identifier;T.isKYCPollingActive()||(T.startKYCPolling(()=>_(e,s,r)),v(i.Action.conductKYC(void 0,e,o,"authToken"in w.current?w.current.authToken:void 0)),_(e,s,r))}return o});return function(t,r,n){return e.apply(this,arguments)}}(),g=function(){var e=h(function*(e,t,r,n,a){var o=yield T.performWebAuth(r,n,a);return yield S(t,o),o});return function(t,r,n,a,o){return e.apply(this,arguments)}}(),A=function(){var r=h(function*(r){var a=(yield(0,t.fetchTransferInfos)(r.transferServer)).assets.find(e=>e.asset.equals(r.asset)),s=a&&a.withdraw;if(!s||!s.enabled)throw(0,n.CustomError)("AssetNotWithdrawableError","Asset ".concat(r.asset.code," seems to not be withdrawable via ").concat(r.transferServer.domain),{asset:r.asset.code,domain:r.transferServer.domain});var u=m(r),l=c(yield T.submitTransferFieldValues(r),2),f=l[0],d=l[1];if(f)if(d)yield S(u,d);else{var y=o.testnet?e.Networks.TESTNET:e.Networks.PUBLIC,h=yield p.fetchChallenge(f.endpointURL,f.signingKey,o.publicKey,y);v(i.Action.conductAuth(void 0,u,f,h))}else yield S(u)});return function(e){return r.apply(this,arguments)}}(),C=function(){var t=h(function*(t,r,a){var i=yield f.fetchAccountData(d,o.accountID),s=d[0];if(!i)throw(0,n.CustomError)("FetchAccountDataError","Cannot fetch account data of ".concat(o.accountID," from ").concat(s),{account:o.accountID,horizon:s});return b(o,i,a,new e.Server(s),r,t)});return function(e,r,n){return t.apply(this,arguments)}}(),_=function(){var e=h(function*(e,r,n){var a=yield T.pollKYCStatus(e.transferServer,r,n);if(a&&a.status===t.TransferStatus.pending_user_transfer_start){var o={type:t.TransferResultType.ok,data:{account_id:a.withdraw_anchor_account,memo_type:a.withdraw_memo_type,memo:a.withdraw_memo,eta:a.status_eta,fee_fixed:(0,u.parseAmount)(a.amount_fee),extra_info:a.to?{message:a.to}:void 0}};v(i.Action.promptForTxDetails(void 0,e,o,a)),T.stopKYCPolling()}});return function(t,r,n){return e.apply(this,arguments)}}();return{actions:{afterSuccessfulExecution:T.afterSuccessfulExecution,didRedirectToKYC:T.didRedirectToKYC,navigateBack:T.navigateBack,performWebAuth:g,prepareWithdrawalTransaction:C,submitTransferFieldValues:A,submitTransferSelection:T.submitTransferSelection},nextState:w.next,prevStates:w.prevs,state:w.current}}
},{"stellar-sdk":"n9dh","@satoshipay/stellar-transfer":"vOJh","~Generic/hooks/stellar":"tg2C","~Generic/lib/errors":"U9Sl","~Generic/hooks/workers":"TeTT","~Generic/lib/transaction":"abl7","../util/statemachine":"wzz5","./useTransferState":"MBHY","../util/util":"GDa2"}],"rGlD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DepositContext=void 0;var e=t(require("react"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r},o=exports.DepositContext=e.default.createContext({});function n(t){var n=t.children,l=r(t,["children"]);return e.default.createElement(o.Provider,{value:l},n)}var l=exports.default=n;
},{"react":"n8MK"}],"Oo3l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("react")),t=require("react-i18next"),r=c(require("@material-ui/core/Typography")),n=s(require("~App/routes")),a=require("~Generic/hooks/userinterface"),o=require("~Generic/components/DialogActions"),u=require("~Layout/components/Box"),i=c(require("~Generic/components/Portal"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function c(e){return e&&e.__esModule?e:{default:e}}function f(l){var s=(0,a.useRouter)(),c=(0,t.useTranslation)().t;return e.default.createElement(u.Box,{margin:l.margin,textAlign:"center"},e.default.createElement(r.default,null,c("transfer-service.no-withdrawable-assets.body.no-withdrawable-assets")),e.default.createElement(i.default,{desktop:"inline",target:l.actionsRef.element},e.default.createElement(o.DialogActionsBox,null,e.default.createElement(o.ActionButton,{onClick:()=>s.history.push(n.manageAccountAssets(l.account.id)),type:"primary"},c("transfer-service.no-withdrawable-assets.action.add-asset")))))}var p=exports.default=e.default.memo(f);
},{"react":"n8MK","react-i18next":"LuhD","@material-ui/core/Typography":"pi2F","~App/routes":"kQ9N","~Generic/hooks/userinterface":"rVD3","~Generic/components/DialogActions":"wklB","~Layout/components/Box":"YhZi","~Generic/components/Portal":"eTJ5"}],"mBQv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DesktopTwoColumns=o,exports.Paragraph=u,exports.Summary=i;var e=l(require("@material-ui/core/Typography")),t=l(require("react")),r=require("~Generic/hooks/userinterface"),a=require("~Layout/components/Box"),n=l(require("~Generic/components/ViewLoading"));function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var l=(0,r.useIsMobile)();return l?t.default.createElement(a.VerticalLayout,null,e.children[0]):t.default.createElement(a.HorizontalLayout,{alignItems:"stretch",height:"100%"},t.default.createElement(a.VerticalLayout,{grow:!0,minWidth:300,maxWidth:400,padding:l?0:"4vh 0",overflowY:"auto",shrink:0,width:"50%"},t.default.createElement(t.default.Suspense,{fallback:t.default.createElement(n.default,null)},e.children[0])),t.default.createElement(a.VerticalLayout,{grow:!0,margin:"0 0 0 5%",padding:"4vh 1vw 4vh 5%",shrink:!0,style:{borderLeft:"1px solid rgba(0, 0, 0, 0.25)"}},e.children[1]))}function u(r){return t.default.createElement(e.default,{color:"textSecondary",style:{marginBottom:16},variant:"body2"},r.children)}function i(r){return t.default.createElement(t.default.Fragment,null,t.default.createElement(e.default,{color:"textSecondary",style:{marginTop:16,marginBottom:16},variant:"h6"},r.headline),r.children)}
},{"@material-ui/core/Typography":"pi2F","react":"n8MK","~Generic/hooks/userinterface":"rVD3","~Layout/components/Box":"YhZi","~Generic/components/ViewLoading":"iTOb"}],"EdDY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("react")),t=require("react-i18next"),r=o(require("@material-ui/core/Typography")),a=require("~Generic/components/DialogActions"),n=require("~Layout/components/Box"),i=o(require("~Generic/components/Portal")),s=require("./Sidebar");function o(e){return e&&e.__esModule?e:{default:e}}function l(s){var o=s.state.deposit.transferServer,l=(0,t.useTranslation)().t;return e.default.createElement(n.VerticalLayout,{grow:!0},e.default.createElement(n.VerticalLayout,{alignItems:"center",margin:"24px 0",textAlign:"center"},e.default.createElement(r.default,{variant:"h5"},l("transfer-service.deposit-success.body.deposit-pending")),e.default.createElement(r.default,{style:{margin:"16px 0"},variant:"body2"},e.default.createElement(r.default,{style:{margin:"8px 0"},variant:"body2"},l("transfer-service.deposit-success.body.info.1","".concat(o.domain," is waiting for your deposit."),{domain:o.domain})),e.default.createElement(r.default,{style:{margin:"8px 0"},variant:"body2"},l("transfer-service.deposit-success.body.info.2"))),e.default.createElement(i.default,{desktop:"inline",target:s.dialogActionsRef&&s.dialogActionsRef.element},e.default.createElement(a.DialogActionsBox,null,e.default.createElement(a.ActionButton,{onClick:s.onClose,type:"primary"},l("transfer-service.deposit-success.action.close"))))))}var c=()=>{var r=(0,t.useTranslation)().t;return e.default.createElement(s.Summary,{headline:r("transfer-service.deposit-success.sidebar.headline")},e.default.createElement(s.Paragraph,null,r("transfer-service.deposit-success.sidebar.info")))},u=Object.assign(e.default.memo(l),{Sidebar:c}),d=exports.default=u;
},{"react":"n8MK","react-i18next":"LuhD","@material-ui/core/Typography":"pi2F","~Generic/components/DialogActions":"wklB","~Layout/components/Box":"YhZi","~Generic/components/Portal":"eTJ5","./Sidebar":"mBQv"}],"haNM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("react")),r=require("react-i18next"),t=s(require("~LumenPurchase/components/LumenPurchaseOptions")),a=require("~Layout/components/Box"),n=require("./DepositProvider"),u=require("./Sidebar");function s(e){return e&&e.__esModule?e:{default:e}}function l(r){var u=e.default.useContext(n.DepositContext).account;return e.default.createElement(a.VerticalLayout,{alignItems:"center",textAlign:"center"},e.default.createElement(t.default,{account:u,onCloseDialog:r.onCloseDialog}))}var i=()=>{var t=(0,r.useTranslation)().t;return e.default.createElement(u.Summary,{headline:t("transfer-service.purchase-lumens.sidebar.headline")},e.default.createElement(u.Paragraph,null,t("transfer-service.purchase-lumens.sidebar.info.1")),e.default.createElement(u.Paragraph,null,t("transfer-service.purchase-lumens.sidebar.info.2")))},o=Object.assign(e.default.memo(l),{Sidebar:i}),c=exports.default=o;
},{"react":"n8MK","react-i18next":"LuhD","~LumenPurchase/components/LumenPurchaseOptions":"TRnU","~Layout/components/Box":"YhZi","./DepositProvider":"rGlD","./Sidebar":"mBQv"}],"lral":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.WithdrawalContext=void 0;var e=t(require("react"));function t(e){return e&&e.__esModule?e:{default:e}}var r=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r},o=exports.WithdrawalContext=e.default.createContext({});function n(t){var n=t.children,a=r(t,["children"]);return e.default.createElement(o.Provider,{value:a},n)}var a=exports.default=n;
},{"react":"n8MK"}],"DqjY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("react")),t=require("react-i18next"),r=require("~Generic/hooks/util"),n=require("~Generic/lib/errors"),a=require("~Layout/components/Box"),o=c(require("~TransactionReview/components/ReviewForm")),i=require("./DepositProvider"),u=require("./Sidebar"),l=require("./WithdrawalProvider");function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n,a,o,i){try{var u=e[o](i),l=u.value}catch(c){return void r(c)}u.done?t(l):Promise.resolve(l).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){s(o,n,a,i,u,"next",e)}function u(e){s(o,n,a,i,u,"throw",e)}i(void 0)})}}function f(e,t){return y(e)||v(e,t)||p(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,u=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return u}}function y(e){if(Array.isArray(e))return e}var b=()=>void 0;function g(t){var u="deposit"===t.type?e.default.useContext(i.DepositContext):e.default.useContext(l.WithdrawalContext),c=u.actions,s=u.state,h=f(e.default.useState(),2),p=h[0],m=h[1],v=f((0,r.useLoadingState)({throwOnError:!0}),2),y=v[0],g=v[1],w=e.default.useCallback(e=>g(d(function*(){if("auth-pending"!==s.step)throw(0,n.CustomError)("UnexpectedStateError","Encountered unexpected state: ".concat(s.step),{state:s.step});try{return yield c.performWebAuth(s.deposit,s.withdrawal,s.webauth,t.authChallenge,e.password)}catch(r){if(!(0,n.isWrongPasswordError)(r))throw r;m(r)}})),[c.performWebAuth,g,t.authChallenge,s]);return t.authChallenge?e.default.createElement(a.VerticalLayout,{alignItems:"stretch",margin:"0 auto",maxWidth:500,width:"100%"},e.default.createElement(o.default,{account:t.account,actionsRef:t.dialogActionsRef,loading:"pending"===y.type,passwordError:p,onClose:c.navigateBack,onConfirm:"auth-pending"===s.step?w:b,transaction:t.authChallenge})):null}var w=()=>{var r=(0,t.useTranslation)().t;return e.default.createElement(u.Summary,{headline:r("transfer-service.authentication.sidebar.headline")},e.default.createElement(u.Paragraph,null,r("transfer-service.authentication.sidebar.info.1")),e.default.createElement(u.Paragraph,null,r("transfer-service.authentication.sidebar.info.2")))},x=Object.assign(e.default.memo(g),{Sidebar:w}),C=exports.default=x;
},{"react":"n8MK","react-i18next":"LuhD","~Generic/hooks/util":"IVjY","~Generic/lib/errors":"U9Sl","~Layout/components/Box":"YhZi","~TransactionReview/components/ReviewForm":"lYVi","./DepositProvider":"rGlD","./Sidebar":"mBQv","./WithdrawalProvider":"lral"}],"d8Hm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("react")),r=require("react-i18next"),t=require("~Generic/lib/errors"),a=require("./Sidebar");function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var r=e.state.response,a=(e.state.deposit||e.state.withdrawal).transferServer;throw(0,t.CustomError)("KycDeniedError","".concat(a.domain," has rejected the information about your person that you supplied. ")+"See ".concat(r.more_info_url," for more details."),{domain:a.domain,url:r.more_info_url||""})}var n=()=>{var t=(0,r.useTranslation)().t;return e.default.createElement(a.Summary,{headline:t("transfer-service.kyc-denied.sidebar.headline")},e.default.createElement(a.Paragraph,null,t("transfer-service.kyc-denied.sidebar.info")))},s=Object.assign(e.default.memo(o),{Sidebar:n}),d=exports.default=s;
},{"react":"n8MK","react-i18next":"LuhD","~Generic/lib/errors":"U9Sl","./Sidebar":"mBQv"}],"vQVZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatBalanceRange=r,exports.formatDescriptionText=c,exports.formatDuration=i,exports.formatIdentifier=s;var a=require("~Generic/lib/balances"),e=a=>["bic","iban","sepa","swift"].indexOf(a)>-1,t=(a,e)=>a.lt(e)?a:e,n=a=>e(a)?a.toUpperCase():a,o=a=>a[0].toUpperCase()+a.slice(1);function r(e,n,o){var r=n&&n.gt(0)?n:null,c=o?t(e,o):e;return r&&c&&r.gt(c)?"Not possible - Minimum ".concat((0,a.formatBalance)(r)):r&&c?"".concat((0,a.formatBalance)(r)," - ").concat((0,a.formatBalance)(c)):r?"Min. ".concat((0,a.formatBalance)(r)):c?"Max. ".concat((0,a.formatBalance)(c)):""}function c(a){return a!==a.toLowerCase()&&a!==a.toUpperCase()||(a=(a=a.replace(/\. ([a-z])/g,(a,e)=>". ".concat(e.toUpperCase()))).replace(/\b([A-Za-z]+)\b/g,a=>n(a))),o(a)}function i(a){return a<0||a>31536e3?"<illegal value>":a<90?"".concat(Math.round(a)," seconds"):a<5400?"".concat(Math.round(a/60)," minutes"):a<172800?"".concat(Math.round(a/60/60)," hours"):"".concat(Math.round(a/24/60/60)," days")}function s(a){return a.replace(/[-_]/g," ").split(" ").map((a,e)=>0===e?o(a):a).map(a=>n(a)).join(" ")}
},{"~Generic/lib/balances":"HJwV"}],"bMGe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("react")),t=require("react-i18next"),a=i(require("@material-ui/core/Typography")),r=require("@satoshipay/stellar-transfer"),n=require("~Layout/components/Box"),o=require("../util/formatters");function i(e){return e&&e.__esModule?e:{default:e}}function s(t){return e.default.createElement(a.default,{style:{margin:"8px 0"},variant:"body2"},t.children)}function l(a){var i=(0,t.useTranslation)().t;return e.default.createElement(n.VerticalLayout,{grow:!0},e.default.createElement(n.VerticalLayout,{alignItems:"center",margin:"16px auto",textAlign:"center"},(()=>a.transaction&&a.transaction.status!==r.TransferStatus.incomplete?a.transaction.status===r.TransferStatus.error?e.default.createElement(e.default.Fragment,null,e.default.createElement(s,null,"$","deposit"===a.type?i("transfer-service.transaction-status.error.rejected.deposit"):i("transfer-service.transaction-status.error.rejected.withdrawal")," "," ",a.transaction.message),e.default.createElement(s,null,i("transfer-service.transaction-status.error.contact","Please contact ".concat(a.domain,"."),{domain:a.domain}))):a.transaction.status===r.TransferStatus.pending_user_transfer_start?e.default.createElement(s,null,i("transfer-service.transaction-status.pending-user-transfer-start.info","".concat(a.domain," requires further information from you."),{domain:a.domain})):a.transaction.more_info_url?e.default.createElement(s,null,i("transfer-service.transaction-status.more-info-url.info"),e.default.createElement("br",null),e.default.createElement("a",{href:a.transaction.more_info_url,target:"_blank",rel:"noopener noreferrer"},a.transaction.more_info_url)):null:a.didRedirectAlready?e.default.createElement(e.default.Fragment,null,e.default.createElement(s,null,i("transfer-service.transaction-status.incomplete.already-redirected.info.1","".concat(a.domain," is checking your personal information. Please try again later."),{domain:a.domain})," "),a.transaction&&a.transaction.status_eta?e.default.createElement(s,null,i("transfer-service.transaction-status.incomplete.already-redirected.info.2","Estimated time to completion: ".concat((0,o.formatDuration)(a.transaction.status_eta)),{eta:(0,o.formatDuration)(a.transaction.status_eta)})):null):e.default.createElement(s,null,i("transfer-service.transaction-status.incomplete.not-redirected.info","".concat(a.domain," requires you to provide additional information."),{domain:a.domain})))()))}var u=exports.default=e.default.memo(l);
},{"react":"n8MK","react-i18next":"LuhD","@material-ui/core/Typography":"pi2F","@satoshipay/stellar-transfer":"vOJh","~Layout/components/Box":"YhZi","../util/formatters":"vQVZ"}],"L0X5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("nanoid"),t=g(require("react")),r=require("react-i18next"),a=g(require("@material-ui/core/CircularProgress")),n=g(require("@material-ui/core/Typography")),i=require("~App/contexts/notifications"),o=require("~Platform/links"),l=require("~Generic/components/DialogActions"),d=require("~Generic/lib/errors"),u=require("~Layout/components/Box"),s=g(require("~Generic/components/Portal")),c=require("./DepositProvider"),f=require("./Sidebar"),p=g(require("./TransferTransactionStatus")),m=require("./WithdrawalProvider");function g(e){return e&&e.__esModule?e:{default:e}}function y(f){var g=f.state.response,y=("deposit"===f.type?f.state.deposit:f.state.withdrawal).transferServer,v=("deposit"===f.type?t.default.useContext(c.DepositContext):t.default.useContext(m.WithdrawalContext)).actions,x=(0,r.useTranslation)().t,E=t.default.useMemo(()=>(0,e.nanoid)(),[]);return t.default.createElement("form",{id:E,noValidate:!0,onSubmit:e=>{e.preventDefault(),v.didRedirectToKYC(),"interactive_customer_info_needed"===g.data.type?(console.debug("Opening anchor KYC page: ".concat(g.data.url)),(0,o.openLink)(g.data.url)):(0,i.trackError)((0,d.CustomError)("OnlyInteractiveKycSupportedError","Only interactive KYCs are supported."))}},t.default.createElement(u.VerticalLayout,{grow:!0},t.default.createElement(u.VerticalLayout,{alignItems:"center",margin:"24px auto",textAlign:"center"},t.default.createElement(n.default,{variant:"h5"},x("transfer-service.kyc-pending.body.additional-info-needed")),t.default.createElement(p.default,{domain:y.domain,transaction:f.state.transfer,type:f.type}),f.state.didRedirect?t.default.createElement(u.Box,{grow:!0,margin:"48px 0",textAlign:"center"},t.default.createElement(a.default,null)):null,t.default.createElement(s.default,{desktop:"inline",target:f.dialogActionsRef&&f.dialogActionsRef.element},t.default.createElement(l.DialogActionsBox,{desktopStyle:{justifyContent:"center",marginTop:16}},t.default.createElement(l.ActionButton,{form:E,type:"submit"},f.state.didRedirect?x("transfer-service.kyc-pending.action.open-again"):x("transfer-service.kyc-pending.action.continue")))))))}var v=()=>{var e=(0,r.useTranslation)().t;return t.default.createElement(f.Summary,{headline:e("transfer-service.kyc-pending.sidebar.headline")},t.default.createElement(f.Paragraph,null,e("transfer-service.kyc-pending.sidebar.info.1")),t.default.createElement(f.Paragraph,null,e("transfer-service.kyc-pending.sidebar.info.2")))},x=Object.assign(t.default.memo(y),{Sidebar:v}),E=exports.default=x;
},{"nanoid":"ya15","react":"n8MK","react-i18next":"LuhD","@material-ui/core/CircularProgress":"mb4G","@material-ui/core/Typography":"pi2F","~App/contexts/notifications":"bqF5","~Platform/links":"M9CY","~Generic/components/DialogActions":"wklB","~Generic/lib/errors":"U9Sl","~Layout/components/Box":"YhZi","~Generic/components/Portal":"eTJ5","./DepositProvider":"rGlD","./Sidebar":"mBQv","./TransferTransactionStatus":"bMGe","./WithdrawalProvider":"lral"}],"yWeU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("react")),t=require("~Layout/components/Box");function r(e){return e&&e.__esModule?e:{default:e}}function u(r){return e.default.createElement(t.VerticalLayout,null,r.children)}var o=exports.default=e.default.memo(u);
},{"react":"n8MK","~Layout/components/Box":"YhZi"}],"SxaF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormBuilder=p,exports.FormBuilderField=m;var e=o(require("react")),r=require("react-i18next"),t=o(require("@material-ui/core/MenuItem")),n=o(require("@material-ui/core/TextField")),l=require("../util/formatters"),a=o(require("./FormLayout"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,r){return d(e)||s(e,r)||c(e,r)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,r){if(e){if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,l,a,o,u=[],i=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;i=!1}else for(;!(i=(n=a.call(t)).done)&&(u.push(n.value),u.length!==r);i=!0);}catch(e){c=!0,l=e}finally{try{if(!i&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw l}}return u}}function d(e){if(Array.isArray(e))return e}function m(a){var o=a.descriptor,u=o.description,i=o.choices,c=o.optional,f=void 0!==c&&c,s=(0,r.useTranslation)().t,d=(0,l.formatDescriptionText)(u),m=(0,l.formatIdentifier)(a.name),p=f?s("transfer-service.form-builder.placeholder.optional","(Optional) ".concat(m),{name:m}):m;return i?e.default.createElement(n.default,{helperText:d,label:m,onChange:a.onChange,placeholder:p,select:!0,style:Object.assign({flexGrow:1},a.style),value:a.value},i.map((r,n)=>e.default.createElement(t.default,{key:n,value:r},(0,l.formatIdentifier)(r)))):e.default.createElement(n.default,{helperText:d,label:m,onChange:a.onChange,placeholder:p,style:Object.assign({flexGrow:1},a.style),value:a.value||""})}function p(r){var t=Object.entries(r.fields).filter(e=>{var r=u(e,2),t=(r[0],r[1]);return t&&"object"==typeof t});return e.default.createElement(a.default,null,t.map(t=>{var n=u(t,2),l=n[0],a=n[1];return e.default.createElement(m,{key:l,descriptor:a,name:l,onChange:e=>r.onSetFormValue(l,e.target.value),style:r.fieldStyle,value:r.formValues[l]})}))}
},{"react":"n8MK","react-i18next":"LuhD","@material-ui/core/MenuItem":"dYSc","@material-ui/core/TextField":"JZs9","../util/formatters":"vQVZ","./FormLayout":"yWeU"}],"UbvI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=w(require("big.js")),t=require("nanoid"),a=w(require("react")),r=require("react-i18next"),n=w(require("@material-ui/core/Typography")),i=require("~App/contexts/notifications"),s=w(require("~App/theme")),l=require("~Generic/components/DialogActions"),o=require("~Generic/components/FormFields"),d=w(require("~Generic/components/Portal")),u=require("~Generic/hooks/stellar"),c=require("~Generic/hooks/stellar-subscriptions"),m=require("~Generic/hooks/util"),f=require("~Generic/lib/errors"),p=require("~Generic/lib/stellar"),b=require("~Layout/components/Box"),y=require("../util/formatters"),h=require("./DepositProvider"),v=require("./FormBuilder"),g=w(require("./FormLayout")),x=require("./Sidebar"),_=require("./WithdrawalProvider");function w(e){return e&&e.__esModule?e:{default:e}}function E(e,t){return S(e)||A(e,t)||q(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){if(e){if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function A(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,s,l=[],o=!0,d=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(r=i.call(a)).done)&&(l.push(r.value),l.length!==t);o=!0);}catch(e){d=!0,n=e}finally{try{if(!o&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(d)throw n}}return l}}function S(e){if(Array.isArray(e))return e}var T=e=>"string"==typeof e&&e.length>0;function C(e,t){return Object.keys(e).reduce((a,r)=>{var n=e[r];return t(n,r)?Object.assign(Object.assign({},a),{[r]:n}):a},{})}function F(e){return e&&e.length>=15&&e.match(/^[A-Z]{2}[0-9]{2}\s?[A-Z0-9]{4}\s?[A-Z0-9]{4}/)?e.replace(/\s+/g,""):e}function k(e,t){return t.reduce((e,t)=>t(e),e)}function P(e,t){var a=Object.assign({},e);return"bank_account"===t&&(a.dest=k(a.dest,[F])),a}var B=a.default.memo(function(e){var t=(0,r.useTranslation)().t,n=e.asset?e.asset.getCode():"";return e.metadata&&(e.metadata.min_amount||e.metadata.max_amount)?a.default.createElement(o.ReadOnlyTextfield,{inputProps:{style:{color:s.default.palette.text.secondary}},label:t("transfer-service.transfer-details.body.min-max-amount.label"),style:{marginTop:24},value:[e.metadata.min_amount?t("transfer-service.transfer-details.body.min-max-amount.min-amount","Min. ".concat(e.metadata.min_amount," ").concat(n).trim(),{amount:e.metadata.min_amount,assetCode:n}):null,e.metadata.max_amount?t("transfer-service.transfer-details.body.min-max-amount.max-amount","Max. ".concat(e.metadata.max_amount," ").concat(n).trim(),{amount:e.metadata.max_amount,assetCode:n}):null].filter(e=>Boolean(e)).join(" / ")}):null}),D=e=>e.filter(e=>""!==e),V=a.default.memo(function(e){var t=(0,r.useTranslation)().t;if(!e.metadata)return null;var n=D(["number"==typeof e.metadata.fee_fixed?"".concat(e.metadata.fee_fixed," ").concat(e.asset&&e.asset.getCode()):"","number"==typeof e.metadata.fee_percent?"".concat(e.metadata.fee_percent,"%"):""]).join(" + ")||"unknown";return a.default.createElement(o.ReadOnlyTextfield,{helperText:t("transfer-service.transfer-details.body.fee.helper-text","As charged by ".concat(e.domain),{domain:e.domain}),inputProps:{style:{color:s.default.palette.text.secondary}},label:"deposit"===e.type?t("transfer-service.transfer-details.body.fee.label.deposit"):t("transfer-service.transfer-details.body.fee.label.withdrawal"),style:{marginTop:24},value:0===e.metadata.fee_fixed&&0===e.metadata.fee_percent?"".concat(e.metadata.fee_fixed," ").concat(e.asset&&e.asset.getCode()):n})});function G(s){var o,x="deposit"===s.type?a.default.useContext(h.DepositContext):a.default.useContext(_.WithdrawalContext),w=x.account,j=x.actions,q=(0,c.useLiveAccountData)(w.publicKey,w.testnet),O=(0,p.findMatchingBalanceLine)(q.balances,s.state.asset),A=O?(0,e.default)(O.balance):(0,e.default)(0),S=a.default.useMemo(()=>(0,t.nanoid)(),[]),F=E((0,m.useLoadingState)({throwOnError:!0}),2),k=F[0],D=F[1],G=(0,r.useTranslation)().t,R=s.assetTransferInfos.find(e=>e.asset.equals(s.state.asset)),M=(0,u.useStellarToml)(s.state.transferServer.domain),I=E(a.default.useState(s.state.formValues||{}),2),L=I[0],W=I[1],Z=(e,t)=>W(a=>Object.assign(Object.assign({},a),{[e]:t})),$=a.default.useCallback(e=>{e.preventDefault(),D(j.submitTransferFieldValues(Object.assign(Object.assign({},s.state),{formValues:Object.assign(Object.assign(Object.assign({},s.state.formValues),P(L,s.state.method)),{account:w.accountID})})).catch(e=>{var t;(null===(t=e.message)||void 0===t?void 0:t.includes("Cannot fetch web auth challenge"))?(0,i.trackError)((0,f.CustomError)("FetchWebAuthChallengeError","Cannot fetch web auth challenge")):(0,i.trackError)(e)}))},[w.accountID,j,L,D,s.state]),K=(()=>"deposit"===s.type?R&&R.deposit?R.deposit:null:R&&R.withdraw&&R.withdraw.types?R.withdraw.types[s.state.method]:null)(),N=Boolean(M&&M.TRANSFER_SERVER_SEP0024),U=K&&K.fields&&!N?K.fields:{},z=["account","asset_code","type"],H=U.email||U.email_address,J=Object.keys(U).filter(e=>U[e]&&"object"==typeof U[e]).some(e=>!U[e].optional&&!L[e]&&-1===z.indexOf(e)),Q=!U.amount||U.amount.optional,X=!H||H.optional,Y=(Q||T(L.amount))&&/^([0-9]+(\.[0-9]+)?)?$/.test(L.amount||""),ee="deposit"===s.type||!R||!(null===(o=R.withdraw)||void 0===o?void 0:o.min_amount)||(0,e.default)(R.withdraw.min_amount).lte(A),te=(!0===X||T(L.email)||T(L.email_address))&&/^([^@]+@[^@]+\.[^@]+)?$/.test(L.email||L.email_address||""),ae=J||!Y||!te||!ee;return a.default.createElement("form",{id:S,noValidate:!0,onSubmit:$},a.default.createElement(b.VerticalLayout,null,a.default.createElement(g.default,null,U.dest?a.default.createElement(v.FormBuilderField,{name:G("transfer-service.transfer-details.body.destination.name"),descriptor:U.dest||{},onChange:e=>Z("dest",e.target.value),style:{marginTop:24},value:L.dest||""}):null,U.dest_extra?a.default.createElement(v.FormBuilderField,{name:U.dest_extra.description?(0,y.formatDescriptionText)(U.dest_extra.description):G("transfer-service.transfer-details.body.dest_extra.name"),descriptor:U.dest_extra,onChange:e=>Z("dest_extra",e.target.value),style:{marginTop:24},value:L.dest_extra||""}):null),a.default.createElement(v.FormBuilder,{fields:C(U,(e,t)=>-1===[...z,"amount","dest","dest_extra"].indexOf(t)),fieldStyle:{marginTop:24},formValues:L,onSetFormValue:Z}),a.default.createElement(g.default,null,a.default.createElement(B,{asset:s.state.asset,metadata:R&&R.withdraw}),!ee&&a.default.createElement(n.default,{color:"error",variant:"caption"},G("transfer-service.transfer-details.body.min-max-amount.not-enough-funds")),a.default.createElement(V,{asset:s.state.asset,domain:R?R.transferServer.domain:"",metadata:R&&("deposit"===s.type?R.deposit:R.withdraw),type:s.type})),a.default.createElement(d.default,{desktop:"inline",target:s.dialogActionsRef&&s.dialogActionsRef.element},a.default.createElement(l.DialogActionsBox,null,a.default.createElement(l.ActionButton,{disabled:ae,form:S,loading:k&&"pending"===k.type,onClick:()=>void 0,type:"submit"},G("transfer-service.transfer-details.action.proceed"))))))}var R=e=>{var t=(0,r.useTranslation)().t;return"deposit"===e.type?a.default.createElement(x.Summary,{headline:t("transfer-service.transfer-details.sidebar.deposit.headline")},a.default.createElement(x.Paragraph,null,t("transfer-service.transfer-details.sidebar.deposit.info.1")),a.default.createElement(x.Paragraph,null,t("transfer-service.transfer-details.sidebar.deposit.info.2"))):a.default.createElement(x.Summary,{headline:t("transfer-service.transfer-details.sidebar.withdrawal.headline")},a.default.createElement(x.Paragraph,null,t("transfer-service.transfer-details.sidebar.withdrawal.info.1")),a.default.createElement(x.Paragraph,null,t("transfer-service.transfer-details.sidebar.withdrawal.info.2")))},M=Object.assign(a.default.memo(G),{Sidebar:R}),I=exports.default=M;
},{"big.js":"NYl1","nanoid":"ya15","react":"n8MK","react-i18next":"LuhD","@material-ui/core/Typography":"pi2F","~App/contexts/notifications":"bqF5","~App/theme":"j28y","~Generic/components/DialogActions":"wklB","~Generic/components/FormFields":"p9j6","~Generic/components/Portal":"eTJ5","~Generic/hooks/stellar":"tg2C","~Generic/hooks/stellar-subscriptions":"aNYm","~Generic/hooks/util":"IVjY","~Generic/lib/errors":"U9Sl","~Generic/lib/stellar":"B7Y0","~Layout/components/Box":"YhZi","../util/formatters":"vQVZ","./DepositProvider":"rGlD","./FormBuilder":"SxaF","./FormLayout":"yWeU","./Sidebar":"mBQv","./WithdrawalProvider":"lral"}],"HZ0B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("nanoid"),t=w(require("react")),r=require("react-i18next"),a=require("stellar-sdk"),s=w(require("@material-ui/core/Collapse")),i=w(require("@material-ui/core/MenuItem")),n=w(require("@material-ui/core/TextField")),l=require("@material-ui/core/styles"),o=require("~App/contexts/notifications"),u=require("~Generic/lib/errors"),d=require("~Generic/hooks/userinterface"),c=require("~Generic/hooks/util"),f=require("~Generic/components/DialogActions"),m=w(require("~Generic/components/AssetSelector")),p=w(require("~Generic/components/Portal")),b=require("../util/formatters"),h=require("./DepositProvider"),v=w(require("./FormLayout")),y=require("./Sidebar"),g=require("./WithdrawalProvider");function w(e){return e&&e.__esModule?e:{default:e}}function E(e,t){return j(e)||S(e,t)||A(e,t)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function S(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,s,i,n,l=[],o=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);o=!0);}catch(e){u=!0,s=e}finally{try{if(!o&&null!=r.return&&(n=r.return(),Object(n)!==n))return}finally{if(u)throw s}}return l}}function j(e){if(Array.isArray(e))return e}var k=(0,l.makeStyles)({select:{fontSize:18,fontWeight:400}});function O(l){var y="deposit"===l.type?t.default.useContext(h.DepositContext):t.default.useContext(g.WithdrawalContext),w=y.account,q=y.actions,A=t.default.useMemo(()=>(0,e.nanoid)(),[]),I=k(),S=(0,d.useIsSmallMobile)(),j=E((0,c.useLoadingState)({throwOnError:!0}),2),O=j[0],C=j[1],D=(0,r.useTranslation)().t,x=e=>e?l.assetTransferInfos.find(t=>t.asset.equals(e)):void 0,P=e=>{var t=x(e);return t&&t.withdraw&&t.withdraw.types?Object.keys(t.withdraw.types):[]},M=l.state.asset||("deposit"===l.type?a.Asset.native():l.transferableAssets[0])||null,T=l.state.method||(1===P(M).length?P(M)[0]:null),F=E(t.default.useState({asset:M,methodID:T}),2),G=F[0],L=F[1],W=G.asset?P(G.asset):[],_="withdrawal"===l.type&&W.length>0,V=!G.asset||!G.methodID&&_,B=l.trustedAssets.filter(e=>!l.transferableAssets.some(t=>t.equals(e))),R=x(G.asset),X=t.default.useCallback(e=>{var t=l.assetTransferInfos.find(t=>t.asset.equals(e)),r=t&&("deposit"===l.type?t.deposit:t.withdraw);r&&"types"in r&&r.types&&1===Object.keys(r.types).length?L({asset:e,methodID:Object.keys(r.types)[0]}):L(t=>Object.assign(Object.assign({},t),{asset:e}))},[l.assetTransferInfos,l.type]),z=t.default.useCallback(e=>(e.preventDefault(),"deposit"===l.type&&G.asset&&G.asset.isNative()?q.selectXLMDeposit():G.asset?R?void C(q.submitTransferSelection(R.transferServer,G.asset,G.methodID)):(0,o.trackError)((0,u.CustomError)("InvariantViolationError","Invariant violation: Form submission without asset transfer information",{message:" Form submission without asset transfer information"})):(0,o.trackError)((0,u.CustomError)("InvariantViolationError","Invariant violation: Form submission without selected asset",{message:"Form submission without selected asset"}))),[q,R,G.asset,G.methodID,C,l.type]);return t.default.createElement("form",{id:A,noValidate:!0,onSubmit:z},t.default.createElement(v.default,null,t.default.createElement(m.default,{assets:l.trustedAssets,disabledAssets:B,label:S?D("transfer-service.initial.body.asset-selector.label.short"):"deposit"===l.type?D("transfer-service.initial.body.asset-selector.label.deposit"):D("transfer-service.initial.body.asset-selector.label.withdrawal"),margin:"normal",onChange:X,showXLM:"deposit"===l.type,testnet:w.testnet,value:G.asset||void 0},0===l.transferableAssets.length?t.default.createElement(i.default,{disabled:!0,value:""},D("transfer-service.initial.body.asset-selector.no-assets")):null),t.default.createElement(s.default,{in:_},t.default.createElement(n.default,{fullWidth:!0,label:"deposit"===l.type?D("transfer-service.initial.body.method-selector.label.deposit"):D("transfer-service.initial.body.method-selector.label.withdrawal"),margin:"normal",onChange:(e=>t=>{L(r=>Object.assign(Object.assign({},r),{[e]:t.target.value}))})("methodID"),select:!0,SelectProps:{classes:{select:I.select}},value:G.methodID||""},t.default.createElement(i.default,{disabled:!0,value:""},G.asset?D("transfer-service.initial.body.method-selector.info-item.asset"):D("transfer-service.initial.body.method-selector.info-item.no-asset")),W.map(e=>t.default.createElement(i.default,{key:e,value:e},(0,b.formatIdentifier)(e)))))),t.default.createElement(p.default,{desktop:"inline",target:l.dialogActionsRef&&l.dialogActionsRef.element},t.default.createElement(f.DialogActionsBox,null,t.default.createElement(f.ActionButton,{disabled:V,form:A,loading:"pending"===O.type,onClick:()=>void 0,type:"submit"},D("transfer-service.initial.action.proceed")))))}var C=e=>{var a=(0,r.useTranslation)().t;return"deposit"===e.type?t.default.createElement(y.Summary,{headline:a("transfer-service.initial.sidebar.deposit.headline")},t.default.createElement(y.Paragraph,null,a("transfer-service.initial.sidebar.deposit.info.1")),t.default.createElement(y.Paragraph,null,a("transfer-service.initial.sidebar.deposit.info.2"))):t.default.createElement(y.Summary,{headline:a("transfer-service.initial.sidebar.withdrawal.headline")},t.default.createElement(y.Paragraph,null,a("transfer-service.initial.sidebar.withdrawal.info.1")),t.default.createElement(y.Paragraph,null,a("transfer-service.initial.sidebar.withdrawal.info.2")))},D=Object.assign(t.default.memo(O),{Sidebar:C}),x=exports.default=D;
},{"nanoid":"ya15","react":"n8MK","react-i18next":"LuhD","stellar-sdk":"n9dh","@material-ui/core/Collapse":"uPhD","@material-ui/core/MenuItem":"dYSc","@material-ui/core/TextField":"JZs9","@material-ui/core/styles":"UUDD","~App/contexts/notifications":"bqF5","~Generic/lib/errors":"U9Sl","~Generic/hooks/userinterface":"rVD3","~Generic/hooks/util":"IVjY","~Generic/components/DialogActions":"wklB","~Generic/components/AssetSelector":"Et5A","~Generic/components/Portal":"eTJ5","../util/formatters":"vQVZ","./DepositProvider":"rGlD","./FormLayout":"yWeU","./Sidebar":"mBQv","./WithdrawalProvider":"lral"}],"aBgf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("react")),t=require("react-i18next"),a=s(require("@material-ui/core/Typography")),r=require("~Generic/components/DialogActions"),n=require("~Layout/components/Box"),i=s(require("~Generic/components/Portal")),l=require("./Sidebar");function s(e){return e&&e.__esModule?e:{default:e}}function c(l){var s=l.state.withdrawal.transferServer,c=(0,t.useTranslation)().t;return e.default.createElement(n.VerticalLayout,{grow:!0},e.default.createElement(n.VerticalLayout,{alignItems:"center",margin:"24px 0",textAlign:"center"},e.default.createElement(a.default,{variant:"h5"},c("transfer-service.withdrawal-success.body.withdrawal-in-progress")),e.default.createElement(a.default,{style:{margin:"16px 0"},variant:"body2"},e.default.createElement(a.default,{style:{margin:"8px 0"},variant:"body2"},c("transfer-service.withdrawal-success.body.info.1","".concat(s.domain," is conducting the withdrawal."),{domain:s.domain})),e.default.createElement(a.default,{style:{margin:"8px 0"},variant:"body2"},c("transfer-service.withdrawal-success.body.info.2"))),e.default.createElement(i.default,{desktop:"inline",target:l.dialogActionsRef&&l.dialogActionsRef.element},e.default.createElement(r.DialogActionsBox,null,e.default.createElement(r.ActionButton,{onClick:l.onClose,type:"primary"},c("transfer-service.withdrawal-success.action.close"))))))}var o=()=>{var a=(0,t.useTranslation)().t;return e.default.createElement(l.Summary,{headline:a("transfer-service.withdrawal-success.sidebar.headline")},e.default.createElement(l.Paragraph,null,a("transfer-service.withdrawal-success.sidebar.info")))},u=Object.assign(e.default.memo(c),{Sidebar:o}),d=exports.default=u;
},{"react":"n8MK","react-i18next":"LuhD","@material-ui/core/Typography":"pi2F","~Generic/components/DialogActions":"wklB","~Layout/components/Box":"YhZi","~Generic/components/Portal":"eTJ5","./Sidebar":"mBQv"}],"PUz0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=g(require("big.js")),t=require("nanoid"),a=g(require("react")),r=require("react-i18next"),n=g(require("@material-ui/icons/Send")),i=require("~App/contexts/notifications"),l=require("~Generic/hooks/stellar-subscriptions"),o=require("~Generic/hooks/util"),s=require("~Generic/hooks/stellar"),u=require("~Generic/lib/stellar"),d=require("~Generic/components/DialogActions"),c=require("~Generic/components/FormFields"),f=g(require("~Generic/components/Portal")),m=require("~Generic/lib/balances"),p=require("../util/formatters"),v=require("./DepositProvider"),b=g(require("./FormLayout")),y=require("./Sidebar"),h=require("./WithdrawalProvider");function g(e){return e&&e.__esModule?e:{default:e}}function w(e,t,a,r,n,i,l){try{var o=e[i](l),s=o.value}catch(u){return void a(u)}o.done?t(s):Promise.resolve(s).then(r,n)}function x(e){return function(){var t=this,a=arguments;return new Promise(function(r,n){var i=e.apply(t,a);function l(e){w(i,r,n,l,o,"next",e)}function o(e){w(i,r,n,l,o,"throw",e)}l(void 0)})}}function E(e,t){return A(e)||T(e,t)||S(e,t)||q()}function q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"==typeof e)return _(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function T(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,i,l,o=[],s=!0,u=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(r=i.call(a)).done)&&(o.push(r.value),o.length!==t);s=!0);}catch(e){u=!0,n=e}finally{try{if(!s&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(u)throw n}}return o}}function A(e){if(Array.isArray(e))return e}var C=e=>null==e;function O(y){var g,w=y.sendTransaction,q="deposit"===y.type?a.default.useContext(v.DepositContext):a.default.useContext(h.WithdrawalContext),S=q.account,_=q.actions,T=(y.state.deposit||y.state.withdrawal).asset,A=(0,r.useTranslation)().t,O=a.default.useMemo(()=>(0,t.nanoid)(),[]),P=(0,l.useLiveAccountData)(S.accountID,S.testnet),k=y.state.transfer?y.state.transfer.amount_in:"",j=E(a.default.useState(k||""),2),D=j[0],R=j[1],G=E((0,o.useLoadingState)({throwOnError:!0}),2),B=G[0],I=G[1],M=(0,u.findMatchingBalanceLine)(P.balances,T),F=M?(0,e.default)(M.balance):(0,e.default)(0),L=y.state.response.data,W=L.min_amount?(0,e.default)(L.min_amount):void 0,V=L.max_amount?(0,e.default)(L.max_amount):void 0,$=D.match(/^[0-9]+(\.[0-9]+)?$/)?(0,e.default)(D):(0,e.default)(0),N=L.eta?(0,p.formatDuration)(L.eta):A("transfer-service.transaction-details.body.eta.not-available"),U=W&&$.lt(W)||V&&$.gt(V),z="withdrawal"===y.type&&(!$.gt(0)||$.gt(F)||U),H=(0,s.useStellarToml)(null===(g=y.state.withdrawal)||void 0===g?void 0:g.transferServer.domain),J=Boolean(H&&H.TRANSFER_SERVER_SEP0024),K=(0,e.default)(L.fee_fixed||0).add((0,e.default)(L.fee_percent||0).div(100).mul($)),Q=K.round(2).eq(K)?2:void 0,X=C(L.fee_fixed)&&C(L.fee_percent),Y=a.default.useCallback(e=>{e.preventDefault(),"deposit"===y.type?_.afterSuccessfulExecution($):I(x(function*(){try{var e=yield _.prepareWithdrawalTransaction(y.state.withdrawal,y.state.response,$);yield w(e),_.afterSuccessfulExecution($)}catch(t){(0,i.trackError)(t)}})())},[_,$,I,y.state,y.type,w]),Z=L.extra_info&&"string"==typeof L.extra_info?{message:L.extra_info}:L.extra_info||{};return a.default.createElement("form",{id:O,noValidate:!0,onSubmit:Y},a.default.createElement(b.default,{wrap:!0},"deposit"===y.type&&y.state.response.data.how?a.default.createElement(c.ReadOnlyTextfield,{label:A("transfer-service.transaction-details.body.deposit-instructions.label"),multiline:!0,value:y.state.response.data.how}):null,"deposit"===y.type?null:a.default.createElement(c.PriceInput,{assetCode:T.getCode(),disabled:J||W&&W.gt(F),error:$.gt(F)||W&&W.gt(F),label:A("transfer-service.transaction-details.body.amount.label.withdrawal"),helperText:$.gt(F)&&A("transfer-service.transaction-details.body.amount.error.amount-greater-than-balance"),margin:"normal",onChange:e=>R(e.target.value),placeholder:(0,p.formatBalanceRange)(F,W,V),style:{marginTop:24},value:D}),a.default.createElement(c.PriceInput,{assetCode:T.getCode(),disabled:!0,label:A("transfer-service.transaction-details.body.fees.label"),margin:"normal",readOnly:!0,style:{marginTop:24},value:X?A("transfer-service.transaction-details.body.fees.value.unknown"):"- ".concat((0,m.formatBalance)(K,{maximumDecimals:Q}))}),a.default.createElement(c.PriceInput,{assetCode:T.getCode(),disabled:!0,label:A("transfer-service.transaction-details.body.amount-to-receive.label"),readOnly:!0,style:{marginTop:24},value:$.minus(K).lte(0)?"-":(0,m.formatBalance)($.minus(K))}),a.default.createElement(c.ReadOnlyTextfield,{label:A("transfer-service.transaction-details.body.eta.label"),style:{marginTop:24},value:N}),Object.keys(Z).map((e,t)=>a.default.createElement(c.ReadOnlyTextfield,{key:t,label:1===Object.keys(Z).length?A("transfer-service.transaction-details.body.information.label"):(0,p.formatDescriptionText)(e),style:{marginTop:24},value:Z[e]})),a.default.createElement(f.default,{desktop:"inline",target:y.dialogActionsRef&&y.dialogActionsRef.element},a.default.createElement(d.DialogActionsBox,null,a.default.createElement(d.ActionButton,{disabled:z,form:O,icon:"deposit"===y.type?null:a.default.createElement(n.default,null),loading:"pending"===B.type,onClick:()=>void 0,type:"submit"},"deposit"===y.type?A("transfer-service.transaction-details.action.done"):A("transfer-service.transaction-details.action.withdraw"))))))}var P=e=>{var t=(0,r.useTranslation)().t;return"deposit"===e.type?a.default.createElement(y.Summary,{headline:t("transfer-service.transaction-details.sidebar.deposit.headline")},a.default.createElement(y.Paragraph,null,t("transfer-service.transaction-details.sidebar.deposit.info.1")),a.default.createElement(y.Paragraph,null,t("transfer-service.transaction-details.sidebar.deposit.info.2"))):a.default.createElement(y.Summary,{headline:t("transfer-service.transaction-details.sidebar.withdrawal.headline")},a.default.createElement(y.Paragraph,null,t("transfer-service.transaction-details.sidebar.withdrawal.info.1")),a.default.createElement(y.Paragraph,null,t("transfer-service.transaction-details.sidebar.withdrawal.info.2")))},k=Object.assign(a.default.memo(O),{Sidebar:P}),j=exports.default=k;
},{"big.js":"NYl1","nanoid":"ya15","react":"n8MK","react-i18next":"LuhD","@material-ui/icons/Send":"HTrd","~App/contexts/notifications":"bqF5","~Generic/hooks/stellar-subscriptions":"aNYm","~Generic/hooks/util":"IVjY","~Generic/hooks/stellar":"tg2C","~Generic/lib/stellar":"B7Y0","~Generic/components/DialogActions":"wklB","~Generic/components/FormFields":"p9j6","~Generic/components/Portal":"eTJ5","~Generic/lib/balances":"HJwV","../util/formatters":"vQVZ","./DepositProvider":"rGlD","./FormLayout":"yWeU","./Sidebar":"mBQv","./WithdrawalProvider":"lral"}],"w07g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TransferSidebar=exports.TransferContent=void 0;var e=o(require("react")),t=require("~Generic/lib/errors"),r=o(require("./DepositSuccess")),a=o(require("./PurchaseLumens")),n=o(require("./TransferAuthentication")),s=o(require("./TransferKYCDenied")),l=o(require("./TransferKYCPending")),i=o(require("./TransferDetailsForm")),u=o(require("./TransferInitial")),d=o(require("./WithdrawalSuccess")),f=o(require("./TransferTransactionDetails"));function o(e){return e&&e.__esModule?e:{default:e}}var c=exports.TransferContent=e.default.memo(function(o){var c=o.assetTransferInfos,p=o.state,m=o.trustedAssets,E=o.transferableAssets;if("initial"===p.step)return e.default.createElement(u.default,{assetTransferInfos:c,dialogActionsRef:o.dialogActionsRef,state:p,trustedAssets:m,type:o.type,transferableAssets:E});if("enter-values"===p.step)return e.default.createElement(i.default,{active:o.active||!1,assetTransferInfos:c,dialogActionsRef:o.dialogActionsRef,state:p,type:o.type});if("xlm-deposit"===p.step)return e.default.createElement(a.default,{onCloseDialog:o.onClose});if("auth-pending"===p.step)return e.default.createElement(n.default,{account:o.account,assetTransferInfos:c,authChallenge:"authChallenge"in p?p.authChallenge:null,dialogActionsRef:o.dialogActionsRef,state:p,type:o.type});if("kyc-pending"===p.step)return e.default.createElement(l.default,{dialogActionsRef:o.dialogActionsRef,state:p,type:o.type});if("kyc-denied"===p.step)return e.default.createElement(s.default,{state:p});if("enter-tx-details"===p.step)return e.default.createElement(f.default,{dialogActionsRef:o.dialogActionsRef,sendTransaction:o.sendTransaction,state:p,type:o.type});if("completed"===p.step)return"deposit"===o.type?e.default.createElement(r.default,{dialogActionsRef:o.dialogActionsRef,onClose:o.onClose,state:p}):e.default.createElement(d.default,{dialogActionsRef:o.dialogActionsRef,onClose:o.onClose,state:p});throw(0,t.CustomError)("UnexpectedStateError","Encountered unexpected state: ".concat(p.step),{state:p.step})}),p=exports.TransferSidebar=e.default.memo(function(o){var c=o.state,p=o.type;if("initial"===c.step)return e.default.createElement(u.default.Sidebar,{type:p});if("enter-values"===c.step)return e.default.createElement(i.default.Sidebar,{type:p});if("xlm-deposit"===c.step)return e.default.createElement(a.default.Sidebar,null);if("auth-pending"===c.step)return e.default.createElement(n.default.Sidebar,null);if("kyc-pending"===c.step)return e.default.createElement(l.default.Sidebar,null);if("kyc-denied"===c.step)return e.default.createElement(s.default.Sidebar,null);if("enter-tx-details"===c.step)return e.default.createElement(f.default.Sidebar,{type:p});if("completed"===c.step)return"deposit"===p?e.default.createElement(r.default.Sidebar,null):e.default.createElement(d.default.Sidebar,null);throw(0,t.CustomError)("UnexpectedStateError","Encountered unexpected state: ".concat(c.step),{state:c.step})});
},{"react":"n8MK","~Generic/lib/errors":"U9Sl","./DepositSuccess":"EdDY","./PurchaseLumens":"haNM","./TransferAuthentication":"DqjY","./TransferKYCDenied":"d8Hm","./TransferKYCPending":"L0X5","./TransferDetailsForm":"UbvI","./TransferInitial":"HZ0B","./WithdrawalSuccess":"aBgf","./TransferTransactionDetails":"PUz0"}],"iA60":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=b(require("react")),t=require("stellar-sdk"),r=require("~Generic/hooks/transfer-server"),a=require("~Generic/hooks/userinterface"),n=require("~Generic/lib/stellar"),o=b(require("~Layout/components/Carousel")),s=b(require("~Layout/components/VirtualizedFader")),u=b(require("~Generic/components/ViewLoading")),l=require("../hooks/useDepositState"),i=require("../hooks/useWithdrawalState"),c=b(require("./DepositProvider")),d=b(require("./NoWithdrawableAssets")),f=require("./Sidebar"),p=require("./TransferContent"),m=b(require("./TransferDialogLayout")),y=b(require("./WithdrawalProvider")),v=b(require("~Generic/hocs/withFallback"));function b(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return S(e)||A(e,t)||q(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function A(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,s,u=[],l=!0,i=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=o.call(r)).done)&&(u.push(a.value),u.length!==t);l=!0);}catch(e){i=!0,n=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(i)throw n}}return u}}function S(e){if(Array.isArray(e))return e}var E={minWidth:150};function k(e,t){return e.reduce((e,r)=>[...e,...t(r)],[])}function T(e){var t=h(e.split(":"),2);return{[t[0]]:t[1]}}var j=(0,v.default)(p.TransferContent,e.default.createElement(u.default,null));function x(u){var v=(0,a.useDialogActions)(),b=(0,a.useIsMobile)(),h="deposit"===u.type?(0,l.useDepositState)(u.account,u.onClose):(0,i.useWithdrawalState)(u.account,u.onClose),g=h.actions,q=h.nextState,w=h.prevStates,A=h.state,S=w.length>0?w[w.length-1]:void 0,T=e.default.useMemo(()=>(0,n.getAssetsFromBalances)(u.accountData.balances)||[t.Asset.native()],[u.accountData.balances]),x={},D=(0,r.useTransferInfos)(T,u.account.testnet,x),O=e.default.useMemo(()=>k(D,e=>e?e.assets:[]),[D]),C=e.default.useMemo(()=>O.filter(e=>"deposit"===u.type?e.deposit&&e.deposit.enabled:e.withdraw&&e.withdraw.enabled).map(e=>e.asset).filter(e=>T.some(t=>t.equals(e))).concat("deposit"===u.type?[t.Asset.native()]:[]),[O,u.type,T]),M=Object.assign(Object.assign({},u),{assetTransferInfos:O,transferableAssets:C,trustedAssets:T}),I="deposit"===u.type?c.default:y.default;return e.default.createElement(I,{account:u.account,actions:g,state:A},e.default.createElement(m.default,{account:u.account,dialogActionsRef:v,onNavigateBack:g.navigateBack,type:u.type},e.default.createElement(f.DesktopTwoColumns,null,0===C.length?e.default.createElement(d.default,{account:u.account,actionsRef:v,margin:"32px 0 0"}):e.default.createElement(o.default,{current:w.length},[...w,A,q].filter(e=>!!e).map((t,r)=>e.default.createElement(j,Object.assign({key:r},M,{active:t===A,dialogActionsRef:t===A?v:void 0,state:t})))),e.default.createElement(s.default,{current:e.default.createElement(p.TransferSidebar,{state:A,type:u.type}),index:w.length,next:q?e.default.createElement(p.TransferSidebar,{state:q,type:u.type}):null,prev:S?e.default.createElement(p.TransferSidebar,{state:S,type:u.type}):null,size:w.length+2,style:b?void 0:E}))))}var D=exports.default=e.default.memo(x);
},{"react":"n8MK","stellar-sdk":"n9dh","~Generic/hooks/transfer-server":"wEAb","~Generic/hooks/userinterface":"rVD3","~Generic/lib/stellar":"B7Y0","~Layout/components/Carousel":"L9yD","~Layout/components/VirtualizedFader":"SKq8","~Generic/components/ViewLoading":"iTOb","../hooks/useDepositState":"ywtJ","../hooks/useWithdrawalState":"DnUc","./DepositProvider":"rGlD","./NoWithdrawableAssets":"Oo3l","./Sidebar":"mBQv","./TransferContent":"w07g","./TransferDialogLayout":"V5uE","./WithdrawalProvider":"lral","~Generic/hocs/withFallback":"Owcv"}]},{},[], null)