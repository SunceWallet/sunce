import{R as e,Y as g,b0 as y,a9 as d,Z as l,$ as f,ao as L,a0 as b,aZ as E,a$ as h,b1 as x,E as C,aj as i,aM as k,bx as w,H as S,ay as T,a4 as D}from"./app-C2nh8Xsq.js";import{P as I,o as P,L as $,av as M,a as R}from"./app-stage2-S6otXDL1.js";const v=g({root:{[i.down(600)]:{zIndex:1400}},dialogPaper:{[i.down(600)]:{alignSelf:"flex-end",background:"rgba(255, 255, 255, 0.9)",margin:"0 20px 120px"}}});function N(t){const n=v(),a=y(),o=d(),{t:r}=l(),s=e.useMemo(()=>e.createElement(f,{className:n.root,smallDialog:!0,transparent:!0},e.createElement(L,{enter:o,exit:o,in:t.open},e.createElement(b,{onClick:t.onConfirm,type:"primary"},r("account.purchase-lumens.legal-confirmation.action.confirm")))),[n.root,o,t.onConfirm,t.open,r]);return e.createElement(E,{classes:{paper:n.dialogPaper},onClose:t.onClose,open:t.open,TransitionComponent:h},e.createElement(x,{actions:a,preventActionsPlaceholder:!0,preventNotchSpacing:!0},e.createElement(C,{color:"textSecondary"},t.message)),e.createElement(I,{target:o?document.body:a.element},s))}const A=e.memo(N);async function O(t){const a=`https://ncy9jaxgqh.execute-api.eu-central-1.amazonaws.com/moonpay?walletAddress=${t.accountID}&testnet=${t.testnet}`,o=await fetch(a);if(!o.ok){const s=await o.text();throw D("HttpRequestError",`HTTP fetch failed: ${s} 
Service: ${a}`,{response:s,service:a})}return(await o.json()).url}function U(t){const{account:n,onCloseDialog:a}=t,[o,r]=e.useState(!1),{t:s}=l(),m=e.useCallback(()=>r(!1),[]),u=e.useCallback(()=>r(!0),[]),p=e.useCallback(async()=>{try{const c=await O(n);P(c),a()}catch(c){k(c)}},[n,a]);return e.createElement(w,{style:{margin:"16px auto",maxWidth:600}},e.createElement(S,{button:!0,onClick:u},e.createElement(T,{primary:s("account.purchase-lumens.moonpay.text.primary"),secondary:s("account.purchase-lumens.moonpay.text.secondary")}),e.createElement($,{style:{minWidth:24,marginLeft:12}},e.createElement(M,null))),e.createElement(A,{message:e.createElement(R,{i18nKey:"account.purchase-lumens.moonpay.legal-confirmation"},"You will be redirected to moonpay.io, a third-party service. The depositing process is operated by Moon Pay Ltd, not by Sunce or Montelibero.",e.createElement("br",null),e.createElement("br",null),"Please contact the moonpay.io support for inquiries related to your deposit."),onClose:m,open:o,onConfirm:p}))}const B=e.memo(U);export{B as L};
//# sourceMappingURL=LumenPurchaseOptions-DtdiOTMZ.js.map
