import{bY as Ee,bZ as N,r as W,f as we,R as n,a5 as w,Y as Q,au as Le,b8 as xe,Z as k,H as G,aw as B,ah as R,aR as De,b0 as q,a9 as Y,ac as H,$ as Re,a0 as ae,a1 as me,at as J,ak as Me,b_ as Oe,bu as K,b$ as he,bJ as ge,aj as $,aY as fe,a_ as Be,aL as ke,c0 as se,X as _e,aD as ze,a8 as Pe,aZ as Ne,bc as We,ao as Ue,be as Fe}from"./app-BROHDOmb.js";import{S as Ge,L as ie,d as oe,B as Ke,A as Se,V as $e,T as Je,u as Ze,h as He,i as U,c as Ve,m as le,j as Xe,k as V,s as Qe,l as qe}from"./app-stage2-oGgDiPzn.js";function Ye(t,e){if(t.length!==e.length)return!1;for(var s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}function X(t,e){e===void 0&&(e=Ye);var s,i=[],l,u=!1;function d(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];return u&&s===this&&e(h,i)||(l=t.apply(this,h),u=!0,s=this,i=h),l}return d}var je=typeof performance=="object"&&typeof performance.now=="function",ce=je?function(){return performance.now()}:function(){return Date.now()};function re(t){cancelAnimationFrame(t.id)}function et(t,e){var s=ce();function i(){ce()-s>=e?t.call(null):l.id=requestAnimationFrame(i)}var l={id:requestAnimationFrame(i)};return l}var O=null;function ue(t){if(t===void 0&&(t=!1),O===null||t){var e=document.createElement("div"),s=e.style;s.width="50px",s.height="50px",s.overflow="scroll",s.direction="rtl";var i=document.createElement("div"),l=i.style;return l.width="100px",l.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?O="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?O="negative":O="positive-ascending"),document.body.removeChild(e),O}return O}var tt=150,nt=function(e,s){return e};function at(t){var e,s,i=t.getItemOffset,l=t.getEstimatedTotalSize,u=t.getItemSize,d=t.getOffsetForIndexAndAlignment,h=t.getStartIndexForOffset,c=t.getStopIndexForStartIndex,L=t.initInstanceProps,x=t.shouldResetStyleCacheOnItemSizeChange,C=t.validateProps;return s=e=function(p){Ee(E,p);function E(S){var a;return a=p.call(this,S)||this,a._instanceProps=L(a.props,N(N(a))),a._outerRef=void 0,a._resetIsScrollingTimeoutId=null,a.state={instance:N(N(a)),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof a.props.initialScrollOffset=="number"?a.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},a._callOnItemsRendered=void 0,a._callOnItemsRendered=X(function(o,r,m,g){return a.props.onItemsRendered({overscanStartIndex:o,overscanStopIndex:r,visibleStartIndex:m,visibleStopIndex:g})}),a._callOnScroll=void 0,a._callOnScroll=X(function(o,r,m){return a.props.onScroll({scrollDirection:o,scrollOffset:r,scrollUpdateWasRequested:m})}),a._getItemStyle=void 0,a._getItemStyle=function(o){var r=a.props,m=r.direction,g=r.itemSize,A=r.layout,f=a._getItemStyleCache(x&&g,x&&A,x&&m),I;if(f.hasOwnProperty(o))I=f[o];else{var v,D=i(a.props,o,a._instanceProps),b=u(a.props,o,a._instanceProps),T=m==="horizontal"||A==="horizontal";f[o]=I=(v={position:"absolute"},v[m==="rtl"?"right":"left"]=T?D:0,v.top=T?0:D,v.height=T?"100%":b,v.width=T?b:"100%",v)}return I},a._getItemStyleCache=void 0,a._getItemStyleCache=X(function(o,r,m){return{}}),a._onScrollHorizontal=function(o){var r=o.currentTarget,m=r.clientWidth,g=r.scrollLeft,A=r.scrollWidth;a.setState(function(f){if(f.scrollOffset===g)return null;var I=a.props.direction,v=g;if(I==="rtl")switch(ue()){case"negative":v=-g;break;case"positive-descending":v=A-m-g;break}return v=Math.max(0,Math.min(v,A-m)),{isScrolling:!0,scrollDirection:f.scrollOffset<g?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._onScrollVertical=function(o){var r=o.currentTarget,m=r.clientHeight,g=r.scrollHeight,A=r.scrollTop;a.setState(function(f){if(f.scrollOffset===A)return null;var I=Math.max(0,Math.min(A,g-m));return{isScrolling:!0,scrollDirection:f.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},a._resetIsScrollingDebounced)},a._outerRefSetter=function(o){var r=a.props.outerRef;a._outerRef=o,typeof r=="function"?r(o):r!=null&&typeof r=="object"&&r.hasOwnProperty("current")&&(r.current=o)},a._resetIsScrollingDebounced=function(){a._resetIsScrollingTimeoutId!==null&&re(a._resetIsScrollingTimeoutId),a._resetIsScrollingTimeoutId=et(a._resetIsScrolling,tt)},a._resetIsScrolling=function(){a._resetIsScrollingTimeoutId=null,a.setState({isScrolling:!1},function(){a._getItemStyleCache(-1,null)})},a}E.getDerivedStateFromProps=function(a,o){return st(a,o),C(a),null};var y=E.prototype;return y.scrollTo=function(a){a=Math.max(0,a),this.setState(function(o){return o.scrollOffset===a?null:{scrollDirection:o.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(a,o){o===void 0&&(o="auto");var r=this.props.itemCount,m=this.state.scrollOffset;a=Math.max(0,Math.min(a,r-1)),this.scrollTo(d(this.props,a,o,m,this._instanceProps))},y.componentDidMount=function(){var a=this.props,o=a.direction,r=a.initialScrollOffset,m=a.layout;if(typeof r=="number"&&this._outerRef!=null){var g=this._outerRef;o==="horizontal"||m==="horizontal"?g.scrollLeft=r:g.scrollTop=r}this._callPropsCallbacks()},y.componentDidUpdate=function(){var a=this.props,o=a.direction,r=a.layout,m=this.state,g=m.scrollOffset,A=m.scrollUpdateWasRequested;if(A&&this._outerRef!=null){var f=this._outerRef;if(o==="horizontal"||r==="horizontal")if(o==="rtl")switch(ue()){case"negative":f.scrollLeft=-g;break;case"positive-ascending":f.scrollLeft=g;break;default:var I=f.clientWidth,v=f.scrollWidth;f.scrollLeft=v-I-g;break}else f.scrollLeft=g;else f.scrollTop=g}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&re(this._resetIsScrollingTimeoutId)},y.render=function(){var a=this.props,o=a.children,r=a.className,m=a.direction,g=a.height,A=a.innerRef,f=a.innerElementType,I=a.innerTagName,v=a.itemCount,D=a.itemData,b=a.itemKey,T=b===void 0?nt:b,M=a.layout,_=a.outerElementType,ve=a.outerTagName,be=a.style,Te=a.useIsScrolling,Ce=a.width,j=this.state.isScrolling,Z=m==="horizontal"||M==="horizontal",Ae=Z?this._onScrollHorizontal:this._onScrollVertical,ee=this._getRangeToRender(),Ie=ee[0],pe=ee[1],te=[];if(v>0)for(var z=Ie;z<=pe;z++)te.push(W.createElement(o,{data:D,key:T(z,D),index:z,isScrolling:Te?j:void 0,style:this._getItemStyle(z)}));var ne=l(this.props,this._instanceProps);return W.createElement(_||ve||"div",{className:r,onScroll:Ae,ref:this._outerRefSetter,style:we({position:"relative",height:g,width:Ce,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:m},be)},W.createElement(f||I||"div",{children:te,ref:A,style:{height:Z?"100%":ne,pointerEvents:j?"none":void 0,width:Z?ne:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var a=this.props.itemCount;if(a>0){var o=this._getRangeToRender(),r=o[0],m=o[1],g=o[2],A=o[3];this._callOnItemsRendered(r,m,g,A)}}if(typeof this.props.onScroll=="function"){var f=this.state,I=f.scrollDirection,v=f.scrollOffset,D=f.scrollUpdateWasRequested;this._callOnScroll(I,v,D)}},y._getRangeToRender=function(){var a=this.props,o=a.itemCount,r=a.overscanCount,m=this.state,g=m.isScrolling,A=m.scrollDirection,f=m.scrollOffset;if(o===0)return[0,0,0,0];var I=h(this.props,f,this._instanceProps),v=c(this.props,I,f,this._instanceProps),D=!g||A==="backward"?Math.max(1,r):1,b=!g||A==="forward"?Math.max(1,r):1;return[Math.max(0,I-D),Math.max(0,Math.min(o-1,v+b)),I,v]},E}(W.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},s}var st=function(e,s){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,s.instance},it=at({getItemOffset:function(e,s){var i=e.itemSize;return s*i},getItemSize:function(e,s){var i=e.itemSize;return i},getEstimatedTotalSize:function(e){var s=e.itemCount,i=e.itemSize;return i*s},getOffsetForIndexAndAlignment:function(e,s,i,l){var u=e.direction,d=e.height,h=e.itemCount,c=e.itemSize,L=e.layout,x=e.width,C=u==="horizontal"||L==="horizontal",p=C?x:d,E=Math.max(0,h*c-p),y=Math.min(E,s*c),S=Math.max(0,s*c-p+c);switch(i==="smart"&&(l>=S-p&&l<=y+p?i="auto":i="center"),i){case"start":return y;case"end":return S;case"center":{var a=Math.round(S+(y-S)/2);return a<Math.ceil(p/2)?0:a>E+Math.floor(p/2)?E:a}case"auto":default:return l>=S&&l<=y?l:l<S?S:y}},getStartIndexForOffset:function(e,s){var i=e.itemCount,l=e.itemSize;return Math.max(0,Math.min(i-1,Math.floor(s/l)))},getStopIndexForStartIndex:function(e,s,i){var l=e.direction,u=e.height,d=e.itemCount,h=e.itemSize,c=e.layout,L=e.width,x=l==="horizontal"||c==="horizontal",C=s*h,p=x?L:u,E=Math.ceil((p+i-C)/h);return Math.max(0,Math.min(d-1,s+E-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function ot(t){if(!t.container)return null;const e=t.container.clientHeight,s=t.container.clientWidth;return n.createElement(it,{height:e,itemCount:t.itemCount,itemSize:t.itemSize,width:s},t.children)}const lt=[new w.Asset("EURMTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("MTLAP","GCNVDZIHGX473FEI7IXCUAEXUJ4BGCKEMHF36VYP5EMS7PX2QBLAMTLA"),new w.Asset("MTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("MTLRECT","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("BTCMTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("SATSMTL","GACKTN5DAZGWXRWB2WLM6OPBDHAMT6SJNGLJZPQMEZBUR4JUGBX2UK7V"),new w.Asset("USDM","GDHDC4GBNPMENZAOBB4NCQ25TGZPDRK6ZGWUGSI22TVFATOLRPSUUSDM"),new w.Asset("USDC","GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN")],ct=[new w.Asset("USD","GCKFBEIYV2U22IO2BJ4KVJOIP7XPWQGQFKKWXR6DOSJBV7STMAQSMTGG"),new w.Asset("SRT","GCDNJUBQSX7AJWLJACMJ7I4BC3Z47BQUTMHEICZLE6MU4KQBRYG5JY6B")],rt=Q({clickable:{},icon:{[R.down(350)]:{minWidth:48}},logo:{[R.down(350)]:{width:36,height:36}},logoHidden:{visibility:"hidden"},badge:{top:4,right:4,boxShadow:"0 0 3px 1px black"},mainListItemText:{flex:"1 1 auto",whiteSpace:"nowrap"},mainListItemTextPrimaryTypography:{overflow:"hidden",textOverflow:"ellipsis",[R.down(400)]:{fontSize:15},[R.down(350)]:{fontSize:13}},mainListItemTextSecondaryTypography:{overflow:"hidden",textOverflow:"ellipsis",[R.down(400)]:{fontSize:14},[R.down(350)]:{fontSize:12}},balanceListItemText:{flex:"1 0 auto",marginLeft:8,textAlign:"right"},balanceText:{fontSize:"140%",[R.down(350)]:{fontSize:"120%"}},actions:{flex:"0 0 auto",marginLeft:4,marginRight:-16,width:48}});function ut(t){const e=rt(),s=`${t.className||""} ${t.onClick?e.clickable:""}`,i=n.useMemo(()=>Le(t.balance),[t.balance]),l=xe(i,t.testnet),{t:u}=k(),d=n.useMemo(()=>t.hideBalance?null:n.createElement(Ge,{assetCode:"",balance:t.balance.balance}),[t.balance.balance,t.hideBalance]);if(t.balance.asset_type==="native")return n.createElement(G,{button:!!t.onClick,className:s,onClick:t.onClick,style:t.style},n.createElement(ie,{className:e.icon},n.createElement(oe,{asset:i,className:`${e.logo} ${t.hideLogo?e.logoHidden:""}`,testnet:t.testnet})),n.createElement(B,{classes:{root:e.mainListItemText,primary:e.mainListItemTextPrimaryTypography,secondary:e.mainListItemTextSecondaryTypography},primary:t.spendableBalance?u("account.balance-details.item.spendable-balance.primary"):"Stellar Lumens (XLM)",secondary:t.spendableBalance?void 0:"stellar.org"}),n.createElement(B,{classes:{root:e.balanceListItemText,primary:e.balanceText},primary:d}));const h=l&&l.name||t.balance.asset_code,c=h!==t.balance.asset_code?`${h} (${t.balance.asset_code})`:t.balance.asset_code;return n.createElement(G,{button:!!t.onClick,className:s,onClick:t.onClick,style:t.style},n.createElement(ie,{className:e.icon},n.createElement(Ke,{badgeContent:t.badgeCount,classes:{badge:e.badge},color:"primary"},n.createElement(oe,{asset:i,className:`${e.logo} ${t.hideLogo?e.logoHidden:""}`,dark:!0,testnet:t.testnet}))),n.createElement(B,{className:e.mainListItemText,classes:{primary:e.mainListItemTextPrimaryTypography,secondary:e.mainListItemTextSecondaryTypography},primary:c,secondary:n.createElement(Se,{publicKey:t.balance.asset_issuer,testnet:t.testnet})}),n.createElement(B,{className:e.balanceListItemText,primary:d,primaryTypographyProps:{className:e.balanceText}}))}const P=n.memo(ut);function dt(t){const[e,s]=n.useState(""),[i,l]=n.useState(""),[u,d]=n.useState(""),h=De("(max-width:450px)"),{t:c}=k(),L=()=>t.createAddAssetTransaction(new w.Asset(e,i),{limit:u||void 0}),x=()=>t.sendTransaction(L);return n.createElement(q,{top:n.createElement(Y,{hideBackButton:!0,onBack:t.onClose,title:c("account-settings.custom-trustline.title")})},n.createElement("form",{noValidate:!0,style:{display:"block",width:"100%"}},n.createElement(H,{label:c("account-settings.custom-trustline.textfield.code.label"),placeholder:"EURT, USDT, BTC, ...",autoFocus:!0,margin:"dense",name:"asset-code",value:e,onChange:C=>s(C.target.value)}),n.createElement(H,{fullWidth:!0,label:c("account-settings.custom-trustline.textfield.issuer.label"),placeholder:c("account-settings.custom-trustline.textfield.issuer.placeholder"),margin:"dense",name:"asset-issuer",value:i,onChange:C=>l(C.target.value)}),n.createElement(H,{inputProps:{pattern:"^[0-9]*(.[0-9]+)?$",inputMode:"decimal"},fullWidth:!0,label:c("account-settings.custom-trustline.textfield.limit.label"),placeholder:c("account-settings.custom-trustline.textfield.limit.placeholder"),margin:"dense",name:"trust-limit",value:u,type:"number",onChange:C=>d(C.target.value)}),n.createElement(Re,{preventMobileActionsBox:!0},n.createElement(ae,{onClick:t.onClose},c("account-settings.custom-trustline.action.cancel")),n.createElement(ae,{icon:n.createElement($e,null),loading:t.txCreationPending,onClick:x,type:"primary"},c(h?"account-settings.custom-trustline.action.trust.short":"account-settings.custom-trustline.action.trust.long")))))}const mt=n.memo(dt);function ht(t,e){return e=e.toLowerCase(),t.code.toLowerCase().startsWith(e)||t.name.toLowerCase().startsWith(e)}function gt(t,e){return e=e.toLowerCase(),t.name.toLowerCase().startsWith(e)}function ye(t){return{asset_code:t.getCode(),asset_issuer:t.getIssuer(),asset_type:t.getAssetType(),balance:"0",is_authorized:!0,is_authorized_to_maintain_liabilities:!0,last_modified_ledger:0,limit:"0",buying_liabilities:"0",selling_liabilities:"0",is_clawback_enabled:!1}}function ft(t,e){const s={};for(const i of t){const l=e(i),u=s[l];u?u.push(i):s[l]=[i]}return s}const St=n.memo(function(e){return n.createElement(n.Fragment,null,e.assets.map(s=>n.createElement(P,{key:J(s),balance:ye(s),hideBalance:!0,onClick:()=>e.onOpenAssetDetails(s),testnet:e.testnet})))}),F=73,de=Q({assetItem:{borderRadius:"0 !important",height:F},issuerItem:{background:"white",borderRadius:8,height:F},noResultItem:{background:"white",borderRadius:8,height:F}});function yt(t,e,s){const i=[];for(const d of Object.keys(e))i.push({type:"issuer",issuer:d}),i.push(...e[d].map(h=>({type:"asset",issuer:d,record:h})));function l(d){const h=de(),c=i[d.index],{t:L}=k();return n.createElement("div",{style:d.style},n.createElement(n.Suspense,{fallback:n.createElement($,null)},c.type==="issuer"?n.createElement(G,{key:c.issuer,className:h.issuerItem},n.createElement(B,{primary:c.issuer==="native"?"stellar.org":n.createElement(Se,{publicKey:c.issuer,testnet:t.testnet}),secondary:e[c.issuer].length===1?L("account.add-asset.item.issuer.secondary.one-asset"):L("account.add-asset.item.issuer.secondary.more-than-one-asset",{amount:e[c.issuer].length}),secondaryTypographyProps:{style:{overflow:"hidden",textOverflow:"ellipsis"}}})):null,c.type==="asset"?n.createElement(P,{balance:ye(se(c.record)),className:h.assetItem,hideBalance:!0,onClick:()=>s(se(c.record)),style:{paddingLeft:32},testnet:t.testnet}):null))}function u(){const d=de(),{t:h}=k();return n.createElement(G,{key:0,className:d.noResultItem},n.createElement(B,{primary:h("account.add-asset.item.no-result.primary"),secondary:h("account.add-asset.item.no-result.secondary")}))}return i.length>0?(l.count=i.length,l):(u.count=1,u)}const vt=Q({grow:{flexGrow:1},list:{marginTop:16,padding:0},searchField:{background:"white",flexShrink:0,flexGrow:0,marginBottom:16},searchFieldInput:{fontSize:16,paddingTop:14,paddingBottom:14}}),bt=n.memo(function(e){const s=e.account.testnet?ct:lt,i=vt(),l=n.useRef(null),u=Ze(e.account.testnet),d=me(),{t:h}=k(),c=He(e.account.testnet),[L,x]=n.useState(!1),[C,p]=n.useState(""),[E,y]=n.useState(!1),S=n.useCallback(b=>d.history.push(U(e.account.id,J(b))),[d.history,e.account.id]),a=()=>x(!0),o=()=>x(!1),r=async(b,T={})=>{const M=[w.Operation.changeTrust({asset:b,limit:T.limit,withMuxing:!0})];return Ve(M,{accountData:e.accountData,horizon:e.horizon,walletAccount:e.account})},m=async b=>{try{y(!0);const T=await b();y(!1),await e.sendTransaction(T)}catch(T){y(!1),ke(T)}},g=b=>e.accountData.balances.some(T=>T.asset_code===b.code&&T.asset_issuer===b.issuer),A=n.useCallback((b,T)=>{const M=T.toLowerCase(),_=c.lookup(b);return _?_.domain.toLowerCase().includes(M)||_.name.toLowerCase().includes(M):!1},[c]),f=s.filter(b=>!g(b)),I=n.useCallback(b=>{p(b.target.value)},[]),v=n.useMemo(()=>{const b=u.filter(T=>ht(T,C)||gt(T.issuer_detail,C)||A(T.issuer,C));return ft(b,T=>T.issuer)},[u,C,A]),D=n.useMemo(()=>yt(e.account,v,S),[e.account,v,S]);return n.createElement(q,{excessWidth:24,top:n.createElement(Y,{onBack:e.onClose,title:h("account.add-asset.title")})},n.createElement(Me,{grow:!0,margin:"16px 0 0"},n.createElement(Oe,{autoFocus:!0,className:i.searchField,inputProps:{className:i.searchFieldInput},onChange:I,value:C,placeholder:h("account.add-asset.search-field.placeholder")}),n.createElement(K,{className:i.list},n.createElement(he,{onClick:a},n.createElement(ge,null),"  ",h("account.add-asset.button.add-custom-asset.label"))),n.createElement(n.Suspense,{fallback:n.createElement($,null)},C?n.createElement("ul",{className:`${i.list} ${i.grow}`,ref:l},n.createElement(ot,{container:l.current,itemCount:D.count,itemSize:F},D)):n.createElement(K,{className:`${i.list} ${i.grow}`},n.createElement(St,{assets:f,onOpenAssetDetails:S,testnet:e.account.testnet})))),n.createElement(fe,{open:L,onClose:o,TransitionComponent:Be},n.createElement(n.Suspense,{fallback:n.createElement($,null)},n.createElement(mt,{account:e.account,accountData:e.accountData,createAddAssetTransaction:r,horizon:e.horizon,onClose:o,sendTransaction:m,txCreationPending:E}))))});function Tt(t){return n.createElement(Je,{account:t.account,onSubmissionCompleted:t.onClose},({horizon:e,sendTransaction:s})=>n.createElement(bt,{...t,horizon:e,sendTransaction:s}))}const Ct=n.memo(Tt);function At(t,e){return e.asset_type==="native"?t.isNative():e.asset_code===t.getCode()&&e.asset_issuer===t.getIssuer()}const It=n.memo(function(e){return n.createElement(n.Fragment,null,e.assets.map(s=>{const i=e.accountData.balances.find(d=>At(s,d)),l=e.openOffers.filter(d=>d.buying.asset_code===s.code&&d.buying.asset_issuer===s.issuer||d.selling.asset_code===s.code&&d.selling.asset_issuer===s.issuer),u=e.olderOffersAvailable&&l.length>=10?"10+":l.length;return n.createElement(P,{key:J(s),badgeCount:u,balance:i,onClick:()=>e.onOpenAssetDetails(s),style:{paddingLeft:e.hpadding,paddingRight:e.hpadding,marginLeft:e.hmargin,marginRight:e.hmargin},testnet:e.account.testnet})}))}),pt=n.memo(function(e){return n.createElement(n.Fragment,null,n.createElement(P,{key:"XLM",balance:e.balance,onClick:()=>e.onOpenAssetDetails(w.Asset.native()),style:{paddingLeft:e.hpadding,paddingRight:e.hpadding,marginLeft:e.hmargin,marginRight:e.hmargin},testnet:e.account.testnet}),n.createElement(P,{key:"XLM:spendable",balance:{...e.balance,balance:Ue(e.balance.balance).eq(0)?"0":We(Fe(e.accountData),e.balance).toString()},hideLogo:!0,onClick:()=>e.onOpenAssetDetails(w.Asset.native()),spendableBalance:!0,style:{marginTop:-8,paddingLeft:e.hpadding,paddingRight:e.hpadding,marginLeft:e.hmargin,marginRight:e.hmargin},testnet:e.account.testnet}))});function Et(t){const e=_e(t.account.accountID,t.account.testnet),{offers:s,olderOffersAvailable:i}=ze(t.account.accountID,t.account.testnet),l=Pe(),u=me(),{t:d}=k(),h=n.useCallback(()=>u.history.push(le(t.account.id)),[t.account.id,u.history]),c=n.useCallback(()=>u.history.push(Xe(t.account.id)),[t.account.id,u.history]),L=V(u.location.pathname,le(t.account.id)),x=V(u.location.pathname,U("*","*"))&&!V(u.location.pathname,U("*","manage")),C=o=>u.history.push(U(t.account.id,J(o))),p=Qe(e.balances).filter(o=>o.asset_type!=="native").map(o=>new w.Asset(o.asset_code,o.asset_issuer)),E=e.balances.find(o=>o.asset_type==="native"),y=l?0:8,S=16,a=0;return n.createElement(q,{excessWidth:12,top:n.createElement(Y,{onBack:t.onClose,title:t.account.name})},n.createElement(K,{style:{paddingLeft:y,paddingRight:y,margin:"0 -8px"}},n.createElement(he,{gutterBottom:!0,onClick:h,style:{padding:`0 ${S}px`,marginLeft:a,marginRight:a}},n.createElement(ge,null),"  ",d("account.balance-details.button.add-asset.label")),n.createElement(It,{account:t.account,accountData:e,assets:p,hmargin:a,hpadding:S,onOpenAssetDetails:C,openOffers:s,olderOffersAvailable:i})),n.createElement(qe,{style:{margin:"16px 0"}}),n.createElement(K,{style:{paddingLeft:y,paddingRight:y,margin:"0 -8px 8px"}},E?n.createElement(pt,{account:t.account,accountData:e,balance:E,hmargin:a,hpadding:S,onOpenAssetDetails:C}):null),n.createElement(fe,{fullScreen:!0,open:L||x,onClose:c,TransitionComponent:Ne},n.createElement(n.Suspense,{fallback:n.createElement($,null)},n.createElement(Ct,{account:t.account,accountData:e,hpadding:y,itemHPadding:S,onClose:c}))))}const xt=n.memo(Et);export{xt as default};
//# sourceMappingURL=BalanceDetailsDialog-Q2iBlQpm.js.map
