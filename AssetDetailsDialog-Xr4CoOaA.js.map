{"version":3,"file":"AssetDetailsDialog-Xr4CoOaA.js","sources":["../src/Assets/components/RemoveTrustline.tsx","../src/Assets/components/AssetDetailsActions.tsx","../src/Assets/components/SpendableBalanceBreakdown.tsx","../src/Assets/components/AssetDetailsDialog.tsx"],"sourcesContent":["import React from \"react\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { Asset, Horizon, Operation } from \"@stellar/stellar-sdk\"\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogContentText from \"@material-ui/core/DialogContentText\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { trackError } from \"~App/contexts/notifications\"\nimport { AccountData } from \"~Generic/lib/account\"\nimport { createTransaction } from \"~Generic/lib/transaction\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport TransactionSender, { SendTransaction } from \"~Transaction/components/TransactionSender\"\n\ninterface Props {\n  account: Account\n  accountData: AccountData\n  asset: Asset\n  horizon: Horizon.Server\n  onClose: () => void\n  onRemoved: () => void\n  sendTransaction: SendTransaction\n}\n\n// tslint:disable-next-line no-shadowed-variable\nconst RemoveTrustlineDialog = React.memo(function RemoveTrustlineDialog(props: Props) {\n  const { t } = useTranslation()\n  const [txCreationPending, setTxCreationPending] = React.useState(false)\n\n  const removeAsset = async () => {\n    try {\n      setTxCreationPending(true)\n      const operations = [Operation.changeTrust({ asset: props.asset, limit: \"0\", withMuxing: true })]\n      const transaction = await createTransaction(operations, {\n        accountData: props.accountData,\n        horizon: props.horizon,\n        walletAccount: props.account\n      })\n      setTxCreationPending(false)\n      await props.sendTransaction(transaction)\n      props.onRemoved()\n    } catch (error) {\n      setTxCreationPending(false)\n      trackError(error)\n    }\n  }\n\n  const assetBalance = (props.accountData.balances as Horizon.BalanceLineAsset[]).find(\n    balance => balance.asset_code === props.asset.getCode() && balance.asset_issuer === props.asset.getIssuer()\n  )\n  const stillOwnsTokens = assetBalance && parseFloat(assetBalance.balance) > 0\n\n  return (\n    <>\n      <DialogTitle>{t(\"account.remove-trustline.title\")}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {stillOwnsTokens ? (\n            <>{t(\"account.remove-trustline.text.warning\")}</>\n          ) : (\n            <Trans i18nKey=\"account.remove-trustline.text.info\">\n              You are about to remove <b>{{ asset: props.asset.code }}</b> from account \"\n              {{ accountName: props.account.name }}\".\n            </Trans>\n          )}\n        </DialogContentText>\n        {/* Not in the DialogBody's `actions` prop as it's not a fullscreen dialog */}\n        <DialogActionsBox preventMobileActionsBox>\n          <ActionButton onClick={props.onClose} style={{ maxWidth: \"none\" }}>\n            {t(\"account.remove-trustline.action.cancel\")}\n          </ActionButton>\n          {stillOwnsTokens ? null : (\n            <ActionButton\n              autoFocus\n              disabled={stillOwnsTokens}\n              loading={txCreationPending}\n              icon={<CloseIcon />}\n              onClick={removeAsset}\n              style={{ maxWidth: \"none\" }}\n              type=\"primary\"\n            >\n              {t(\"account.remove-trustline.action.remove\")}\n            </ActionButton>\n          )}\n        </DialogActionsBox>\n      </DialogContent>\n    </>\n  )\n})\n\nfunction ConnectedRemoveTrustlineDialog(props: Omit<Props, \"balances\" | \"horizon\" | \"sendTransaction\">) {\n  return (\n    <TransactionSender account={props.account} onSubmissionCompleted={props.onClose}>\n      {({ horizon, sendTransaction }) => (\n        <RemoveTrustlineDialog\n          {...props}\n          accountData={props.accountData}\n          horizon={horizon}\n          sendTransaction={sendTransaction}\n        />\n      )}\n    </TransactionSender>\n  )\n}\n\nexport default React.memo(ConnectedRemoveTrustlineDialog)\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Asset, Operation, Horizon, Transaction } from \"@stellar/stellar-sdk\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport ClearIcon from \"@material-ui/icons/Clear\"\nimport SwapHorizIcon from \"@material-ui/icons/SwapHoriz\"\nimport SendIcon from \"@material-ui/icons/Send\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { trackError } from \"~App/contexts/notifications\"\nimport * as routes from \"~App/routes\"\nimport { CompactDialogTransition } from \"~App/theme\"\nimport { useLiveAccountData } from \"~Generic/hooks/stellar-subscriptions\"\nimport { useRouter } from \"~Generic/hooks/userinterface\"\nimport { createTransaction } from \"~Generic/lib/transaction\"\nimport { stringifyAsset } from \"~Generic/lib/stellar\"\nimport { DialogActionsBox, ActionButton } from \"~Generic/components/DialogActions\"\nimport TransactionSender, { SendTransaction } from \"~Transaction/components/TransactionSender\"\nimport RemoveTrustlineDialog from \"./RemoveTrustline\"\n\nconst dialogActionsBoxStyle: React.CSSProperties = {\n  marginTop: 8\n}\n\ninterface Props {\n  account: Account\n  asset: Asset\n  horizon: Horizon.Server\n  sendTransaction: SendTransaction\n}\n\nfunction AssetDetailsActions(props: Props) {\n  const { account, asset } = props\n  const [removalDialogOpen, setRemovalDialogOpen] = React.useState(false)\n  const [txCreationPending, setTxCreationPending] = React.useState(false)\n  const router = useRouter()\n  const { t } = useTranslation()\n\n  const accountData = useLiveAccountData(account.accountID, account.testnet)\n\n  const balance = accountData.balances.find(\n    bal => bal.asset_type !== \"native\" && bal.asset_issuer === asset.issuer && bal.asset_code === asset.code\n  )\n\n  const createAddAssetTransaction = async (options: { limit?: string } = {}) => {\n    const operations = [Operation.changeTrust({ asset, limit: options.limit })]\n    return createTransaction(operations, {\n      accountData,\n      horizon: props.horizon,\n      walletAccount: props.account\n    })\n  }\n\n  const navigateBackDelayed = React.useCallback(() => {\n    setTimeout(() => router.history.push(routes.account(props.account.id)), 1300)\n  }, [props.account, router.history])\n\n  const sendTransaction = async (createTransactionToSend: () => Promise<Transaction>) => {\n    try {\n      setTxCreationPending(true)\n      const transaction = await createTransactionToSend()\n      setTxCreationPending(false)\n      await props.sendTransaction(transaction)\n      closeRemovalDialog()\n      navigateBackDelayed()\n    } catch (error) {\n      setTxCreationPending(false)\n      trackError(error)\n    }\n  }\n\n  const addThisAsset = () => sendTransaction(() => createAddAssetTransaction())\n  const closeRemovalDialog = React.useCallback(() => setRemovalDialogOpen(false), [])\n  const removeThisAsset = React.useCallback(() => setRemovalDialogOpen(true), [])\n\n  const tradeThisAsset = React.useCallback(\n    () => router.history.push(routes.tradeAsset(props.account.id, undefined, stringifyAsset(asset))),\n    [asset, props.account.id, router.history]\n  )\n\n  const sendThisAsset = React.useCallback(\n    () => router.history.push(routes.createPayment(props.account.id, stringifyAsset(asset))),\n    [asset, props.account.id, router.history]\n  )\n\n  return (\n    <>\n      <DialogActionsBox desktopStyle={dialogActionsBoxStyle} smallDialog>\n        {balance ? (\n          <>\n            <ActionButton icon={<ClearIcon />} onClick={removeThisAsset} type=\"secondary\">\n              {t(\"account.add-asset.action.remove\")}\n            </ActionButton>\n            <ActionButton icon={<SwapHorizIcon />} onClick={tradeThisAsset} type=\"primary\">\n              {t(\"account.add-asset.action.trade\")}\n            </ActionButton>\n            <ActionButton icon={<SendIcon />} onClick={sendThisAsset} type=\"primary\">\n              {t(\"account.action.send\")}\n            </ActionButton>\n          </>\n        ) : (\n          <ActionButton loading={txCreationPending} onClick={addThisAsset} type=\"primary\">\n            {t(\"account.add-asset.action.add-asset\")}\n          </ActionButton>\n        )}\n      </DialogActionsBox>\n      <Dialog open={removalDialogOpen} onClose={closeRemovalDialog} TransitionComponent={CompactDialogTransition}>\n        <RemoveTrustlineDialog\n          account={props.account}\n          accountData={accountData}\n          asset={asset}\n          onClose={closeRemovalDialog}\n          onRemoved={navigateBackDelayed}\n        />\n      </Dialog>\n    </>\n  )\n}\n\nfunction ConnectedAssetDetailsActions(props: Omit<Props, \"horizon\" | \"sendTransaction\">) {\n  return (\n    <TransactionSender account={props.account}>\n      {({ horizon, sendTransaction }) => (\n        <AssetDetailsActions {...props} horizon={horizon} sendTransaction={sendTransaction} />\n      )}\n    </TransactionSender>\n  )\n}\n\nexport default React.memo(ConnectedAssetDetailsActions)\n","import BigNumber from \"big.js\"\nimport React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport List from \"@material-ui/core/List\"\nimport ListItem from \"@material-ui/core/ListItem\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { AccountData } from \"~Generic/lib/account\"\nimport { breakpoints } from \"~App/theme\"\nimport { SingleBalance } from \"~Account/components/AccountBalances\"\n\nconst useBreakdownItemStyles = makeStyles({\n  root: {\n    padding: 0\n  },\n  mainListItemText: {\n    flexShrink: 5\n  },\n  mainListItemTextIndent: {\n    marginLeft: 24,\n\n    [breakpoints.down(600)]: {\n      marginLeft: 12\n    }\n  },\n  mainListItemTextPrimaryTypography: {\n    fontSize: 18,\n    fontWeight: 300,\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n\n    [breakpoints.down(400)]: {\n      fontSize: 16,\n      lineHeight: \"20px\"\n    }\n  },\n  mainListItemTextSecondaryTypography: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n\n    [breakpoints.down(400)]: {\n      fontSize: 14\n    },\n    [breakpoints.down(350)]: {\n      fontSize: 12\n    }\n  },\n  balanceListItem: {\n    marginLeft: 8,\n    textAlign: \"right\"\n  }\n})\n\ninterface BreakdownItemProps {\n  amount: string\n  hide?: boolean\n  indent?: boolean\n  primary: React.ReactNode\n  secondary?: React.ReactNode\n  style?: React.CSSProperties\n  variant?: \"deduction\" | \"gross\" | \"total\"\n}\n\nfunction BreakdownItem(props: BreakdownItemProps) {\n  const { variant = \"deduction\" } = props\n  const classes = useBreakdownItemStyles()\n\n  if (props.hide) {\n    return null\n  }\n  return (\n    <ListItem className={classes.root} style={props.style}>\n      <ListItemText\n        classes={{\n          root: `${classes.mainListItemText} ${props.indent ? classes.mainListItemTextIndent : \"\"}`,\n          primary: classes.mainListItemTextPrimaryTypography,\n          secondary: classes.mainListItemTextSecondaryTypography\n        }}\n        primary={props.primary}\n        secondary={props.secondary}\n      />\n      <ListItemText\n        className={classes.balanceListItem}\n        primaryTypographyProps={{\n          style: { fontSize: \"150%\" }\n        }}\n      >\n        {variant === \"deduction\" ? \"-\" : variant === \"gross\" ? \"\" : \"=\"}\n        &nbsp;\n        <SingleBalance assetCode=\"\" balance={props.amount} />\n      </ListItemText>\n    </ListItem>\n  )\n}\n\nconst BreakdownHeadline = React.memo(function BreakdownHeadline(props: { left?: string; right?: string }) {\n  const classes = useBreakdownItemStyles()\n\n  return (\n    <ListItem className={classes.root} style={{ borderBottom: \"none\" }}>\n      <ListItemText\n        classes={{\n          root: classes.mainListItemText,\n          primary: classes.mainListItemTextPrimaryTypography,\n          secondary: classes.mainListItemTextSecondaryTypography\n        }}\n        primary={props.left}\n      />\n      <ListItemText\n        className={classes.balanceListItem}\n        primaryTypographyProps={{\n          style: {\n            fontSize: \"120%\",\n            fontWeight: 300\n          }\n        }}\n        style={{\n          marginTop: 0,\n          marginBottom: 0\n        }}\n      >\n        {props.right}\n      </ListItemText>\n    </ListItem>\n  )\n})\n\ninterface Props {\n  account: Account\n  accountData: AccountData\n  baseReserve: number\n  style?: React.CSSProperties\n}\n\nfunction SpendableBalanceBreakdown(props: Props) {\n  const { t } = useTranslation()\n\n  const nativeBalance = props.accountData.balances.find(balance => balance.asset_type === \"native\")\n  const trustedAssetBalances = props.accountData.balances.filter(balance => balance.asset_type !== \"native\")\n\n  const dataReserve = props.baseReserve * Object.keys(props.accountData.data_attr).length\n  const signersReserve = props.baseReserve * props.accountData.signers.length\n  const trustlinesReserve = props.baseReserve * trustedAssetBalances.length\n  const sellingLiabilities = nativeBalance ? BigNumber(nativeBalance.selling_liabilities) : BigNumber(0)\n\n  // calculate open orders reserve based on subentry count to circumvent fetching all orders\n  const openOrdersReserve = BigNumber(props.accountData.subentry_count * props.baseReserve)\n    .minus(props.baseReserve * (props.accountData.signers.length - 1))\n    .minus(dataReserve)\n    .minus(trustlinesReserve)\n\n  const rawBalance = nativeBalance ? BigNumber(nativeBalance.balance) : BigNumber(0)\n  const spendableBalance = rawBalance\n    .minus(props.baseReserve)\n    .minus(dataReserve)\n    .minus(openOrdersReserve)\n    .minus(signersReserve)\n    .minus(trustlinesReserve)\n    .minus(sellingLiabilities)\n\n  return (\n    <List style={{ padding: 0 }}>\n      <BreakdownHeadline right={t(\"account.balance-details.spendable-balances.headline\")} />\n      <BreakdownItem\n        amount={rawBalance.toFixed(4)}\n        primary={t(\"account.balance-details.spendable-balances.total-balance.primary\")}\n        secondary={t(\"account.balance-details.spendable-balances.total-balance.secondary\")}\n        style={props.style}\n        variant=\"gross\"\n      />\n      <BreakdownItem\n        amount={props.baseReserve.toFixed(1)}\n        indent\n        primary={t(\"account.balance-details.spendable-balances.base-reserve.primary\")}\n        secondary={t(\"account.balance-details.spendable-balances.base-reserve.secondary\")}\n        style={props.style}\n      />\n      <BreakdownItem\n        amount={signersReserve.toFixed(1)}\n        indent\n        primary={t(\"account.balance-details.spendable-balances.signers-reserve.primary\")}\n        secondary={\n          props.accountData.signers.length === 1\n            ? t(\"account.balance-details.spendable-balances.signers-reserve.secondary.single-key\")\n            : t(\"account.balance-details.spendable-balances.signers-reserve.secondary.multiple-keys\")\n        }\n        style={props.style}\n      />\n      <BreakdownItem\n        amount={trustlinesReserve.toFixed(1)}\n        hide={trustlinesReserve === 0}\n        indent\n        primary={t(\"account.balance-details.spendable-balances.trustline-reserve.primary\")}\n        secondary={t(\"account.balance-details.spendable-balances.trustline-reserve.secondary\")}\n        style={props.style}\n      />\n      <BreakdownItem\n        amount={openOrdersReserve.toFixed(1)}\n        hide={openOrdersReserve.cmp(0) === 0}\n        indent\n        primary={t(\"account.balance-details.spendable-balances.open-orders-reserve.primary\")}\n        secondary={t(\"account.balance-details.spendable-balances.open-orders-reserve.secondary\")}\n        style={props.style}\n      />\n      <BreakdownItem\n        amount={dataReserve.toFixed(1)}\n        hide={dataReserve === 0}\n        indent\n        primary={t(\"account.balance-details.spendable-balances.data-reserve.primary\")}\n        secondary={t(\"account.balance-details.spendable-balances.data-reserve.secondary\")}\n        style={props.style}\n      />\n      <BreakdownItem\n        amount={sellingLiabilities.toString()}\n        hide={sellingLiabilities.eq(0)}\n        indent\n        primary={t(\"account.balance-details.spendable-balances.selling-liabilities.primary\")}\n        secondary={t(\"account.balance-details.spendable-balances.selling-liabilities.secondary\")}\n        style={props.style}\n      />\n      <BreakdownItem\n        amount={spendableBalance.toString()}\n        primary={t(\"account.balance-details.spendable-balances.spendable-balance.primary\")}\n        secondary={t(\"account.balance-details.spendable-balances.spendable-balance.secondary\")}\n        style={props.style}\n        variant=\"total\"\n      />\n    </List>\n  )\n}\n\nexport default React.memo(SpendableBalanceBreakdown)\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Asset } from \"@stellar/stellar-sdk\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Card from \"@material-ui/core/Card\"\nimport CardContent from \"@material-ui/core/CardContent\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { useAccountData, useAssetMetadata, useStellarToml } from \"~Generic/hooks/stellar\"\nimport { useClipboard, useIsMobile } from \"~Generic/hooks/userinterface\"\nimport { BASE_RESERVE, parseAssetID } from \"~Generic/lib/stellar\"\nimport { openLink } from \"~Platform/links\"\nimport { breakpoints } from \"~App/theme\"\nimport { StellarTomlCurrency } from \"~shared/types/stellar-toml\"\nimport { SingleBalance } from \"~Account/components/AccountBalances\"\nimport DialogBody from \"~Layout/components/DialogBody\"\nimport { AccountName } from \"~Generic/components/Fetchers\"\nimport { ReadOnlyTextfield } from \"~Generic/components/FormFields\"\nimport { Box, VerticalLayout } from \"~Layout/components/Box\"\nimport MainTitle from \"~Generic/components/MainTitle\"\nimport AssetDetailsActions from \"./AssetDetailsActions\"\nimport AssetLogo from \"./AssetLogo\"\nimport SpendableBalanceBreakdown from \"./SpendableBalanceBreakdown\"\nimport { useLiveAccountData } from \"~Generic/hooks/stellar-subscriptions\"\nimport VisibilityIconButton from \"./VisibilityIconButton\"\n\nconst capitalize = (text: string) => text[0].toUpperCase() + text.substr(1)\n\nconst useDetailContentStyles = makeStyles({\n  card: {\n    backgroundColor: \"#fbfbfb\",\n    borderRadius: 8,\n    margin: \"12px -8px\",\n    overflowY: \"auto\"\n  },\n  cardContent: {\n    position: \"relative\",\n    padding: \"8px 16px !important\"\n  },\n  cardTitle: {\n    fontSize: 20,\n    fontWeight: 400,\n    marginBottom: 8\n  },\n  cardLogo: {\n    position: \"absolute\",\n    top: 8,\n    right: 8,\n    width: 72,\n    height: 72,\n    backgroundColor: \"white\",\n    boxShadow: \"0 0 2px 2px rgba(0, 0, 0, 0.2)\"\n  },\n  cardLogoImage: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n})\n\ninterface LumenDetailProps {\n  account: Account\n}\n\nconst LumenDetails = React.memo(function LumenDetails(props: LumenDetailProps) {\n  const accountData = useLiveAccountData(props.account.accountID, props.account.testnet)\n  const classes = useDetailContentStyles()\n  const { t } = useTranslation()\n\n  return (\n    <>\n      <Card className={classes.card}>\n        <CardContent className={classes.cardContent}>\n          <ReadOnlyTextfield\n            disableUnderline\n            fullWidth\n            label={t(\"account.asset-details.lumen.description.label\")}\n            multiline\n            value={t(\"account.asset-details.lumen.description.text\")}\n          />\n        </CardContent>\n      </Card>\n      <Card className={classes.card}>\n        <CardContent className={classes.cardContent}>\n          <SpendableBalanceBreakdown account={props.account} accountData={accountData} baseReserve={BASE_RESERVE} />\n        </CardContent>\n      </Card>\n    </>\n  )\n})\n\ninterface AssetDetailProps {\n  account: Account\n  asset: Asset\n  metadata: StellarTomlCurrency | undefined\n}\n\nconst AssetDetails = React.memo(function AssetDetails({ account, asset, metadata }: AssetDetailProps) {\n  const issuingAccountData = useAccountData(asset.issuer, account.testnet)\n  const stellarToml = useStellarToml(issuingAccountData.home_domain)\n\n  const classes = useDetailContentStyles()\n  const clipboard = useClipboard()\n  const { t } = useTranslation()\n\n  const copyIssuerToClipboard = React.useCallback(() => clipboard.copyToClipboard(asset.getIssuer()), [\n    asset,\n    clipboard\n  ])\n\n  return (\n    <>\n      <Card className={classes.card}>\n        <CardContent className={classes.cardContent}>\n          {metadata && metadata.desc ? (\n            <ReadOnlyTextfield\n              disableUnderline\n              fullWidth\n              label={t(\"account.asset-details.general.description.label\")}\n              margin=\"dense\"\n              multiline\n              value={metadata.desc}\n            />\n          ) : null}\n          <ReadOnlyTextfield\n            disableUnderline\n            fullWidth\n            label={t(\"account.asset-details.general.issuing-account.label\")}\n            margin=\"dense\"\n            onClick={copyIssuerToClipboard}\n            value={asset.getIssuer()}\n            inputProps={{\n              style: {\n                cursor: \"pointer\",\n                textOverflow: \"ellipsis\"\n              }\n            }}\n          />\n          <ReadOnlyTextfield\n            disableUnderline\n            fullWidth\n            label={t(\"account.asset-details.general.account-flags.label\")}\n            margin=\"dense\"\n            multiline\n            value={capitalize(\n              [\n                issuingAccountData.flags.auth_required\n                  ? `• ${t(\"account.asset-details.general.account-flags.auth-required\")}`\n                  : `• ${t(\"account.asset-details.general.account-flags.auth-not-required\")}`,\n                issuingAccountData.flags.auth_revocable\n                  ? `• ${t(\"account.asset-details.general.account-flags.auth-revocable\")}`\n                  : `• ${t(\"account.asset-details.general.account-flags.auth-not-revocable\")}`,\n                issuingAccountData.flags.auth_immutable\n                  ? `• ${t(\"account.asset-details.general.account-flags.auth-immutable\")}`\n                  : `• ${t(\"account.asset-details.general.account-flags.auth-mutable\")}`\n              ].join(\"\\n\")\n            )}\n          />\n          {metadata && metadata.conditions ? (\n            <ReadOnlyTextfield\n              disableUnderline\n              fullWidth\n              label={t(\"account.asset-details.general.conditions.label\")}\n              margin=\"dense\"\n              multiline\n              value={metadata.conditions}\n            />\n          ) : null}\n          {metadata && metadata.anchor_asset_type ? (\n            <ReadOnlyTextfield\n              disableUnderline\n              fullWidth\n              label={t(\"account.asset-details.general.anchor-asset.label\")}\n              margin=\"dense\"\n              multiline\n              value={\n                metadata.anchor_asset\n                  ? `${capitalize(metadata.anchor_asset)} (${capitalize(metadata.anchor_asset_type)})`\n                  : capitalize(metadata.anchor_asset_type)\n              }\n            />\n          ) : null}\n          {metadata && metadata.redemption_instructions ? (\n            <ReadOnlyTextfield\n              disableUnderline\n              fullWidth\n              label={t(\"account.asset-details.general.redemption-instructions.label\")}\n              margin=\"dense\"\n              multiline\n              value={metadata.redemption_instructions}\n            />\n          ) : null}\n        </CardContent>\n      </Card>\n      {stellarToml && stellarToml.DOCUMENTATION ? (\n        <Card className={classes.card}>\n          <CardContent className={classes.cardContent}>\n            {stellarToml.DOCUMENTATION.ORG_LOGO ? (\n              <Avatar className={classes.cardLogo}>\n                <img\n                  alt=\"Organization logo\"\n                  className={classes.cardLogoImage}\n                  src={stellarToml.DOCUMENTATION.ORG_LOGO}\n                />\n              </Avatar>\n            ) : null}\n            {stellarToml.DOCUMENTATION.ORG_NAME ? (\n              <ReadOnlyTextfield\n                disableUnderline\n                fullWidth\n                label={t(\"account.asset-details.general.organisation.name.label\")}\n                margin=\"dense\"\n                value={stellarToml.DOCUMENTATION.ORG_NAME}\n              />\n            ) : null}\n            {stellarToml.DOCUMENTATION.ORG_DBA ? (\n              <ReadOnlyTextfield\n                disableUnderline\n                fullWidth\n                label={t(\"account.asset-details.general.organisation.dba.label\")}\n                margin=\"dense\"\n                value={stellarToml.DOCUMENTATION.ORG_DBA}\n              />\n            ) : null}\n            {stellarToml.DOCUMENTATION.ORG_URL ? (\n              <ReadOnlyTextfield\n                disableUnderline\n                fullWidth\n                label={t(\"account.asset-details.general.organisation.website.label\")}\n                margin=\"dense\"\n                onClick={() => openLink(stellarToml!.DOCUMENTATION!.ORG_URL!)}\n                value={stellarToml.DOCUMENTATION.ORG_URL}\n                inputProps={{\n                  style: {\n                    cursor: \"pointer\",\n                    textDecoration: \"underline\"\n                  }\n                }}\n              />\n            ) : null}\n            {stellarToml.DOCUMENTATION.ORG_DESCRIPTION ? (\n              <ReadOnlyTextfield\n                disableUnderline\n                fullWidth\n                label={t(\"account.asset-details.general.organisation.description.label\")}\n                margin=\"dense\"\n                multiline\n                value={stellarToml.DOCUMENTATION.ORG_DESCRIPTION}\n              />\n            ) : null}\n            {stellarToml.DOCUMENTATION.ORG_PHYSICAL_ADDRESS ? (\n              <ReadOnlyTextfield\n                disableUnderline\n                fullWidth\n                label={t(\"account.asset-details.general.organisation.address.label\")}\n                margin=\"dense\"\n                multiline\n                value={stellarToml.DOCUMENTATION.ORG_PHYSICAL_ADDRESS}\n                inputProps={{\n                  style: {\n                    whiteSpace: \"pre\"\n                  }\n                }}\n              />\n            ) : null}\n            {stellarToml.DOCUMENTATION.ORG_OFFICIAL_EMAIL ? (\n              <ReadOnlyTextfield\n                disableUnderline\n                fullWidth\n                label={t(\"account.asset-details.general.organisation.email.label\")}\n                margin=\"dense\"\n                multiline\n                onClick={() => openLink(\"mailto:\" + stellarToml!.DOCUMENTATION!.ORG_OFFICIAL_EMAIL!)}\n                value={stellarToml.DOCUMENTATION.ORG_OFFICIAL_EMAIL}\n                inputProps={{\n                  style: {\n                    cursor: \"pointer\",\n                    textDecoration: \"underline\"\n                  }\n                }}\n              />\n            ) : null}\n            {stellarToml.DOCUMENTATION.ORG_PHONE_NUMBER ? (\n              <ReadOnlyTextfield\n                disableUnderline\n                fullWidth\n                label={t(\"account.asset-details.general.organisation.phone-number.label\")}\n                margin=\"dense\"\n                multiline\n                value={stellarToml.DOCUMENTATION.ORG_PHONE_NUMBER}\n              />\n            ) : null}\n          </CardContent>\n        </Card>\n      ) : null}\n    </>\n  )\n})\n\nconst useAssetDetailStyles = makeStyles({\n  logo: {\n    position: \"absolute\",\n    top: 4,\n    right: -4,\n    width: 96,\n    height: 96,\n    boxShadow: \"0 0 8px 2px rgba(0, 0, 0, 0.2)\",\n    fontSize: 24,\n\n    [breakpoints.down(600)]: {\n      width: 64,\n      height: 64,\n      fontSize: 18\n    }\n  },\n  domain: {\n    marginTop: -4,\n    marginLeft: 47, // should be 46, but somehow 47 looks correct\n    marginBottom: 16,\n\n    [breakpoints.down(600)]: {\n      marginLeft: 39\n    }\n  },\n  toolbar: {\n    marginLeft: \"-4px\"\n  }\n})\n\ninterface Props {\n  account: Account\n  assetID: string\n  onClose: () => void\n}\n\nfunction AssetDetailsDialog(props: Props) {\n  const accountData = useAccountData(props.account.accountID, props.account.testnet)\n  const asset = React.useMemo(() => parseAssetID(props.assetID), [props.assetID])\n  const classes = useAssetDetailStyles()\n  const isSmallScreen = useIsMobile()\n\n  const balance = accountData.balances.find(\n    asset.isNative()\n      ? bal => bal.asset_type === \"native\"\n      : bal => bal.asset_type !== \"native\" && bal.asset_issuer === asset.issuer && bal.asset_code === asset.code\n  )\n\n  const metadata = useAssetMetadata(asset, props.account.testnet)\n\n  const dialogActions = React.useMemo(\n    () => (asset.isNative() ? null : <AssetDetailsActions account={props.account} asset={asset} />),\n    [props.account, asset]\n  )\n\n  return (\n    <DialogBody\n      excessWidth={8}\n      top={\n        <>\n          <MainTitle\n            nowrap\n            onBack={props.onClose}\n            style={{ position: \"relative\", zIndex: 1 }}\n            title={\n              asset.isNative()\n                ? \"Stellar Lumens (XLM)\"\n                : (<>\n                  {metadata && metadata.name\n                    ? `${metadata.name} (${asset.getCode()})`\n                    : asset.getCode()}\n                </>\n                )\n            }\n            titleStyle={{\n              maxWidth: isSmallScreen ? \"calc(100% - 75px)\" : \"calc(100% - 100px)\",\n              textShadow: \"0 0 5px white, 0 0 5px white, 0 0 5px white\"\n            }}\n          />\n          <Typography className={classes.domain} variant=\"subtitle1\">\n            {balance ? (<>\n              <SingleBalance assetCode={asset.getCode()} balance={balance.balance} />\n              <Box className={classes.toolbar}>\n                <VisibilityIconButton\n                  accountId={props.account.accountID}\n                  asset={asset}\n                />\n              </Box>\n            </>\n            ) : asset.isNative() ? (\n              \"stellar.org\"\n            ) : (\n              <AccountName publicKey={asset.getIssuer()} testnet={props.account.testnet} />\n            )}\n          </Typography>\n          <AssetLogo asset={asset} className={classes.logo} testnet={props.account.testnet} />\n        </>\n      }\n      actions={dialogActions}\n      actionsPosition=\"bottom\"\n      fitToShrink\n    >\n      <VerticalLayout margin=\"0 4px\" padding={`0 0 ${isSmallScreen ? 68 : 0}px`} shrink={0}>\n        {asset.isNative() ? (\n          <LumenDetails account={props.account} />\n        ) : (\n          <AssetDetails account={props.account} asset={asset} metadata={metadata} />\n        )}\n      </VerticalLayout>\n    </DialogBody>\n  )\n}\n\nexport default AssetDetailsDialog\n"],"names":["RemoveTrustlineDialog","React","props","t","useTranslation","txCreationPending","setTxCreationPending","removeAsset","operations","Operation","transaction","createTransaction","error","trackError","assetBalance","balance","stillOwnsTokens","DialogTitle","DialogContent","DialogContentText","Trans","DialogActionsBox","ActionButton","CloseIcon","ConnectedRemoveTrustlineDialog","TransactionSender","horizon","sendTransaction","RemoveTrustlineDialog$1","dialogActionsBoxStyle","AssetDetailsActions","account","asset","removalDialogOpen","setRemovalDialogOpen","router","useRouter","accountData","useLiveAccountData","bal","createAddAssetTransaction","options","navigateBackDelayed","routes.account","createTransactionToSend","closeRemovalDialog","addThisAsset","removeThisAsset","tradeThisAsset","routes.tradeAsset","stringifyAsset","sendThisAsset","routes.createPayment","ClearIcon","SwapHorizIcon","SendIcon","Dialog","CompactDialogTransition","ConnectedAssetDetailsActions","AssetDetailsActions$1","useBreakdownItemStyles","makeStyles","breakpoints","BreakdownItem","variant","classes","ListItem","ListItemText","SingleBalance","BreakdownHeadline","SpendableBalanceBreakdown","nativeBalance","trustedAssetBalances","dataReserve","signersReserve","trustlinesReserve","sellingLiabilities","BigNumber","openOrdersReserve","rawBalance","spendableBalance","List","SpendableBalanceBreakdown$1","capitalize","text","useDetailContentStyles","LumenDetails","Card","CardContent","ReadOnlyTextfield","BASE_RESERVE","AssetDetails","metadata","issuingAccountData","useAccountData","stellarToml","useStellarToml","clipboard","useClipboard","copyIssuerToClipboard","Avatar","openLink","useAssetDetailStyles","AssetDetailsDialog","parseAssetID","isSmallScreen","useIsMobile","useAssetMetadata","dialogActions","DialogBody","MainTitle","Typography","Box","VisibilityIconButton","AccountName","AssetLogo","VerticalLayout"],"mappings":"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"}