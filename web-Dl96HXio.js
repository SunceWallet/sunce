import{aO as N,bT as F,aH as S,a5 as E,ap as O}from"./app-BROHDOmb.js";var A={},T={exports:{}},q=T.exports,k;function M(){return k||(k=1,function(w){(function(a,y){var f={};y(f);var l=f.default;for(var g in f)l[g]=f[g];w.exports=l})(q,function(a){a.__esModule=!0,a.digestLength=32,a.blockSize=64;var y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function f(x,e,s,u,o){for(var i,n,c,v,r,p,d,h,t,b,B,_,D;o>=64;){for(i=e[0],n=e[1],c=e[2],v=e[3],r=e[4],p=e[5],d=e[6],h=e[7],b=0;b<16;b++)B=u+b*4,x[b]=(s[B]&255)<<24|(s[B+1]&255)<<16|(s[B+2]&255)<<8|s[B+3]&255;for(b=16;b<64;b++)t=x[b-2],_=(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10,t=x[b-15],D=(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,x[b]=(_+x[b-7]|0)+(D+x[b-16]|0);for(b=0;b<64;b++)_=(((r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7))+(r&p^~r&d)|0)+(h+(y[b]+x[b]|0)|0)|0,D=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&n^i&c^n&c)|0,h=d,d=p,p=r,r=v+_|0,v=c,c=n,n=i,i=_+D|0;e[0]+=i,e[1]+=n,e[2]+=c,e[3]+=v,e[4]+=r,e[5]+=p,e[6]+=d,e[7]+=h,u+=64,o-=64}return u}var l=function(){function x(){this.digestLength=a.digestLength,this.blockSize=a.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return x.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},x.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(var e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},x.prototype.update=function(e,s){if(s===void 0&&(s=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this.bytesHashed+=s,this.bufferLength>0){for(;this.bufferLength<64&&s>0;)this.buffer[this.bufferLength++]=e[u++],s--;this.bufferLength===64&&(f(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(s>=64&&(u=f(this.temp,this.state,e,u,s),s%=64);s>0;)this.buffer[this.bufferLength++]=e[u++],s--;return this},x.prototype.finish=function(e){if(!this.finished){var s=this.bytesHashed,u=this.bufferLength,o=s/536870912|0,i=s<<3,n=s%64<56?64:128;this.buffer[u]=128;for(var c=u+1;c<n-8;c++)this.buffer[c]=0;this.buffer[n-8]=o>>>24&255,this.buffer[n-7]=o>>>16&255,this.buffer[n-6]=o>>>8&255,this.buffer[n-5]=o>>>0&255,this.buffer[n-4]=i>>>24&255,this.buffer[n-3]=i>>>16&255,this.buffer[n-2]=i>>>8&255,this.buffer[n-1]=i>>>0&255,f(this.temp,this.state,this.buffer,0,n),this.finished=!0}for(var c=0;c<8;c++)e[c*4+0]=this.state[c]>>>24&255,e[c*4+1]=this.state[c]>>>16&255,e[c*4+2]=this.state[c]>>>8&255,e[c*4+3]=this.state[c]>>>0&255;return this},x.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},x.prototype._saveState=function(e){for(var s=0;s<this.state.length;s++)e[s]=this.state[s]},x.prototype._restoreState=function(e,s){for(var u=0;u<this.state.length;u++)this.state[u]=e[u];this.bytesHashed=s,this.finished=!1,this.bufferLength=0},x}();a.Hash=l;var g=function(){function x(e){this.inner=new l,this.outer=new l,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var s=new Uint8Array(this.blockSize);if(e.length>this.blockSize)new l().update(e).finish(s).clean();else for(var u=0;u<e.length;u++)s[u]=e[u];for(var u=0;u<s.length;u++)s[u]^=54;this.inner.update(s);for(var u=0;u<s.length;u++)s[u]^=106;this.outer.update(s),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var u=0;u<s.length;u++)s[u]=0}return x.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},x.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},x.prototype.update=function(e){return this.inner.update(e),this},x.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},x.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},x}();a.HMAC=g;function K(x){var e=new l().update(x),s=e.digest();return e.clean(),s}a.hash=K,a.default=K;function P(x,e){var s=new g(x).update(e),u=s.digest();return s.clean(),u}a.hmac=P;function U(x,e,s,u){for(var o=new g(x),i=o.digestLength,n=new Uint8Array(4),c=new Uint8Array(i),v=new Uint8Array(i),r=new Uint8Array(u),p=0;p*i<u;p++){var d=p+1;n[0]=d>>>24&255,n[1]=d>>>16&255,n[2]=d>>>8&255,n[3]=d>>>0&255,o.reset(),o.update(e),o.update(n),o.finish(v);for(var h=0;h<i;h++)c[h]=v[h];for(var h=2;h<=s;h++){o.reset(),o.update(v).finish(v);for(var t=0;t<i;t++)c[t]^=v[t]}for(var h=0;h<i&&p*i+h<u;h++)r[p*i+h]=c[h]}for(var p=0;p<i;p++)c[p]=v[p]=0;for(var p=0;p<4;p++)n[p]=0;return o.clean(),r}a.pbkdf2=U})}(T)),T.exports}var H={exports:{}},W=H.exports,C;function z(){return C||(C=1,function(w){(function(a,y){w.exports?w.exports=y():(a.nacl||(a.nacl={}),a.nacl.util=y())})(W,function(){var a={};function y(f){if(!/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(f))throw new TypeError("invalid encoding")}return a.decodeUTF8=function(f){if(typeof f!="string")throw new TypeError("expected string");var l,g=unescape(encodeURIComponent(f)),K=new Uint8Array(g.length);for(l=0;l<g.length;l++)K[l]=g.charCodeAt(l);return K},a.encodeUTF8=function(f){var l,g=[];for(l=0;l<f.length;l++)g.push(String.fromCharCode(f[l]));return decodeURIComponent(escape(g.join("")))},typeof atob>"u"?typeof N.from<"u"?(a.encodeBase64=function(f){return N.from(f).toString("base64")},a.decodeBase64=function(f){return y(f),new Uint8Array(Array.prototype.slice.call(N.from(f,"base64"),0))}):(a.encodeBase64=function(f){return new N(f).toString("base64")},a.decodeBase64=function(f){return y(f),new Uint8Array(Array.prototype.slice.call(new N(f,"base64"),0))}):(a.encodeBase64=function(f){var l,g=[],K=f.length;for(l=0;l<K;l++)g.push(String.fromCharCode(f[l]));return btoa(g.join(""))},a.decodeBase64=function(f){y(f);var l,g=atob(f),K=new Uint8Array(g.length);for(l=0;l<g.length;l++)K[l]=g.charCodeAt(l);return K}),a})}(H)),H.exports}var G;function j(){if(G)return A;G=1;var w=A&&A.__assign||Object.assign||function(o){for(var i,n=1,c=arguments.length;n<c;n++){i=arguments[n];for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(o[v]=i[v])}return o},a=A&&A.__awaiter||function(o,i,n,c){return new(n||(n=Promise))(function(v,r){function p(t){try{h(c.next(t))}catch(b){r(b)}}function d(t){try{h(c.throw(t))}catch(b){r(b)}}function h(t){t.done?v(t.value):new n(function(b){b(t.value)}).then(p,d)}h((c=c.apply(o,i||[])).next())})},y=A&&A.__generator||function(o,i){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},c,v,r,p;return p={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function d(t){return function(b){return h([t,b])}}function h(t){if(c)throw new TypeError("Generator is already executing.");for(;n;)try{if(c=1,v&&(r=t[0]&2?v.return:t[0]?v.throw||((r=v.return)&&r.call(v),0):v.next)&&!(r=r.call(v,t[1])).done)return r;switch(v=0,r&&(t=[t[0]&2,r.value]),t[0]){case 0:case 1:r=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,v=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!r||t[1]>r[0]&&t[1]<r[3])){n.label=t[1];break}if(t[0]===6&&n.label<r[1]){n.label=r[1],r=t;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(t);break}r[2]&&n.ops.pop(),n.trys.pop();continue}t=i.call(o,n)}catch(b){t=[6,b],v=0}finally{c=r=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},f=A&&A.__importStar||function(o){if(o&&o.__esModule)return o;var i={};if(o!=null)for(var n in o)Object.hasOwnProperty.call(o,n)&&(i[n]=o[n]);return i.default=o,i},l=A&&A.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(A,"__esModule",{value:!0});var g=f(M()),K=l(F()),P=l(z());function U(){return P.default.encodeBase64(K.default.randomBytes(K.default.secretbox.nonceLength))}function x(o,i){return g.pbkdf2(P.default.decodeUTF8(o),P.default.decodeBase64(i.nonce),i.iterations,K.default.secretbox.keyLength)}function e(o,i,n){var c=x(n,i),v=K.default.secretbox.open(P.default.decodeBase64(o),P.default.decodeBase64(i.nonce),c);if(!v)throw new Error("Decryption failed.");return JSON.parse(P.default.encodeUTF8(v))}function s(o,i,n){var c=x(n,i),v=P.default.decodeUTF8(JSON.stringify(o)),r=K.default.secretbox(v,P.default.decodeBase64(i.nonce),c);return P.default.encodeBase64(r)}function u(o,i,n){i===void 0&&(i={}),n===void 0&&(n={});var c=n.iterations,v=c===void 0?1e4:c,r=i;function p(d,h,t,b){b===void 0&&(b={});var B={nonce:U(),iterations:v};r[d]={metadata:B,public:b,private:s(t,B,h)}}return{getKeyIDs:function(){return Object.keys(r)},getPublicKeyData:function(d){return r[d].public},getPrivateKeyData:function(d,h){return e(r[d].private,r[d].metadata,h)},saveKey:function(d,h,t,b){return b===void 0&&(b={}),a(this,void 0,void 0,function(){return y(this,function(B){switch(B.label){case 0:return p(d,h,t,b),[4,o(r)];case 1:return B.sent(),[2]}})})},saveKeys:function(d){return a(this,void 0,void 0,function(){return y(this,function(h){switch(h.label){case 0:return d.forEach(function(t){return p(t.keyID,t.password,t.privateData,t.publicData)}),[4,o(r)];case 1:return h.sent(),[2]}})})},savePublicKeyData:function(d,h){return a(this,void 0,void 0,function(){return y(this,function(t){switch(t.label){case 0:if(!r[d])throw new Error("Cannot save public data for key "+d+". Key does not yet exist in store.");return r[d]=w({},r[d],{public:h}),[4,o(r)];case 1:return t.sent(),[2]}})})},removeKey:function(d){return a(this,void 0,void 0,function(){return y(this,function(h){switch(h.label){case 0:if(!r[d])throw new Error("Cannot delete key "+d+". Key not found.");return delete r[d],[4,o(r)];case 1:return h.sent(),[2]}})})}}}return A.createStore=u,A}var J=j();const m={};function Y(w,...a){return new Promise((y,f)=>{try{const l=m[w];if(l){const g=l(...a);y(g)}else f(`No handler for ${w} found.`)}catch(l){f(l)}})}function ee(w,a){return w===S.DeepLinkURL?Q(a):()=>{}}m[S.CopyToClipboard]=w=>navigator.clipboard.writeText(w);m[S.OpenLink]=w=>window.open(w,"_blank");m[S.CheckUpdateAvailability]=()=>!1;m[S.StartUpdate]=()=>{};m[S.NotificationPermission]=()=>window.Notification.permission;m[S.RequestNotificationPermission]=window.Notification.requestPermission;m[S.ShowNotification]=w=>new Promise(a=>{const y=new Notification(w.title,{body:w.text});y.addEventListener("click",()=>{a(),y.close()})});let I=!1,R=!0;m[S.IsDifferentHandlerInstalled]=()=>R;m[S.IsDefaultProtocolClient]=()=>I;m[S.SetAsDefaultProtocolClient]=()=>(window.navigator.registerProtocolHandler("web+stellar",`${window.location.origin}/?uri=%s`,"Stellar request handler"),I=!0,R=!1,!0);const Z={1:{metadata:{nonce:"19sHNxecdiik6chwGFgZVk9UJoG2k8B+",iterations:1e4},public:{name:"Test account",password:!1,publicKey:"GBPBFWVBADSESGADWEGC7SGTHE3535FWK4BS6UW3WMHX26PHGIH5NF4W",testnet:!0},private:"F6SxXmjdLgxPI3msiNWZ7RGHoBwYEdFICLHJqzIZOADn71lfBYFD/qvQxcD9L1Wq495cDek0RlNLGF2fNK8P48A+B7Hfk8hWL+o5EbPd1ql20r7SfxVh9o0="},2:{metadata:{nonce:"PvRwEZlBBIdwo3BPrPCxMpjsxmDbQI1r",iterations:1e4},public:{name:"Test account with password",password:!0,publicKey:"GBPBFWVBADSESGADWEGC7SGTHE3535FWK4BS6UW3WMHX26PHGIH5NF4W",testnet:!0},private:"5VzbN/Y5S1CfizJnnIejm8ku4KsG5cPvRht6BoZ8HalOOKdOt66Ra/rjoNlMbh45Et+25iGggzj+IlFvpepmuaEFcdqj5myEJspcy4GGwn+9TtA+KmUDcRI="},3:{metadata:{nonce:"ChxQagEiuX/R98SEtdL/vT8HiebThI5X",iterations:1e4},public:{name:"Multisig Account",password:!1,publicKey:"GDNVDG37WMKPEIXSJRBAQAVPO5WGOPKZRZZBPLWXULSX6NQNLNQP6CFF",testnet:!0},private:"XFZM+iKm5YM6v2KdABGyczb9D51IdFPM3ibRhrVGfMonOKV8dVKvqC9JA1ylfcbEpzUaIUwPBjAxk7SIgcGhtjrqenp0Bj1QPqZwSWmAB5q5pfb5aLTdwVc="}};L();X();function L(){const w=localStorage.getItem("sunce:keys"),a=w?JSON.parse(w):Z;function y(g){localStorage.setItem("sunce:keys",JSON.stringify(g))}const f=J.createStore(y,a,{iterations:25e4});m[S.GetKeyIDs]=f.getKeyIDs,m[S.GetPublicKeyData]=f.getPublicKeyData,m[S.GetPrivateKeyData]=f.getPrivateKeyData,m[S.RemoveKey]=f.removeKey,m[S.SaveKey]=f.saveKey,m[S.SavePublicKeyData]=f.savePublicKeyData;function l(g,K,P){try{const x=f.getPublicKeyData(g).testnet?E.Networks.TESTNET:E.Networks.PUBLIC,e=new E.Transaction(K,x),s=f.getPrivateKeyData(g,P).privateKey;return e.sign(E.Keypair.fromSecret(s)),e.toEnvelope().toXDR().toString("base64")}catch{throw O()}}m[S.SignTransaction]=l}const V={agreedToTermsAt:"2019-01-17T07:34:05.688Z",biometricLock:!1,multisignature:!0,testnet:!0,trustedServices:[],hideMemos:!1,showDust:!1,showClaimableBalanceTxs:!1};function X(){const w=localStorage.getItem("sunce:settings");let a=w?JSON.parse(w):V;m[S.BioAuthAvailable]=()=>({available:!1,enrolled:!1}),m[S.ReadSettings]=()=>a,m[S.StoreSettings]=y=>{a={...a,...y},localStorage.setItem("sunce:settings",JSON.stringify(a))},m[S.ReadIgnoredSignatureRequestHashes]=()=>{const y=window.localStorage.getItem("wallet:storage:ignoredSignatureRequests");return y?JSON.parse(y):[]},m[S.StoreIgnoredSignatureRequestHashes]=y=>{window.localStorage.setItem("wallet:storage:ignoredSignatureRequests",JSON.stringify(y))}}function Q(w){const a=new URLSearchParams(window.location.search).get("uri");return a&&w(a),()=>{}}export{Y as call,ee as subscribeToMessages};
//# sourceMappingURL=web-Dl96HXio.js.map
