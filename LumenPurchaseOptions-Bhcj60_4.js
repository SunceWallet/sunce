import{R as e,Z as g,b2 as y,a9 as d,$ as l,a0 as f,ao as L,a1 as b,a$ as E,b1 as h,b3 as C,E as x,aj as i,aM as k,bB as w,L as S,ay as T,aR as D,a5 as I}from"./app-CStNF4WA.js";import{P,o as R,at as $,a as M}from"./app-stage2-Bd4j2d9E.js";const N=g({root:{[i.down(600)]:{zIndex:1400}},dialogPaper:{[i.down(600)]:{alignSelf:"flex-end",background:"rgba(255, 255, 255, 0.9)",margin:"0 20px 120px"}}});function v(t){const n=N(),o=y(),a=d(),{t:r}=l(),s=e.useMemo(()=>e.createElement(f,{className:n.root,smallDialog:!0,transparent:!0},e.createElement(L,{enter:a,exit:a,in:t.open},e.createElement(b,{onClick:t.onConfirm,type:"primary"},r("account.purchase-lumens.legal-confirmation.action.confirm")))),[n.root,a,t.onConfirm,t.open,r]);return e.createElement(E,{classes:{paper:n.dialogPaper},onClose:t.onClose,open:t.open,TransitionComponent:h},e.createElement(C,{actions:o,preventActionsPlaceholder:!0,preventNotchSpacing:!0},e.createElement(x,{color:"textSecondary"},t.message)),e.createElement(P,{target:a?document.body:o.element},s))}const A=e.memo(v);async function O(t){const o=`https://ncy9jaxgqh.execute-api.eu-central-1.amazonaws.com/moonpay?walletAddress=${t.accountID}&testnet=${t.testnet}`,a=await fetch(o);if(!a.ok){const s=await a.text();throw I("HttpRequestError",`HTTP fetch failed: ${s} 
Service: ${o}`,{response:s,service:o})}return(await a.json()).url}function B(t){const{account:n,onCloseDialog:o}=t,[a,r]=e.useState(!1),{t:s}=l(),m=e.useCallback(()=>r(!1),[]),u=e.useCallback(()=>r(!0),[]),p=e.useCallback(async()=>{try{const c=await O(n);R(c),o()}catch(c){k(c)}},[n,o]);return e.createElement(w,{style:{margin:"16px auto",maxWidth:600}},e.createElement(S,{button:!0,onClick:u},e.createElement(T,{primary:s("account.purchase-lumens.moonpay.text.primary"),secondary:s("account.purchase-lumens.moonpay.text.secondary")}),e.createElement(D,{style:{minWidth:24,marginLeft:12}},e.createElement($,null))),e.createElement(A,{message:e.createElement(M,{i18nKey:"account.purchase-lumens.moonpay.legal-confirmation"},"You will be redirected to moonpay.io, a third-party service. The depositing process is operated by Moon Pay Ltd, not by Sunce or Montelibero.",e.createElement("br",null),e.createElement("br",null),"Please contact the moonpay.io support for inquiries related to your deposit."),onClose:m,open:a,onConfirm:p}))}const q=e.memo(B);export{q as L};
//# sourceMappingURL=LumenPurchaseOptions-Bhcj60_4.js.map
