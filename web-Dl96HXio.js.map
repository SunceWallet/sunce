{"version":3,"file":"web-Dl96HXio.js","sources":["../node_modules/fast-sha256/sha256.js","../node_modules/tweetnacl-util/nacl-util.js","../node_modules/key-store/lib/index.js","../src/Platform/ipc/web.ts"],"sourcesContent":["(function (root, factory) {\n    // Hack to make all exports of this module sha256 function object properties.\n    var exports = {};\n    factory(exports);\n    var sha256 = exports[\"default\"];\n    for (var k in exports) {\n        sha256[k] = exports[k];\n    }\n        \n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = sha256;\n    } else if (typeof define === 'function' && define.amd) {\n        define(function() { return sha256; }); \n    } else {\n        root.sha256 = sha256;\n    }\n})(this, function(exports) {\n\"use strict\";\nexports.__esModule = true;\n// SHA-256 (+ HMAC and PBKDF2) for JavaScript.\n//\n// Written in 2014-2016 by Dmitry Chestnykh.\n// Public domain, no warranty.\n//\n// Functions (accept and return Uint8Arrays):\n//\n//   sha256(message) -> hash\n//   sha256.hmac(key, message) -> mac\n//   sha256.pbkdf2(password, salt, rounds, dkLen) -> dk\n//\n//  Classes:\n//\n//   new sha256.Hash()\n//   new sha256.HMAC(key)\n//\nexports.digestLength = 32;\nexports.blockSize = 64;\n// SHA-256 constants\nvar K = new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b,\n    0x59f111f1, 0x923f82a4, 0xab1c5ed5, 0xd807aa98, 0x12835b01,\n    0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7,\n    0xc19bf174, 0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n    0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da, 0x983e5152,\n    0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147,\n    0x06ca6351, 0x14292967, 0x27b70a85, 0x2e1b2138, 0x4d2c6dfc,\n    0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819,\n    0xd6990624, 0xf40e3585, 0x106aa070, 0x19a4c116, 0x1e376c08,\n    0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f,\n    0x682e6ff3, 0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n    0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\nfunction hashBlocks(w, v, p, pos, len) {\n    var a, b, c, d, e, f, g, h, u, i, j, t1, t2;\n    while (len >= 64) {\n        a = v[0];\n        b = v[1];\n        c = v[2];\n        d = v[3];\n        e = v[4];\n        f = v[5];\n        g = v[6];\n        h = v[7];\n        for (i = 0; i < 16; i++) {\n            j = pos + i * 4;\n            w[i] = (((p[j] & 0xff) << 24) | ((p[j + 1] & 0xff) << 16) |\n                ((p[j + 2] & 0xff) << 8) | (p[j + 3] & 0xff));\n        }\n        for (i = 16; i < 64; i++) {\n            u = w[i - 2];\n            t1 = (u >>> 17 | u << (32 - 17)) ^ (u >>> 19 | u << (32 - 19)) ^ (u >>> 10);\n            u = w[i - 15];\n            t2 = (u >>> 7 | u << (32 - 7)) ^ (u >>> 18 | u << (32 - 18)) ^ (u >>> 3);\n            w[i] = (t1 + w[i - 7] | 0) + (t2 + w[i - 16] | 0);\n        }\n        for (i = 0; i < 64; i++) {\n            t1 = (((((e >>> 6 | e << (32 - 6)) ^ (e >>> 11 | e << (32 - 11)) ^\n                (e >>> 25 | e << (32 - 25))) + ((e & f) ^ (~e & g))) | 0) +\n                ((h + ((K[i] + w[i]) | 0)) | 0)) | 0;\n            t2 = (((a >>> 2 | a << (32 - 2)) ^ (a >>> 13 | a << (32 - 13)) ^\n                (a >>> 22 | a << (32 - 22))) + ((a & b) ^ (a & c) ^ (b & c))) | 0;\n            h = g;\n            g = f;\n            f = e;\n            e = (d + t1) | 0;\n            d = c;\n            c = b;\n            b = a;\n            a = (t1 + t2) | 0;\n        }\n        v[0] += a;\n        v[1] += b;\n        v[2] += c;\n        v[3] += d;\n        v[4] += e;\n        v[5] += f;\n        v[6] += g;\n        v[7] += h;\n        pos += 64;\n        len -= 64;\n    }\n    return pos;\n}\n// Hash implements SHA256 hash algorithm.\nvar Hash = /** @class */ (function () {\n    function Hash() {\n        this.digestLength = exports.digestLength;\n        this.blockSize = exports.blockSize;\n        // Note: Int32Array is used instead of Uint32Array for performance reasons.\n        this.state = new Int32Array(8); // hash state\n        this.temp = new Int32Array(64); // temporary state\n        this.buffer = new Uint8Array(128); // buffer for data to hash\n        this.bufferLength = 0; // number of bytes in buffer\n        this.bytesHashed = 0; // number of total bytes hashed\n        this.finished = false; // indicates whether the hash was finalized\n        this.reset();\n    }\n    // Resets hash state making it possible\n    // to re-use this instance to hash other data.\n    Hash.prototype.reset = function () {\n        this.state[0] = 0x6a09e667;\n        this.state[1] = 0xbb67ae85;\n        this.state[2] = 0x3c6ef372;\n        this.state[3] = 0xa54ff53a;\n        this.state[4] = 0x510e527f;\n        this.state[5] = 0x9b05688c;\n        this.state[6] = 0x1f83d9ab;\n        this.state[7] = 0x5be0cd19;\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        this.finished = false;\n        return this;\n    };\n    // Cleans internal buffers and re-initializes hash state.\n    Hash.prototype.clean = function () {\n        for (var i = 0; i < this.buffer.length; i++) {\n            this.buffer[i] = 0;\n        }\n        for (var i = 0; i < this.temp.length; i++) {\n            this.temp[i] = 0;\n        }\n        this.reset();\n    };\n    // Updates hash state with the given data.\n    //\n    // Optionally, length of the data can be specified to hash\n    // fewer bytes than data.length.\n    //\n    // Throws error when trying to update already finalized hash:\n    // instance must be reset to use it again.\n    Hash.prototype.update = function (data, dataLength) {\n        if (dataLength === void 0) { dataLength = data.length; }\n        if (this.finished) {\n            throw new Error(\"SHA256: can't update because hash was finished.\");\n        }\n        var dataPos = 0;\n        this.bytesHashed += dataLength;\n        if (this.bufferLength > 0) {\n            while (this.bufferLength < 64 && dataLength > 0) {\n                this.buffer[this.bufferLength++] = data[dataPos++];\n                dataLength--;\n            }\n            if (this.bufferLength === 64) {\n                hashBlocks(this.temp, this.state, this.buffer, 0, 64);\n                this.bufferLength = 0;\n            }\n        }\n        if (dataLength >= 64) {\n            dataPos = hashBlocks(this.temp, this.state, data, dataPos, dataLength);\n            dataLength %= 64;\n        }\n        while (dataLength > 0) {\n            this.buffer[this.bufferLength++] = data[dataPos++];\n            dataLength--;\n        }\n        return this;\n    };\n    // Finalizes hash state and puts hash into out.\n    //\n    // If hash was already finalized, puts the same value.\n    Hash.prototype.finish = function (out) {\n        if (!this.finished) {\n            var bytesHashed = this.bytesHashed;\n            var left = this.bufferLength;\n            var bitLenHi = (bytesHashed / 0x20000000) | 0;\n            var bitLenLo = bytesHashed << 3;\n            var padLength = (bytesHashed % 64 < 56) ? 64 : 128;\n            this.buffer[left] = 0x80;\n            for (var i = left + 1; i < padLength - 8; i++) {\n                this.buffer[i] = 0;\n            }\n            this.buffer[padLength - 8] = (bitLenHi >>> 24) & 0xff;\n            this.buffer[padLength - 7] = (bitLenHi >>> 16) & 0xff;\n            this.buffer[padLength - 6] = (bitLenHi >>> 8) & 0xff;\n            this.buffer[padLength - 5] = (bitLenHi >>> 0) & 0xff;\n            this.buffer[padLength - 4] = (bitLenLo >>> 24) & 0xff;\n            this.buffer[padLength - 3] = (bitLenLo >>> 16) & 0xff;\n            this.buffer[padLength - 2] = (bitLenLo >>> 8) & 0xff;\n            this.buffer[padLength - 1] = (bitLenLo >>> 0) & 0xff;\n            hashBlocks(this.temp, this.state, this.buffer, 0, padLength);\n            this.finished = true;\n        }\n        for (var i = 0; i < 8; i++) {\n            out[i * 4 + 0] = (this.state[i] >>> 24) & 0xff;\n            out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n            out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n            out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n        }\n        return this;\n    };\n    // Returns the final hash digest.\n    Hash.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    // Internal function for use in HMAC for optimization.\n    Hash.prototype._saveState = function (out) {\n        for (var i = 0; i < this.state.length; i++) {\n            out[i] = this.state[i];\n        }\n    };\n    // Internal function for use in HMAC for optimization.\n    Hash.prototype._restoreState = function (from, bytesHashed) {\n        for (var i = 0; i < this.state.length; i++) {\n            this.state[i] = from[i];\n        }\n        this.bytesHashed = bytesHashed;\n        this.finished = false;\n        this.bufferLength = 0;\n    };\n    return Hash;\n}());\nexports.Hash = Hash;\n// HMAC implements HMAC-SHA256 message authentication algorithm.\nvar HMAC = /** @class */ (function () {\n    function HMAC(key) {\n        this.inner = new Hash();\n        this.outer = new Hash();\n        this.blockSize = this.inner.blockSize;\n        this.digestLength = this.inner.digestLength;\n        var pad = new Uint8Array(this.blockSize);\n        if (key.length > this.blockSize) {\n            (new Hash()).update(key).finish(pad).clean();\n        }\n        else {\n            for (var i = 0; i < key.length; i++) {\n                pad[i] = key[i];\n            }\n        }\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36;\n        }\n        this.inner.update(pad);\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] ^= 0x36 ^ 0x5c;\n        }\n        this.outer.update(pad);\n        this.istate = new Uint32Array(8);\n        this.ostate = new Uint32Array(8);\n        this.inner._saveState(this.istate);\n        this.outer._saveState(this.ostate);\n        for (var i = 0; i < pad.length; i++) {\n            pad[i] = 0;\n        }\n    }\n    // Returns HMAC state to the state initialized with key\n    // to make it possible to run HMAC over the other data with the same\n    // key without creating a new instance.\n    HMAC.prototype.reset = function () {\n        this.inner._restoreState(this.istate, this.inner.blockSize);\n        this.outer._restoreState(this.ostate, this.outer.blockSize);\n        return this;\n    };\n    // Cleans HMAC state.\n    HMAC.prototype.clean = function () {\n        for (var i = 0; i < this.istate.length; i++) {\n            this.ostate[i] = this.istate[i] = 0;\n        }\n        this.inner.clean();\n        this.outer.clean();\n    };\n    // Updates state with provided data.\n    HMAC.prototype.update = function (data) {\n        this.inner.update(data);\n        return this;\n    };\n    // Finalizes HMAC and puts the result in out.\n    HMAC.prototype.finish = function (out) {\n        if (this.outer.finished) {\n            this.outer.finish(out);\n        }\n        else {\n            this.inner.finish(out);\n            this.outer.update(out, this.digestLength).finish(out);\n        }\n        return this;\n    };\n    // Returns message authentication code.\n    HMAC.prototype.digest = function () {\n        var out = new Uint8Array(this.digestLength);\n        this.finish(out);\n        return out;\n    };\n    return HMAC;\n}());\nexports.HMAC = HMAC;\n// Returns SHA256 hash of data.\nfunction hash(data) {\n    var h = (new Hash()).update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hash = hash;\n// Function hash is both available as module.hash and as default export.\nexports[\"default\"] = hash;\n// Returns HMAC-SHA256 of data under the key.\nfunction hmac(key, data) {\n    var h = (new HMAC(key)).update(data);\n    var digest = h.digest();\n    h.clean();\n    return digest;\n}\nexports.hmac = hmac;\n// Derives a key from password and salt using PBKDF2-HMAC-SHA256\n// with the given number of iterations.\n//\n// The number of bytes returned is equal to dkLen.\n//\n// (For better security, avoid dkLen greater than hash length - 32 bytes).\nfunction pbkdf2(password, salt, iterations, dkLen) {\n    var prf = new HMAC(password);\n    var len = prf.digestLength;\n    var ctr = new Uint8Array(4);\n    var t = new Uint8Array(len);\n    var u = new Uint8Array(len);\n    var dk = new Uint8Array(dkLen);\n    for (var i = 0; i * len < dkLen; i++) {\n        var c = i + 1;\n        ctr[0] = (c >>> 24) & 0xff;\n        ctr[1] = (c >>> 16) & 0xff;\n        ctr[2] = (c >>> 8) & 0xff;\n        ctr[3] = (c >>> 0) & 0xff;\n        prf.reset();\n        prf.update(salt);\n        prf.update(ctr);\n        prf.finish(u);\n        for (var j = 0; j < len; j++) {\n            t[j] = u[j];\n        }\n        for (var j = 2; j <= iterations; j++) {\n            prf.reset();\n            prf.update(u).finish(u);\n            for (var k = 0; k < len; k++) {\n                t[k] ^= u[k];\n            }\n        }\n        for (var j = 0; j < len && i * len + j < dkLen; j++) {\n            dk[i * len + j] = t[j];\n        }\n    }\n    for (var i = 0; i < len; i++) {\n        t[i] = u[i] = 0;\n    }\n    for (var i = 0; i < 4; i++) {\n        ctr[i] = 0;\n    }\n    prf.clean();\n    return dk;\n}\nexports.pbkdf2 = pbkdf2;\n});\n","// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sha256 = __importStar(require(\"fast-sha256\"));\nvar tweetnacl_1 = __importDefault(require(\"tweetnacl\"));\nvar tweetnacl_util_1 = __importDefault(require(\"tweetnacl-util\"));\nfunction randomNonce() {\n    return tweetnacl_util_1.default.encodeBase64(tweetnacl_1.default.randomBytes(tweetnacl_1.default.secretbox.nonceLength));\n}\nfunction deriveHashFromPassword(password, metadata) {\n    return sha256.pbkdf2(tweetnacl_util_1.default.decodeUTF8(password), tweetnacl_util_1.default.decodeBase64(metadata.nonce), metadata.iterations, tweetnacl_1.default.secretbox.keyLength);\n}\nfunction decrypt(encryptedBase64, metadata, password) {\n    var secretKey = deriveHashFromPassword(password, metadata);\n    var decrypted = tweetnacl_1.default.secretbox.open(tweetnacl_util_1.default.decodeBase64(encryptedBase64), tweetnacl_util_1.default.decodeBase64(metadata.nonce), secretKey);\n    if (!decrypted) {\n        throw new Error('Decryption failed.');\n    }\n    return JSON.parse(tweetnacl_util_1.default.encodeUTF8(decrypted));\n}\nfunction encrypt(privateData, metadata, password) {\n    var secretKey = deriveHashFromPassword(password, metadata);\n    var data = tweetnacl_util_1.default.decodeUTF8(JSON.stringify(privateData));\n    var encrypted = tweetnacl_1.default.secretbox(data, tweetnacl_util_1.default.decodeBase64(metadata.nonce), secretKey);\n    return tweetnacl_util_1.default.encodeBase64(encrypted);\n}\nfunction createStore(save, initialKeys, options) {\n    if (initialKeys === void 0) { initialKeys = {}; }\n    if (options === void 0) { options = {}; }\n    var _a = options.iterations, iterations = _a === void 0 ? 10000 : _a;\n    var keysData = initialKeys;\n    function saveKey(keyID, password, privateData, publicData) {\n        if (publicData === void 0) { publicData = {}; }\n        // Important: Do not re-use previous metadata!\n        // Use a fresh nonce. Also the previous metadata might have been forged.\n        var metadata = {\n            nonce: randomNonce(),\n            iterations: iterations\n        };\n        keysData[keyID] = {\n            metadata: metadata,\n            public: publicData,\n            private: encrypt(privateData, metadata, password)\n        };\n    }\n    return {\n        getKeyIDs: function () {\n            return Object.keys(keysData);\n        },\n        getPublicKeyData: function (keyID) {\n            return keysData[keyID].public;\n        },\n        getPrivateKeyData: function (keyID, password) {\n            return decrypt(keysData[keyID].private, keysData[keyID].metadata, password);\n        },\n        saveKey: function (keyID, password, privateData, publicData) {\n            if (publicData === void 0) { publicData = {}; }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            saveKey(keyID, password, privateData, publicData);\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        saveKeys: function (data) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            data.forEach(function (d) { return saveKey(d.keyID, d.password, d.privateData, d.publicData); });\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        savePublicKeyData: function (keyID, publicData) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!keysData[keyID]) {\n                                // Prevent creating an incomplete key record\n                                throw new Error(\"Cannot save public data for key \" + keyID + \". Key does not yet exist in store.\");\n                            }\n                            keysData[keyID] = __assign({}, keysData[keyID], { public: publicData });\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        removeKey: function (keyID) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!keysData[keyID]) {\n                                throw new Error(\"Cannot delete key \" + keyID + \". Key not found.\");\n                            }\n                            delete keysData[keyID];\n                            return [4 /*yield*/, save(keysData)];\n                        case 1:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        }\n    };\n}\nexports.createStore = createStore;\n","import { createStore, KeysData } from \"key-store\"\nimport { Networks, Keypair, Transaction } from \"stellar-sdk\"\nimport { Messages } from \"../../shared/ipc\"\nimport { WrongPasswordError } from \"../../Generic/lib/errors\"\n\ntype CallHandler = (...args: any) => any\n\ninterface CallHandlers {\n  [messageType: string]: CallHandler\n}\n\nconst callHandlers: CallHandlers = {}\n\nexport function call<Message extends keyof IPC.MessageType>(\n  messageType: Message,\n  ...args: IPC.MessageArgs<Message>\n): Promise<IPC.MessageReturnType<Message>> {\n  return new Promise<IPC.MessageReturnType<Message>>((resolve, reject) => {\n    try {\n      const handler = callHandlers[messageType]\n      if (handler) {\n        const result = handler(...args)\n        resolve(result)\n      } else {\n        reject(`No handler for ${messageType} found.`)\n      }\n    } catch (error) {\n      reject(error)\n    }\n  })\n}\n\ntype UnsubscribeFn = () => void\n\nexport function subscribeToMessages<Message extends keyof IPC.MessageType>(\n  messageType: Message,\n  callback: (message: any) => void\n): UnsubscribeFn {\n  // subscribing to deep link urls is the only use case right now\n  return messageType === Messages.DeepLinkURL ? subscribeToDeepLinkURLs(callback) : () => undefined\n}\n\ncallHandlers[Messages.CopyToClipboard] = (text: string) => (navigator as any).clipboard.writeText(text)\ncallHandlers[Messages.OpenLink] = (href: string) => window.open(href, \"_blank\")\n\ncallHandlers[Messages.CheckUpdateAvailability] = () => false\ncallHandlers[Messages.StartUpdate] = () => undefined\n\ncallHandlers[Messages.NotificationPermission] = () => window.Notification.permission\ncallHandlers[Messages.RequestNotificationPermission] = window.Notification.requestPermission\ncallHandlers[Messages.ShowNotification] = (localNotification: LocalNotification) => {\n  return new Promise<void>(resolve => {\n    const notification = new Notification(localNotification.title, { body: localNotification.text })\n\n    notification.addEventListener(\"click\", () => {\n      resolve()\n      notification.close()\n    })\n  })\n}\n\nlet isDefault = false\nlet differentHandler = true\ncallHandlers[Messages.IsDifferentHandlerInstalled] = () => differentHandler\ncallHandlers[Messages.IsDefaultProtocolClient] = () => isDefault\ncallHandlers[Messages.SetAsDefaultProtocolClient] = () => {\n  window.navigator.registerProtocolHandler(\n    \"web+stellar\",\n    `${window.location.origin}/?uri=%s`,\n    \"Stellar request handler\"\n  )\n  isDefault = true\n  differentHandler = false\n  return true\n}\n\nconst defaultTestingKeys: KeysData<PublicKeyData> = {\n  \"1\": {\n    metadata: {\n      nonce: \"19sHNxecdiik6chwGFgZVk9UJoG2k8B+\",\n      iterations: 10000\n    },\n    public: {\n      name: \"Test account\",\n      password: false,\n      publicKey: \"GBPBFWVBADSESGADWEGC7SGTHE3535FWK4BS6UW3WMHX26PHGIH5NF4W\",\n      testnet: true\n    },\n    private:\n      \"F6SxXmjdLgxPI3msiNWZ7RGHoBwYEdFICLHJqzIZOADn71lfBYFD/qvQxcD9L1Wq495cDek0RlNLGF2fNK8P48A+B7Hfk8hWL+o5EbPd1ql20r7SfxVh9o0=\"\n  },\n  \"2\": {\n    metadata: {\n      nonce: \"PvRwEZlBBIdwo3BPrPCxMpjsxmDbQI1r\",\n      iterations: 10000\n    },\n    public: {\n      name: \"Test account with password\",\n      password: true,\n      publicKey: \"GBPBFWVBADSESGADWEGC7SGTHE3535FWK4BS6UW3WMHX26PHGIH5NF4W\",\n      testnet: true\n    },\n    private:\n      \"5VzbN/Y5S1CfizJnnIejm8ku4KsG5cPvRht6BoZ8HalOOKdOt66Ra/rjoNlMbh45Et+25iGggzj+IlFvpepmuaEFcdqj5myEJspcy4GGwn+9TtA+KmUDcRI=\"\n  },\n  \"3\": {\n    metadata: {\n      nonce: \"ChxQagEiuX/R98SEtdL/vT8HiebThI5X\",\n      iterations: 10000\n    },\n    public: {\n      name: \"Multisig Account\",\n      password: false,\n      publicKey: \"GDNVDG37WMKPEIXSJRBAQAVPO5WGOPKZRZZBPLWXULSX6NQNLNQP6CFF\",\n      testnet: true\n    },\n    private:\n      \"XFZM+iKm5YM6v2KdABGyczb9D51IdFPM3ibRhrVGfMonOKV8dVKvqC9JA1ylfcbEpzUaIUwPBjAxk7SIgcGhtjrqenp0Bj1QPqZwSWmAB5q5pfb5aLTdwVc=\"\n  }\n}\n\ninitKeyStore()\ninitSettings()\n\nfunction initKeyStore() {\n  // TODO: Change this before release!\n  const keys = localStorage.getItem(\"sunce:keys\")\n  const initialKeys = keys ? JSON.parse(keys) : defaultTestingKeys\n\n  function saveKeys(keysData: KeysData<PublicKeyData>) {\n    localStorage.setItem(\"sunce:keys\", JSON.stringify(keysData))\n  }\n  // Create a key store with a high number of iterations to make it harder to brute-force, default is only 10000.\n  const keyStore = createStore<PrivateKeyData, PublicKeyData>(saveKeys, initialKeys, { iterations: 250000 })\n\n  callHandlers[Messages.GetKeyIDs] = keyStore.getKeyIDs\n  callHandlers[Messages.GetPublicKeyData] = keyStore.getPublicKeyData\n  callHandlers[Messages.GetPrivateKeyData] = keyStore.getPrivateKeyData\n  callHandlers[Messages.RemoveKey] = keyStore.removeKey\n  callHandlers[Messages.SaveKey] = keyStore.saveKey\n  callHandlers[Messages.SavePublicKeyData] = keyStore.savePublicKeyData\n\n  function signTransaction(internalAccountID: string, transactionXDR: string, password: string) {\n    try {\n      const account = keyStore.getPublicKeyData(internalAccountID)\n      const networkPassphrase = account.testnet ? Networks.TESTNET : Networks.PUBLIC\n      const transaction = new Transaction(transactionXDR, networkPassphrase)\n\n      const privateKey = keyStore.getPrivateKeyData(internalAccountID, password).privateKey\n\n      transaction.sign(Keypair.fromSecret(privateKey))\n\n      return transaction\n        .toEnvelope()\n        .toXDR()\n        .toString(\"base64\")\n    } catch (error) {\n      throw WrongPasswordError()\n    }\n  }\n\n  callHandlers[Messages.SignTransaction] = signTransaction\n}\n\nconst defaultSettings: Platform.SettingsData = {\n  agreedToTermsAt: \"2019-01-17T07:34:05.688Z\",\n  biometricLock: false,\n  multisignature: true,\n  testnet: true,\n  trustedServices: [],\n  hideMemos: false,\n  showDust: false,\n  showClaimableBalanceTxs: false\n}\n\nfunction initSettings() {\n  const storedSettings = localStorage.getItem(\"sunce:settings\")\n  let settings = storedSettings ? JSON.parse(storedSettings) : defaultSettings\n\n  callHandlers[Messages.BioAuthAvailable] = () => ({ available: false, enrolled: false })\n\n  callHandlers[Messages.ReadSettings] = () => settings\n  callHandlers[Messages.StoreSettings] = (updatedSettings: Partial<Platform.SettingsData>) => {\n    settings = {\n      ...settings,\n      ...updatedSettings\n    }\n\n    localStorage.setItem(\"sunce:settings\", JSON.stringify(settings))\n  }\n\n  callHandlers[Messages.ReadIgnoredSignatureRequestHashes] = () => {\n    const data = window.localStorage.getItem(\"wallet:storage:ignoredSignatureRequests\")\n    return data ? JSON.parse(data) : []\n  }\n\n  callHandlers[Messages.StoreIgnoredSignatureRequestHashes] = (updatedSignatureRequestHashes: string[]) => {\n    window.localStorage.setItem(\n      \"wallet:storage:ignoredSignatureRequests\",\n      JSON.stringify(updatedSignatureRequestHashes)\n    )\n  }\n}\n\nfunction subscribeToDeepLinkURLs(callback: (url: string) => void) {\n  // check if a stellar uri has been passed already\n  const uri = new URLSearchParams(window.location.search).get(\"uri\")\n  if (uri) {\n    callback(uri)\n  }\n\n  // no way to unsubscribe\n  return () => undefined\n}\n"],"names":["root","factory","exports","sha256","k","module","this","K","hashBlocks","w","v","p","pos","len","a","b","d","e","f","g","u","i","j","t1","t2","Hash","data","dataLength","dataPos","out","bytesHashed","left","bitLenHi","bitLenLo","padLength","from","HMAC","key","pad","hash","h","digest","hmac","pbkdf2","password","salt","iterations","dkLen","prf","ctr","t","dk","c","util","validateBase64","s","arr","Buffer","__assign","n","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","value","step","rejected","result","__generator","body","_","y","verb","op","__importStar","mod","__importDefault","lib","require$$0","tweetnacl_1","require$$1","tweetnacl_util_1","require$$2","randomNonce","deriveHashFromPassword","metadata","decrypt","encryptedBase64","secretKey","decrypted","encrypt","privateData","encrypted","createStore","save","initialKeys","options","_a","keysData","saveKey","keyID","publicData","callHandlers","call","messageType","args","handler","error","subscribeToMessages","callback","Messages","subscribeToDeepLinkURLs","text","href","localNotification","notification","isDefault","differentHandler","defaultTestingKeys","initKeyStore","initSettings","keys","saveKeys","keyStore","signTransaction","internalAccountID","transactionXDR","networkPassphrase","Networks","transaction","Transaction","privateKey","Keypair","WrongPasswordError","defaultSettings","storedSettings","settings","updatedSettings","updatedSignatureRequestHashes","uri"],"mappings":"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","x_google_ignoreList":[0,1,2]}