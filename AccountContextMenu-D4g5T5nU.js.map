{"version":3,"file":"AccountContextMenu-D4g5T5nU.js","sources":["../node_modules/@material-ui/icons/List.js","../node_modules/@material-ui/icons/AttachMoney.js","../node_modules/@material-ui/icons/Contacts.js","../src/Generic/components/ContextMenu.tsx","../src/Account/components/AccountContextMenu.tsx"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\"\n}), 'List');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\"\n}), 'AttachMoney');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"\"\n}), _react.default.createElement(\"path\", {\n  d: \"M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z\"\n})), 'Contacts');\n\nexports.default = _default;","import React from \"react\"\n\nexport interface AnchorRenderProps {\n  onOpen: (event: React.SyntheticEvent<HTMLElement>) => void\n}\n\ninterface MenuRenderProps {\n  anchorEl: HTMLElement | null\n  closeAndCall: (fn: (() => void) | undefined) => () => void\n  open: boolean\n  onClose: () => void\n}\n\ninterface Props {\n  anchor: (anchorProps: AnchorRenderProps) => React.ReactNode\n  menu: (menuProps: MenuRenderProps) => React.ReactNode\n}\n\nfunction ContextMenu({ anchor, menu }: Props) {\n  const [anchorElement, setAnchorElement] = React.useState<HTMLElement | null>(null)\n  const [isOpen, setOpenState] = React.useState(false)\n\n  const show = (event: React.SyntheticEvent<HTMLElement>) => {\n    setAnchorElement(event.currentTarget)\n    setOpenState(true)\n  }\n  const hide = () => setOpenState(false)\n\n  const closeAndCall = (fn?: () => void) => {\n    return () => {\n      hide()\n      if (fn) {\n        fn()\n      }\n    }\n  }\n\n  return (\n    <>\n      {anchor({ onOpen: show })}\n      {menu({\n        anchorEl: anchorElement,\n        open: isOpen,\n        onClose: hide,\n        closeAndCall\n      })}\n    </>\n  )\n}\n\nexport default React.memo(ContextMenu)\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport Divider from \"@material-ui/core/Divider\"\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\"\nimport ListItemText from \"@material-ui/core/ListItemText\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport CallMadeIcon from \"@material-ui/icons/CallMade\"\nimport CallReceivedIcon from \"@material-ui/icons/CallReceived\"\nimport ListIcon from \"@material-ui/icons/List\"\nimport MoneyIcon from \"@material-ui/icons/AttachMoney\"\nimport ContactsIcon from \"@material-ui/icons/Contacts\"\nimport SettingsIcon from \"@material-ui/icons/Settings\"\nimport SwapHorizIcon from \"@material-ui/icons/SwapHoriz\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { SettingsContextType } from \"~App/contexts/settings\"\nimport { useLiveAccountData } from \"~Generic/hooks/stellar-subscriptions\"\nimport { useIsMobile } from \"~Generic/hooks/userinterface\"\nimport ContextMenu, { AnchorRenderProps } from \"~Generic/components/ContextMenu\"\n\nconst useContextMenuItemStyles = makeStyles({\n  disabled: {\n    opacity: \"1 !important\" as any,\n\n    \"& > *\": {\n      opacity: \"0.5 !important\" as any\n    }\n  },\n  icon: {\n    flex: \"0 0 24px\",\n    minWidth: 24,\n    marginRight: 24\n  }\n})\n\ninterface ItemProps {\n  disabled?: boolean\n  hidden?: boolean\n  icon: React.ReactElement<any>\n  label: string\n  onClick: () => void\n}\n\nconst AccountContextMenuItem = React.memo(\n  React.forwardRef((props: ItemProps, ref) => {\n    const classes = useContextMenuItemStyles()\n\n    if (props.hidden) {\n      return null\n    }\n    return (\n      <MenuItem className={props.disabled ? classes.disabled : \"\"} disabled={props.disabled} onClick={props.onClick}>\n        <ListItemIcon className={classes.icon}>{props.icon}</ListItemIcon>\n        <ListItemText ref={ref}>{props.label}</ListItemText>\n      </MenuItem>\n    )\n  })\n)\n\ninterface MenuProps {\n  account: Account\n  children: (anchorProps: AnchorRenderProps) => React.ReactNode\n  onAccountSettings?: () => void\n  onAccountTransactions?: () => void\n  onDeposit?: () => void\n  onManageAssets?: () => void\n  onSavedAddresses?: () => void\n  onPurchaseLumens?: () => void\n  onTrade?: () => void\n  onWithdraw?: () => void\n  settings: SettingsContextType\n  showingSettings: boolean\n}\n\nfunction LiveAccountContextMenuItems(\n  props: MenuProps & { closeAndCall: (fn: (() => void) | undefined) => () => void }\n) {\n  const { closeAndCall } = props\n\n  const accountData = useLiveAccountData(props.account.accountID, props.account.testnet)\n  const isFunded = accountData.balances.length > 0\n  const isSigner = accountData.signers.some(signer => signer.key === props.account.publicKey)\n  const activated = isFunded && isSigner\n  const { t } = useTranslation()\n\n  return (\n    <>\n      <AccountContextMenuItem\n        disabled={!activated || !props.onTrade}\n        icon={<SwapHorizIcon style={{ transform: \"scale(1.2)\" }} />}\n        label={t(\"account.context-menu.trade.label\")}\n        onClick={closeAndCall(props.onTrade)}\n      />\n      <AccountContextMenuItem\n        disabled={!isSigner || !props.onDeposit}\n        icon={<CallReceivedIcon />}\n        label={t(\"account.context-menu.deposit.label\")}\n        onClick={closeAndCall(accountData.balances.length > 1 ? props.onDeposit : props.onPurchaseLumens)}\n      />\n      <AccountContextMenuItem\n        disabled={!activated || !props.onWithdraw}\n        icon={<CallMadeIcon />}\n        label={t(\"account.context-menu.withdraw.label\")}\n        onClick={closeAndCall(props.onWithdraw)}\n      />\n      <Divider />\n      <AccountContextMenuItem\n        disabled={!activated || !props.onManageAssets}\n        icon={<MoneyIcon />}\n        label={t(\"account.context-menu.assets-and-balances.label\")}\n        onClick={closeAndCall(props.onManageAssets)}\n      />\n      <AccountContextMenuItem\n        disabled={!activated || !props.onSavedAddresses}\n        icon={<ContactsIcon />}\n        label={t(\"account.context-menu.saved-addresses.label\")}\n        onClick={closeAndCall(props.onSavedAddresses)}\n      />\n    </>\n  )\n}\n\nfunction AccountContextMenu(props: MenuProps) {\n  const isSmallScreen = useIsMobile()\n  const { t } = useTranslation()\n\n  return (\n    <ContextMenu\n      anchor={props.children}\n      menu={({ anchorEl, open, onClose, closeAndCall }) => (\n        <Menu\n          anchorEl={isSmallScreen ? document.body : anchorEl || undefined}\n          disableAutoFocusItem={isSmallScreen}\n          onClose={onClose}\n          open={open}\n        >\n          <React.Suspense fallback={null}>\n            <LiveAccountContextMenuItems closeAndCall={closeAndCall} {...props} />\n          </React.Suspense>\n          {props.showingSettings ? (\n            <AccountContextMenuItem\n              disabled={!props.onAccountTransactions}\n              icon={<ListIcon />}\n              label={t(\"account.context-menu.transactions.label\")}\n              onClick={closeAndCall(props.onAccountTransactions)}\n            />\n          ) : (\n            <AccountContextMenuItem\n              disabled={!props.onAccountSettings}\n              icon={<SettingsIcon />}\n              label={t(\"account.context-menu.account-settings.label\")}\n              onClick={closeAndCall(props.onAccountSettings)}\n            />\n          )}\n        </Menu>\n      )}\n    />\n  )\n}\n\nexport default React.memo(AccountContextMenu)\n"],"names":["require$$0","require$$1","ContextMenu"],"mappings":"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","x_google_ignoreList":[0,1,2]}