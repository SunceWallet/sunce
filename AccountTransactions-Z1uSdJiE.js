import{i as Se,R as t,_ as Te,f as pe,j as xe,k as Ce,S as P,U as T,V as M,g as p,c3 as we,c4 as Re,Z as v,al as Ie,c5 as _e,aL as ce,X as oe,ab as Le,b4 as Pe,aD as Me,c6 as se,c7 as ke,bu as N,ah as le,aE as O,a8 as k,H as K,aw as d,ao as h,a7 as qe,a0 as ue,a5 as H,c8 as Ae,Y as Oe,a1 as D,bs as me,ae as $,bJ as Ke,bt as E,ay as A,c9 as de,bM as De,ak as Fe,bI as Be}from"./app-BROHDOmb.js";import{T as ye,E as ze,L as fe,a as V,S as _,c as G,k as U,a4 as L,b as He,a5 as $e,a6 as Ne,a7 as Ue,a8 as je,a9 as We,aa as Ve,n as b,ab as Ge,ac as Je,ad as Xe,ae as Ye}from"./app-stage2-oGgDiPzn.js";import{M as ge}from"./MainSelectionButton-BUZBw_Io.js";import{E as Ze,a as Qe,b as et,R as tt}from"./Remove-C-I2Zn3U.js";import{C as J,a as nt}from"./CallReceived-CeP-hsho.js";import{S as X}from"./SwapHoriz--XmcZCc4.js";var at=function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}},rt=t.forwardRef(function(e,a){var r=e.classes,s=e.className,o=e.color,c=o===void 0?"default":o,i=e.component,u=i===void 0?"li":i,l=e.disableGutters,m=l===void 0?!1:l,y=e.disableSticky,f=y===void 0?!1:y,g=e.inset,q=g===void 0?!1:g,F=Te(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return t.createElement(u,pe({className:xe(r.root,s,c!=="default"&&r["color".concat(Ce(c))],q&&r.inset,!f&&r.sticky,!m&&r.gutters),ref:a},F))});const j=Se(at,{name:"MuiListSubheader"})(rt);var x={},Y;function it(){if(Y)return x;Y=1;var n=P();Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var e=n(T()),a=n(M()),r=(0,a.default)(e.default.createElement("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAll");return x.default=r,x}var ct=it();const ot=p(ct);var C={},Z;function st(){if(Z)return C;Z=1;var n=P();Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var e=n(T()),a=n(M()),r=(0,a.default)(e.default.createElement("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"CreditCard");return C.default=r,C}var lt=st();const ut=p(lt);function mt(n,e,a){const[r,s]=t.useState(Date.now()),o=15,{transactions:c,olderTransactionsAvailable:i}=we(n,e,r),u=Re(n,e),l=t.useMemo(()=>a(c),[c]),m=async(y=0)=>{if(y>=o){s(Date.now());return}const f=await u(),g=a(f);return m(y+g.length)};return t.useEffect(()=>{l.length<o&&m(l.length)},[l]),{olderTransactionsAvailable:i,transactions:l,fetchMoreTransactions:m}}var w={},Q;function dt(){if(Q)return w;Q=1;var n=P();Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var e=n(T()),a=n(M()),r=(0,a.default)(e.default.createElement("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),"ThumbUp");return w.default=r,w}var yt=dt();const ft=p(yt);function gt(n){const[e,a]=t.useState(!1),{t:r}=v(),s=async()=>{try{a(!0),await _e(n.horizonURL,n.publicKey)}catch(o){a(!1),ce(o)}};return t.createElement(ge,{Icon:e?Ie:ft,className:n.className,description:r("account.transactions.action.friendbot.description"),label:r("account.transactions.action.friendbot.label"),onClick:s,style:n.style})}var R={},ee;function ht(){if(ee)return R;ee=1;var n=P();Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var e=n(T()),a=n(M()),r=(0,a.default)(e.default.createElement("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt");return R.default=r,R}var bt=ht();const Et=p(bt);var I={},te;function vt(){if(te)return I;te=1;var n=P();Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var e=n(T()),a=n(M()),r=(0,a.default)(e.default.createElement("path",{d:"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"}),"BarChart");return I.default=r,I}var St=vt();const Tt=p(St);function pt(n,e,a,r){const s=O(r.buying),o=O(r.selling);return o.isNative()?G([H.Operation.manageBuyOffer({offerId:r.id,buyAmount:"0",buying:s,price:r.price,selling:o,withMuxing:!0})],{accountData:a,horizon:n,walletAccount:e}):G([H.Operation.manageSellOffer({offerId:r.id,amount:"0",buying:s,price:r.price,selling:o,withMuxing:!0})],{accountData:a,horizon:n,walletAccount:e})}const xt=t.memo(function(e){const a=O(e.offer.buying),r=O(e.offer.selling),s=k();return t.createElement(K,{button:!!e.onCancel,onClick:e.onCancel,style:{minHeight:s?58:72,...e.style}},t.createElement(fe,{style:{marginRight:s?0:void 0}},t.createElement(Tt,null)),t.createElement(d,{primary:e.offer.seller===e.accountPublicKey&&!r.isNative()?t.createElement("span",{style:{fontWeight:"bold"}},t.createElement(V,{i18nKey:"account.transactions.offer-list.text.sell"},"Sell",t.createElement(_,{assetCode:r.getCode(),balance:e.offer.amount,inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}),"for",t.createElement(_,{assetCode:a.getCode(),balance:String(h(e.offer.amount).mul(e.offer.price)),inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}))):t.createElement("span",{style:{fontWeight:"bold"}},t.createElement(V,{i18nKey:"account.transactions.offer-list.text.buy"},"Buy",t.createElement(_,{assetCode:a.getCode(),balance:String(h(e.offer.amount).mul(e.offer.price)),inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}),"for",t.createElement(_,{assetCode:r.getCode(),balance:e.offer.amount,inline:!0,style:{marginLeft:"0.35em",marginRight:"0.35em"}}))),primaryTypographyProps:{style:{overflow:"hidden",textOverflow:"ellipsis"}},style:{paddingRight:s?0:void 0}}),t.createElement(d,{primaryTypographyProps:{align:"right"},style:{display:s?"none":void 0,flexShrink:0,paddingRight:0}},t.createElement(qe,{alignItems:"center",inline:!0,style:{fontSize:"1.4rem"}},t.createElement("b",null,r.getCode())," ",t.createElement(Et,{style:{fontSize:"150%"}})," ",t.createElement("b",null,a.getCode()))))}),Ct=t.memo(function(e){const{t:a}=v();return t.createElement(K,{style:{borderBottom:"none",height:75}},t.createElement(d,{disableTypography:!0,style:{textAlign:"center"}},t.createElement(ue,{onClick:e.onClick,loading:e.pending,style:{margin:"0 auto",paddingLeft:16,paddingRight:16},variant:"text"},a("account.transactions.transaction-list.load-more.label"))))}),wt=Le({expansionPanel:{background:"transparent","&:before":{background:"transparent"}},expansionPanelSummary:{justifyContent:"flex-start",minHeight:"48px !important",padding:0},expansionPanelSummaryContent:{flexGrow:0,marginTop:"0 !important",marginBottom:"0 !important"},expansionPanelDetails:{display:"block",padding:0},listItem:{padding:"8px 24px",[le.down(600)]:{paddingLeft:24,paddingRight:24}}});function Rt(n){const e=oe(n.account.accountID,n.account.testnet),a=wt(),r=Pe(n.account.testnet),s=Me(n.account.accountID,n.account.testnet),[o,c]=se(),i=ke(n.account.accountID,n.account.testnet),[u,l]=t.useState(!0),m=t.useCallback(()=>c(i()),[i,c]),y=async f=>{try{const g=await pt(r,n.account,e,f);await n.sendTransaction(g)}catch(g){ce(g)}};return s.offers.length===0?null:t.createElement(N,{style:{background:"transparent"}},t.createElement(Ze,{className:a.expansionPanel,elevation:0,expanded:u,onChange:()=>l(!u)},t.createElement(Qe,{classes:{root:a.expansionPanelSummary,content:a.expansionPanelSummaryContent},expandIcon:t.createElement(ze,null)},t.createElement(j,{className:a.listItem,disableSticky:!0,style:{background:"transparent",paddingRight:0}},n.title)),t.createElement(et,{className:a.expansionPanelDetails},s.offers.map(f=>t.createElement(xt,{key:f.id,accountPublicKey:n.account.accountID,offer:f,onCancel:()=>y(f)})),s.olderOffersAvailable?t.createElement(Ct,{pending:o.type==="pending",onClick:m}):null)))}function It(n){return t.createElement(ye,{account:n.account},({sendTransaction:e})=>t.createElement(Rt,{...n,sendTransaction:e}))}var S={},B,ne;function _t(){if(ne)return B;ne=1;var n=Ae();B=e;function e(a){a instanceof Date&&(a=Math.round((Date.now()-a)/1e3));var r=a<0?"from now":"ago";a=Math.abs(a);for(var s=[a/60/60/24/365,a/60/60/24/30,a/60/60/24/7,a/60/60/24,a/60/60,a/60,a],o=["year","month","week","day","hour","minute","second"],c=0;c<o.length;c++){var i=Math.floor(s[c]);if(i>1)return n.format("%d %ss %s",i,o[c],r);if(i===1)return n.format("%d %s %s",i,o[c],r)}return n.format("0 seconds %s",r)}return B}var ae;function Lt(){if(ae)return S;ae=1;var n=S&&S.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var i in c)c.hasOwnProperty(i)&&(o[i]=c[i])};return function(o,c){s(o,c);function i(){this.constructor=o}o.prototype=c===null?Object.create(c):(i.prototype=c.prototype,new i)}}();Object.defineProperty(S,"__esModule",{value:!0});var e=T(),a=_t(),r=function(s){n(o,s);function o(c){var i=s.call(this,c)||this;return i.state=i.getStateFromProps(c),i}return o.prototype.getStateFromProps=function(c){return{formattedTime:a(new Date(c.time)).replace(/minute/,"min").replace(/^.*second.*$/,"now")}},o.prototype.componentDidMount=function(){var c=this;this._timer=setInterval(function(){return c.setState(c.getStateFromProps(c.props))},this.props.period||3e4)},o.prototype.componentWillUnmount=function(){clearInterval(this._timer)},o.prototype.render=function(){return this.state.formattedTime},o}(e.Component);return S.default=r,S}var Pt=Lt();const Mt=p(Pt),kt=n=>Array.from(new Set(n)),qt=()=>{};function At(...n){return n.reduce((e,a)=>e.add(a),h(0))}function Ot(n){return n.animate?t.createElement(Ne,{appear:!0,enter:!1,in:!0,timeout:{enter:1e3}},n.children):t.createElement(t.Fragment,null,n.children)}function z(n){const{amount:e,buying:a,offerId:r,price:s,selling:o}=n,{t:c}=v();let i;return r==="0"?i=`${c("account.transactions.transaction-list.offer-description.prefix.default")}: `:e.eq(0)?i=`${c("account.transactions.transaction-list.offer-description.prefix.cancel")}: `:i=`${c("account.transactions.transaction-list.offer-description.prefix.update")}: `,t.createElement(t.Fragment,null,i,n.type==="manageBuyOffer"?c("account.transactions.transaction-list.offer-description.buy",`Buy ${e.eq(0)?"":b(e.toString())} ${a.code} for ${e.eq(0)?"":b(e.mul(s).toString())} ${o.code}`,{buyingAmount:e.eq(0)?"":b(e.toString()),buyingCode:a.code,sellingAmount:e.eq(0)?"":b(e.mul(s).toString()),sellingCode:o.code}):c("account.transactions.transaction-list.offer-description.sell",`Sell ${e.eq(0)?"":b(e.toString())} ${o.code} for ${e.eq(0)?"":b(e.mul(s).toString())} ${a.code}`,{buyingAmount:e.eq(0)?"":b(e.mul(s).toString()),buyingCode:a.code,sellingAmount:e.eq(0)?"":b(e.toString()),sellingCode:o.code}))}function re(n){const{t:e}=v();return n.publicKeys.length===0?t.createElement(t.Fragment,null,"-"):n.publicKeys.length===1?t.createElement(E,{publicKey:n.publicKeys[0],testnet:n.testnet,variant:n.short?"short":"full"}):t.createElement(t.Fragment,null,t.createElement(E,{publicKey:n.publicKeys[0],testnet:n.testnet,variant:"short"})," ",t.createElement("i",null,"+ ",n.publicKeys.length-1," ",e("account.transactions.transaction-list.item.remote-public-keys.more")))}const Kt=t.memo(function(e){const a=new Date(e.time);return t.createElement("span",{style:{whiteSpace:"nowrap"}},t.createElement(Mt,{time:a.getTime()}))});function Dt(n){return n.transaction.operations.length===1&&["manageBuyOffer","manageSellOffer"].includes(n.transaction.operations[0].type)?t.createElement(X,null):n.transaction.operations.length===1&&n.transaction.operations[0].type==="changeTrust"?h(n.transaction.operations[0].limit).eq(0)?t.createElement(tt,null):t.createElement(Ke,null):n.transaction.operations.every(e=>e.type==="accountMerge")?t.createElement(J,null):n.paymentSummary.length===0?t.createElement(je,null):n.paymentSummary.every(e=>e.balanceChange.gt(0))?t.createElement(J,null):n.paymentSummary.every(e=>e.balanceChange.lt(0))?t.createElement(nt,null):t.createElement(X,null)}const Ft=t.memo(function(e){const a=We(),{t:r}=v(),s=e.paymentSummary.reduce((i,u)=>i.concat(u.publicKeys),[]),o=e.transaction.networkPassphrase===H.Networks.TESTNET,c=t.useMemo(()=>t.createElement("span",{style:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},t.createElement(Kt,{time:e.createdAt}),e.showMemo&&e.transaction.memo.type!=="none"?t.createElement(t.Fragment,null,"  |  ",t.createElement(Ve,{prefix:t.createElement(t.Fragment,null,r("account.transactions.transaction-list.item.memo"),": "),memo:e.transaction.memo})):null),[e.createdAt,e.showMemo,e.transaction,r]);if(s.length>0&&e.paymentSummary.every(i=>i.balanceChange.gt(0)))return t.createElement(d,{primary:t.createElement("span",null,r("account.transactions.transaction-list.item.from")," ",t.createElement(re,{publicKeys:s,short:!0,testnet:o})),primaryTypographyProps:{style:e.style},secondary:c,style:e.style});if(s.length>0&&e.paymentSummary.every(i=>i.balanceChange.lt(0)))return t.createElement(d,{primary:t.createElement("span",null,r("account.transactions.transaction-list.item.to")," ",t.createElement(re,{publicKeys:s,short:!0,testnet:o}),e.alwaysShowSource?t.createElement("span",null," ",r("account.transactions.transaction-list.item.from")," ",t.createElement(E,{publicKey:e.accountPublicKey,testnet:o,variant:"short"})," "):null),primaryTypographyProps:{style:e.style},secondary:c,style:e.style});if(e.transaction.operations.length===1&&e.transaction.operations[0].type==="changeTrust"){const i=e.transaction.operations[0];return h(i.limit).eq(0)?t.createElement(d,{primary:t.createElement("span",null,r("account.transactions.transaction-list.item.trust.remove-trust",`Remove trust in asset ${A(i.line)}`,{asset:A(i.line)}),e.alwaysShowSource?t.createElement(t.Fragment,null," ","(",t.createElement(E,{publicKey:e.accountPublicKey,testnet:o,variant:"short"}),")"):null),primaryTypographyProps:{style:e.style},secondary:c,style:e.style}):t.createElement(d,{primary:t.createElement("span",null,r("account.transactions.transaction-list.item.trust.add-trust",`Trust asset ${A(i.line)}`,{asset:A(i.line)}),e.alwaysShowSource?t.createElement(t.Fragment,null," ","(",t.createElement(E,{publicKey:e.accountPublicKey,testnet:o,variant:"short"}),")"):null),primaryTypographyProps:{style:e.style},secondary:c,style:e.style})}else if(e.transaction.operations.length===1&&["manageBuyOffer","manageSellOffer"].includes(e.transaction.operations[0].type)){const i=e.transaction.operations[0],u=h(i.type==="manageBuyOffer"?i.buyAmount:i.amount);return String(i.offerId)==="0"?t.createElement(d,{primary:t.createElement("span",null,t.createElement(z,{...i,amount:u,price:h(i.price)}),e.alwaysShowSource?t.createElement(t.Fragment,null," ","(",t.createElement(E,{publicKey:e.accountPublicKey,testnet:o,variant:"short"}),")"):null),primaryTypographyProps:{style:e.style},secondary:c,style:e.style}):u.eq(0)?t.createElement(d,{primary:t.createElement("span",null,t.createElement(z,{...i,amount:h(0),price:h(i.price)}),e.alwaysShowSource?t.createElement(t.Fragment,null," ","(",t.createElement(E,{publicKey:e.accountPublicKey,testnet:o,variant:"short"}),")"):null),primaryTypographyProps:{style:e.style},secondary:c,style:e.style}):t.createElement(d,{primary:t.createElement("span",null,t.createElement(z,{...i,amount:u,price:h(i.price)}),e.alwaysShowSource?t.createElement(t.Fragment,null," ","(",t.createElement(E,{publicKey:e.accountPublicKey,testnet:o,variant:"short"}),")"):null),primaryTypographyProps:{style:e.style},secondary:c,style:e.style})}else{const i=e.transaction.operations.map(a);return t.createElement(d,{primary:t.createElement("span",null,kt(i).join(", ")),primaryTypographyProps:{style:e.style},secondary:c,style:e.style})}});function Bt(n){const{paymentSummary:e}=n,a=k(),r=n.transaction.operations.filter(c=>c.type==="createAccount"),s=n.transaction.operations.filter(c=>c.type==="payment"),o=e.every(c=>c.publicKeys.every(i=>i===n.accountPublicKey))?At(...r.map(c=>c.startingBalance),...s.map(c=>c.amount)):e[0].balanceChange;return t.createElement(d,{primaryTypographyProps:{align:"right"},style:{flexShrink:0,...n.style}},e.length===0?null:t.createElement(_,{assetCode:e[0].asset.getCode(),balance:o.toString(),style:a?{fontSize:"1rem"}:{fontSize:"1.4rem"}}))}const he=t.memo(function(e){const{hideMemos:a}=t.useContext($),r=k(),{transaction:s,onOpenTransaction:o}=e,c=Ue(e.accountPublicKey,s),i=o?()=>o(s.hash().toString("hex")):void 0;return t.createElement(K,{button:!!i,className:e.className||"",onClick:i,style:e.style},t.createElement(fe,{style:{marginRight:r?0:void 0}},e.icon||t.createElement(Dt,{paymentSummary:c,transaction:s})),t.createElement(Ft,{accountPublicKey:e.accountPublicKey,alwaysShowSource:e.alwaysShowSource,createdAt:e.createdAt,paymentSummary:c,showMemo:!a,style:{fontSize:r?"0.8rem":void 0,fontWeight:"bold",overflow:"hidden",paddingRight:0,textOverflow:"ellipsis"},transaction:s}),t.createElement(Bt,{accountPublicKey:e.accountPublicKey,paymentSummary:c,style:{paddingRight:0},transaction:s}))}),zt=t.memo(function(e){const{t:a}=v();return t.createElement(K,{style:{borderBottom:"none",height:75}},t.createElement(d,{disableTypography:!0,style:{textAlign:"center"}},t.createElement(ue,{onClick:e.onClick,loading:e.pending,style:{margin:"0 auto",paddingLeft:16,paddingRight:16},variant:"text"},a("account.transactions.transaction-list.load-more.label"))))}),Ht=Oe({listItem:{padding:"8px 24px",[le.down(600)]:{paddingLeft:24,paddingRight:24}}});function $t(n){const e=Ht(),a=k(),r=D(),s=U(r.location.pathname,L("*","*"))?r.match.params.subaction:null,o=t.useMemo(()=>{if(!s)return null;const l=n.transactions.find(y=>y.hash===s),m=l?l.decodedTx:null;return m&&l?Object.assign(m,{created_at:l.created_at}):m},[s,n.transactions]),c=t.useCallback(l=>{r.history.push(L(n.account.id,l))},[n.account.id,r.history]),i=t.useCallback(()=>{r.history.push(He(n.account.id)),setTimeout(()=>{document.activeElement&&document.activeElement.blur()},0)},[n.account.id,r.history]),u=t.useMemo(()=>t.createElement(t.Fragment,null,n.transactions.map(l=>t.createElement(Ot,{key:l.hash,animate:Date.now()-new Date(l.created_at).getTime()<1e4},t.createElement(me,{height:72},t.createElement(he,{key:l.hash,accountPublicKey:n.account.publicKey,className:e.listItem,createdAt:l.created_at,onOpenTransaction:c,transaction:l.decodedTx}))))),[n.transactions,n.account.publicKey,e.listItem,c]);return n.transactions.length===0&&!n.olderTransactionsAvailable?null:t.createElement(N,{disablePadding:a,style:{background:n.background}},t.createElement(j,{className:e.listItem,disableSticky:!0,style:{background:n.background}},n.title),u,n.olderTransactionsAvailable?t.createElement(zt,{pending:n.loadingMoreTransactions,onClick:n.onFetchMoreTransactions}):null,t.createElement($e,{open:o!==null,account:n.account,disabled:!0,showSource:!0,showSubmissionProgress:!1,transaction:o,onClose:i,onSubmitTransaction:qt}))}const Nt=t.memo($t);function Ut(n){const{onOpenTransaction:e,signatureRequest:a}=n,r=t.useMemo(()=>new de(a.req).getTransaction(),[a.req]),s=t.useCallback(e?()=>e(r,a):()=>{},[e,a,r]);return t.createElement(he,{alwaysShowSource:!0,accountPublicKey:r.source,createdAt:a.created_at,icon:n.icon,onOpenTransaction:s,style:n.style,transaction:r})}const jt=t.memo(function(e){const{sendTransaction:a}=e,r=D();t.useEffect(()=>{const o=i=>{if(U(i,L("*","*"))){const[,,,u]=i.replace(/^\//,"").split("/"),l=e.signatureRequests.find(m=>m.hash===u);if(l){const m=new de(l.req);a(m.getTransaction(),l)}}};return o(r.location.pathname),r.history.listen(i=>{o(i.pathname)})},[r.history,r.location.pathname,a,e.signatureRequests]);const s=(o,c)=>{r.history.push(L(e.account.id,c.hash))};return e.signatureRequests.length===0?null:t.createElement(t.Fragment,null,t.createElement(N,{style:{background:"transparent"}},t.createElement(j,{disableSticky:!0,style:{background:"transparent"}},e.title),e.signatureRequests.map(o=>t.createElement(me,{height:72,key:o.hash},t.createElement(Ut,{icon:e.icon,onOpenTransaction:s,signatureRequest:o,style:{minHeight:72}})))))}),ie=t.memo(n=>{const e=D(),a=!U(e.location.pathname,L("*","*")),r=t.useCallback(()=>{e.history.push(Ge(e.location.pathname))},[e]);return t.createElement(ye,{account:n.account,forceClose:a,onCloseTransactionDialog:r},({sendTransaction:s})=>t.createElement(jt,{account:n.account,icon:n.icon,sendTransaction:s,signatureRequests:n.signatureRequests,title:n.title}))}),Wt=(n,e)=>!e.decodedTx.operations.every(a=>a.type==="createClaimableBalance"||a.type==="claimClaimableBalance"&&a.source!==n.publicKey),Vt=(n,e)=>!Xe(e.decodedTx,n);function Gt(n){const{pendingSignatureRequests:e}=t.useContext(Be),{t:a}=v(),r=t.useMemo(()=>t.createElement(ot,null),[]),s=t.useMemo(()=>t.createElement(Ye,{style:{opacity:.5}}),[]),o=t.useMemo(()=>e.filter(i=>i.status!=="submitted"&&i.signers.some(u=>u===n.account.publicKey)&&i.signed_by.indexOf(n.account.publicKey)===-1),[n.account,e]),c=t.useMemo(()=>e.filter(i=>i.status!=="submitted"&&i.signers.some(u=>u===n.account.publicKey)&&i.signed_by.indexOf(n.account.publicKey)>-1),[n.account,e]);return t.createElement(t.Fragment,null,t.createElement(ie,{account:n.account,icon:r,signatureRequests:o,title:a("account.transactions.signature-request-list.title.requests-to-cosign")}),t.createElement(ie,{account:n.account,icon:s,signatureRequests:c,title:a("account.transactions.signature-request-list.title.requests-waiting-for-others")}))}function Jt(n){const{account:e}=n,{showDust:a,showClaimableBalanceTxs:r}=t.useContext($),{t:s}=v(),o=oe(e.accountID,e.testnet),c=De(e.testnet),i=k(),[u,l]=se(),m=t.useCallback(ve=>ve.filter(W=>(r||Wt(e,W))&&(a||Vt(e,W))),[]),{transactions:y,olderTransactionsAvailable:f,fetchMoreTransactions:g}=mt(e.accountID,e.testnet,m),q=D(),F=t.useContext($),be=t.useCallback(()=>l(g()),[g,l]),Ee=t.useCallback(()=>q.history.push(Je(e.id)),[e,q]);return t.createElement(t.Fragment,null,o.balances.length>0?t.createElement(t.Fragment,null,F.multiSignature?t.createElement(Gt,{account:e}):null,t.createElement(It,{account:e,title:s("account.transactions.offer-list.title")}),t.createElement(Nt,{account:e,background:"transparent",loadingMoreTransactions:u.type==="pending",olderTransactionsAvailable:f,onFetchMoreTransactions:be,title:s("account.transactions.transaction-list.title"),transactions:y})):t.createElement(t.Fragment,null,t.createElement(Fe,{alignItems:"stretch",margin:"0 auto",style:{padding:i?"16px 28px":"32px 28px",width:"fit-content"}},e.testnet?t.createElement(gt,{horizonURL:c[0],publicKey:e.publicKey,style:{marginBottom:i?16:32}}):null,t.createElement(ge,{Icon:ut,description:s("account.transactions.action.navigate-to-deposit.description"),label:s("account.transactions.action.navigate-to-deposit.label"),onClick:Ee}))))}const nn=t.memo(Jt);export{nn as default};
//# sourceMappingURL=AccountTransactions-Z1uSdJiE.js.map
