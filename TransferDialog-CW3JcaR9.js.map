{"version":3,"file":"TransferDialog-CW3JcaR9.js","sources":["../node_modules/@suncewallet/stellar-transfer/node_modules/form-data/lib/browser.js","../node_modules/@suncewallet/stellar-transfer/dist/errors.js","../node_modules/@suncewallet/stellar-transfer/dist/result.js","../node_modules/@suncewallet/stellar-transfer/dist/kyc.js","../node_modules/@suncewallet/stellar-transfer/dist/deposit.js","../node_modules/@suncewallet/stellar-transfer/dist/fees.js","../node_modules/@suncewallet/stellar-transfer/dist/info.js","../node_modules/@suncewallet/stellar-transfer/dist/transactions.js","../node_modules/axios/dist/browser/axios.cjs","../node_modules/@suncewallet/stellar-transfer/dist/util.js","../node_modules/@suncewallet/stellar-transfer/dist/transfer-server.js","../node_modules/@suncewallet/stellar-transfer/dist/withdrawal.js","../node_modules/@suncewallet/stellar-transfer/dist/index.js","../src/Generic/hooks/transfer-server.ts","../src/Layout/components/VirtualizedFader.tsx","../src/TransferService/util/statemachine.ts","../node_modules/@suncewallet/stellar-sep-10/dist/logger.js","../node_modules/@suncewallet/stellar-sep-10/dist/authentication.js","../node_modules/@suncewallet/stellar-sep-10/dist/stellar-toml.js","../node_modules/@suncewallet/stellar-sep-10/dist/index.js","../src/TransferService/util/util.ts","../src/TransferService/hooks/useTransferState.ts","../src/TransferService/hooks/useDepositState.ts","../src/TransferService/hooks/useWithdrawalState.ts","../src/TransferService/components/DepositProvider.tsx","../src/TransferService/components/NoWithdrawableAssets.tsx","../src/TransferService/components/Sidebar.tsx","../src/TransferService/components/DepositSuccess.tsx","../src/TransferService/components/PurchaseLumens.tsx","../src/TransferService/components/WithdrawalProvider.tsx","../src/TransferService/components/TransferAuthentication.tsx","../src/TransferService/components/TransferKYCDenied.tsx","../src/TransferService/util/formatters.ts","../src/TransferService/components/TransferTransactionStatus.tsx","../src/TransferService/components/TransferKYCPending.tsx","../src/TransferService/components/FormLayout.tsx","../src/TransferService/components/FormBuilder.tsx","../src/TransferService/components/TransferDetailsForm.tsx","../src/TransferService/components/TransferInitial.tsx","../src/TransferService/components/WithdrawalSuccess.tsx","../src/TransferService/components/TransferTransactionDetails.tsx","../src/TransferService/components/TransferContent.tsx","../src/TransferService/components/TransferDialog.tsx"],"sourcesContent":["/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResponseError = ResponseError;\nfunction ResponseError(response, transferServer) {\n    var isJsonResponse = response.headers[\"content-type\"] &&\n        /json/.test(response.headers[\"content-type\"]);\n    var message = isJsonResponse &&\n        response.data &&\n        (response.data.error || response.data.message);\n    return Error(message\n        ? \"Request to \".concat(transferServer.domain, \" failed: \").concat(message)\n        : \"Request to \".concat(transferServer.domain, \" failed with status \").concat(response.status));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransferResultType = void 0;\nvar TransferResultType;\n(function (TransferResultType) {\n    TransferResultType[\"ok\"] = \"success\";\n    TransferResultType[\"kyc\"] = \"kyc\";\n})(TransferResultType || (exports.TransferResultType = TransferResultType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KYCResponseType = void 0;\nexports.createKYCInstructions = createKYCInstructions;\nexports.isKYCRequired = isKYCRequired;\nvar result_1 = require(\"./result\");\nvar KYCResponseType;\n(function (KYCResponseType) {\n    KYCResponseType[\"interactive\"] = \"interactive\";\n    KYCResponseType[\"nonInteractive\"] = \"non-interactive\";\n    KYCResponseType[\"status\"] = \"status\";\n})(KYCResponseType || (exports.KYCResponseType = KYCResponseType = {}));\nvar kycSubTypes = {\n    customer_info_status: KYCResponseType.status,\n    interactive_customer_info_needed: KYCResponseType.interactive,\n    non_interactive_customer_info_needed: KYCResponseType.nonInteractive,\n};\nfunction createKYCInstructions(response, domain) {\n    var subtype = kycSubTypes[response.data.type];\n    if (!subtype) {\n        throw Error(\"\".concat(domain, \" requires KYC, but did not specify valid KYC instructions.\"));\n    }\n    return {\n        data: response.data,\n        subtype: subtype,\n        type: result_1.TransferResultType.kyc,\n    };\n}\nfunction isKYCRequired(response) {\n    return (response.status === 403 ||\n        response.data.type === \"interactive_customer_info_needed\");\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DepositType = void 0;\nexports.Deposit = Deposit;\nvar form_data_1 = __importDefault(require(\"form-data\"));\nvar errors_1 = require(\"./errors\");\nvar kyc_1 = require(\"./kyc\");\nvar result_1 = require(\"./result\");\nvar DepositType;\n(function (DepositType) {\n    DepositType[\"SEPA\"] = \"SEPA\";\n    DepositType[\"SWIFT\"] = \"SWIFT\";\n})(DepositType || (exports.DepositType = DepositType = {}));\nfunction Deposit(transferServer, asset, destinationAccountID, fields) {\n    if (fields === void 0) { fields = {}; }\n    if (asset.isNative()) {\n        throw Error(\"Cannot deposit lumens, but only assets issued by \".concat(transferServer.domain, \".\"));\n    }\n    var deposit = {\n        accountID: destinationAccountID,\n        asset: asset,\n        fields: __assign(__assign({ lang: transferServer.options.lang, wallet_name: transferServer.options.walletName, wallet_url: transferServer.options.walletURL }, fields), { account: destinationAccountID, asset_code: asset.getCode() }),\n        interactive: function (authToken) {\n            return requestInteractiveDeposit(deposit, authToken);\n        },\n        legacy: function (authToken) {\n            return requestLegacyDeposit(deposit, authToken);\n        },\n        transferServer: transferServer,\n    };\n    return deposit;\n}\nfunction requestInteractiveDeposit(deposit, authToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        var fields, transferServer, body, headers, validateStatus, error_1, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    fields = deposit.fields, transferServer = deposit.transferServer;\n                    body = new form_data_1.default();\n                    Object.keys(fields).forEach(function (fieldName) {\n                        if (typeof fields[fieldName] !== \"undefined\") {\n                            body.append(fieldName, fields[fieldName]);\n                        }\n                    });\n                    headers = {\n                        \"Content-Type\": \"multipart/form-data\",\n                    };\n                    if (authToken) {\n                        // tslint:disable-next-line no-string-literal\n                        headers[\"Authorization\"] = \"Bearer \".concat(authToken);\n                    }\n                    validateStatus = function (status) {\n                        return status === 200 || status === 201 || status === 400 || status === 403;\n                    };\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, requestDeposit(deposit, function () {\n                            return transferServer.post(\"/transactions/deposit/interactive\", body, {\n                                headers: headers,\n                                validateStatus: validateStatus,\n                            });\n                        })];\n                case 2: return [2 /*return*/, _a.sent()];\n                case 3:\n                    error_1 = _a.sent();\n                    response = error_1.response;\n                    if (response && response.status === 404) {\n                        return [2 /*return*/, requestLegacyDeposit(deposit, authToken)];\n                    }\n                    else if (response) {\n                        throw (0, errors_1.ResponseError)(response, deposit.transferServer);\n                    }\n                    else {\n                        return [2 /*return*/, requestLegacyDeposit(deposit, authToken)];\n                    }\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction requestLegacyDeposit(deposit, authToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        var fields, transferServer, headers, validateStatus;\n        return __generator(this, function (_a) {\n            fields = deposit.fields, transferServer = deposit.transferServer;\n            headers = {};\n            if (authToken) {\n                // tslint:disable-next-line no-string-literal\n                headers[\"Authorization\"] = \"Bearer \".concat(authToken);\n            }\n            validateStatus = function (status) {\n                return status === 200 || status === 201 || status === 400 || status === 403;\n            };\n            return [2 /*return*/, requestDeposit(deposit, function () {\n                    return transferServer.get(\"/deposit\", {\n                        headers: headers,\n                        params: fields,\n                        validateStatus: validateStatus,\n                    });\n                })];\n        });\n    });\n}\nfunction requestDeposit(deposit, sendRequest) {\n    return __awaiter(this, void 0, void 0, function () {\n        var transferServer, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    transferServer = deposit.transferServer;\n                    return [4 /*yield*/, sendRequest()];\n                case 1:\n                    response = _a.sent();\n                    if ((0, kyc_1.isKYCRequired)(response)) {\n                        return [2 /*return*/, (0, kyc_1.createKYCInstructions)(response, transferServer.domain)];\n                    }\n                    else if (response.status === 200) {\n                        return [2 /*return*/, {\n                                data: response.data,\n                                type: result_1.TransferResultType.ok,\n                            }];\n                    }\n                    else {\n                        throw (0, errors_1.ResponseError)(response, deposit.transferServer);\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchFee = fetchFee;\nfunction fetchFee(transferServer, operation, type, asset, amount) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, transferServer.get(\"/fee\", {\n                        params: {\n                            operation: operation,\n                            type: type,\n                            asset_code: asset.code,\n                            amount: String(amount),\n                        },\n                    })];\n                case 1:\n                    response = _a.sent();\n                    return [2 /*return*/, response.data];\n            }\n        });\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchTransferInfos = fetchTransferInfos;\nvar dedupe = function (array) { return Array.from(new Set(array)); };\nfunction fail(message) {\n    throw Error(message);\n}\nfunction fetchTransferInfos(transferServer) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response, assetCodes, assetInfos;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, transferServer.get(\"/info\")];\n                case 1:\n                    response = _a.sent();\n                    assetCodes = dedupe(__spreadArray(__spreadArray([], Object.keys(response.data.deposit), true), Object.keys(response.data.withdraw), true)).filter(\n                    // TEMPO work-aroundâ€¦\n                    function (assetCode) { return assetCode !== \"transactions\"; });\n                    assetInfos = assetCodes\n                        // Filter out assets that the transfer server lists, but are not in\n                        // the stellar.toml. Prevent crashes on partially inconsistent data.\n                        .filter(function (assetCode) {\n                        return transferServer.assets.some(function (asset) { return asset.code === assetCode; });\n                    })\n                        .map(function (assetCode) { return ({\n                        asset: transferServer.assets.find(function (asset) { return asset.code === assetCode; }) ||\n                            fail(\"\".concat(transferServer.domain, \" does not issue asset \").concat(assetCode, \".\")),\n                        deposit: response.data.deposit[assetCode],\n                        endpoints: response.data,\n                        transferServer: transferServer,\n                        withdraw: response.data.withdraw[assetCode],\n                    }); });\n                    return [2 /*return*/, {\n                            assets: assetInfos,\n                            depositableAssets: assetInfos\n                                .filter(function (info) { return info.deposit; })\n                                .map(function (info) { return info.asset; }),\n                            endpoints: response.data,\n                            transferServer: transferServer,\n                            withdrawableAssets: assetInfos\n                                .filter(function (info) { return info.withdraw; })\n                                .map(function (info) { return info.asset; }),\n                        }];\n            }\n        });\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransferStatus = void 0;\nexports.fetchTransaction = fetchTransaction;\nexports.fetchTransactions = fetchTransactions;\nvar TransferStatus;\n(function (TransferStatus) {\n    /** deposit/withdrawal fully completed. */\n    TransferStatus[\"completed\"] = \"completed\";\n    /**\n     * Deposit/withdrawal has been submitted to external network, but is not yet confirmed.\n     * This is the status when waiting on Bitcoin or other external crypto network to complete a transaction, or when waiting on a bank transfer.\n     */\n    TransferStatus[\"pending_external\"] = \"pending_external\";\n    /** deposit/withdrawal is being processed internally by anchor. */\n    TransferStatus[\"pending_anchor\"] = \"pending_anchor\";\n    /** deposit/withdrawal operation has been submitted to Stellar network, but is not yet confirmed. */\n    TransferStatus[\"pending_stellar\"] = \"pending_stellar\";\n    /** the user must add a trust-line for the asset for the deposit to complete. */\n    TransferStatus[\"pending_trust\"] = \"pending_trust\";\n    /** the user must take additional action before the deposit / withdrawal can complete. */\n    TransferStatus[\"pending_user\"] = \"pending_user\";\n    /** the user has not yet initiated their transfer to the anchor. This is the necessary first step in any deposit or withdrawal flow. */\n    TransferStatus[\"pending_user_transfer_start\"] = \"pending_user_transfer_start\";\n    /** there is not yet enough information for this transaction to be initiated. Perhaps the user has not yet entered necessary info in an interactive flow. */\n    TransferStatus[\"incomplete\"] = \"incomplete\";\n    /** could not complete deposit because no satisfactory asset/XLM market was available to create the account. */\n    TransferStatus[\"no_market\"] = \"no_market\";\n    /** deposit/withdrawal size less than min_amount. */\n    TransferStatus[\"too_small\"] = \"too_small\";\n    /** deposit/withdrawal size exceeded max_amount. */\n    TransferStatus[\"too_large\"] = \"too_large\";\n    /** catch-all for any error not enumerated above. */\n    TransferStatus[\"error\"] = \"error\";\n})(TransferStatus || (exports.TransferStatus = TransferStatus = {}));\nfunction fetchTransaction(transferServer_1, id_1) {\n    return __awaiter(this, arguments, void 0, function (transferServer, id, idType, authToken) {\n        var headers, idParamName, response;\n        var _a;\n        if (idType === void 0) { idType = \"transfer\"; }\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    headers = {};\n                    if (authToken) {\n                        // tslint:disable-next-line no-string-literal\n                        headers[\"Authorization\"] = \"Bearer \".concat(authToken);\n                    }\n                    idParamName = idType === \"stellar\"\n                        ? \"stellar_transaction_id\"\n                        : idType === \"external\"\n                            ? \"external_transaction_id\"\n                            : \"id\";\n                    return [4 /*yield*/, transferServer.get(\"/transaction\", {\n                            headers: headers,\n                            params: (_a = {},\n                                _a[idParamName] = id,\n                                _a),\n                        })];\n                case 1:\n                    response = _b.sent();\n                    return [2 /*return*/, response.data];\n            }\n        });\n    });\n}\nfunction fetchTransactions(transferServer_1, assetCode_1, authToken_1) {\n    return __awaiter(this, arguments, void 0, function (transferServer, assetCode, authToken, options) {\n        var headers, response;\n        if (options === void 0) { options = {}; }\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    headers = {};\n                    if (authToken) {\n                        // tslint:disable-next-line no-string-literal\n                        headers[\"Authorization\"] = \"Bearer \".concat(authToken);\n                    }\n                    return [4 /*yield*/, transferServer.get(\"/transactions\", {\n                            headers: headers,\n                            params: {\n                                asset_code: assetCode,\n                                kind: options.kind,\n                                limit: options.limit,\n                                no_older_than: options.noOlderThan,\n                                paging_id: options.pagingId,\n                            },\n                        })];\n                case 1:\n                    response = _a.sent();\n                    return [2 /*return*/, response.data];\n            }\n        });\n    });\n}\n","/*! Axios v1.8.4 Copyright (c) 2025 Matt Zabriskie and contributors */\n'use strict';\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nvar utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n// eslint-disable-next-line strict\nvar httpAdapter = null;\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils$1.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nvar InterceptorManager$1 = InterceptorManager;\n\nvar transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nvar URLSearchParams$1 = typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n\nvar FormData$1 = typeof FormData !== 'undefined' ? FormData : null;\n\nvar Blob$1 = typeof Blob !== 'undefined' ? Blob : null;\n\nvar platform$1 = {\n  isBrowser: true,\n  classes: {\n    URLSearchParams: URLSearchParams$1,\n    FormData: FormData$1,\n    Blob: Blob$1\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nvar platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nvar defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nvar parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nvar AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\nvar isURLSameOrigin = platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n\nvar cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nvar resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nvar xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nvar composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils$1.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nvar fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nvar adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst VERSION = \"1.8.4\";\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators$1.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nvar validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) ; else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nvar Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nvar CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nvar HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.joinURL = joinURL;\nfunction joinURL() {\n    var fragments = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fragments[_i] = arguments[_i];\n    }\n    return fragments.reduce(function (joined, fragment) {\n        if (joined.length === 0) {\n            return fragment;\n        }\n        else if (joined.endsWith(\"/\") && fragment.startsWith(\"/\")) {\n            return joined + fragment.substr(1);\n        }\n        else if (joined.endsWith(\"/\") || fragment.startsWith(\"/\")) {\n            return joined + fragment;\n        }\n        else {\n            return \"\".concat(joined, \"/\").concat(fragment);\n        }\n    }, \"\");\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransferServer = TransferServer;\nexports.openTransferServer = openTransferServer;\nexports.locateTransferServer = locateTransferServer;\nexports.resolveAssets = resolveAssets;\nexports.resolveTransferServerURL = resolveTransferServerURL;\nvar stellar_sdk_1 = require(\"@stellar/stellar-sdk\");\nvar axios_1 = __importDefault(require(\"axios\"));\nvar util_1 = require(\"./util\");\nfunction fail(message) {\n    throw Error(message);\n}\nfunction getTransferServerURL(stellarTomlData) {\n    return (stellarTomlData.TRANSFER_SERVER_SEP0024 ||\n        stellarTomlData.TRANSFER_SERVER ||\n        null);\n}\nfunction TransferServer(domain, serverURL, assets, network, options) {\n    if (options === void 0) { options = {}; }\n    return {\n        get assets() {\n            return assets;\n        },\n        get domain() {\n            return domain;\n        },\n        get network() {\n            return network;\n        },\n        get url() {\n            return serverURL;\n        },\n        get options() {\n            return options;\n        },\n        get: function (path, reqOptions) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, axios_1.default.get((0, util_1.joinURL)(serverURL, path), reqOptions)];\n                });\n            });\n        },\n        post: function (path, body, reqOptions) {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, axios_1.default.post((0, util_1.joinURL)(serverURL, path), body, reqOptions)];\n                });\n            });\n        },\n    };\n}\nfunction openTransferServer(domain, network, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var stellarTomlData, serverURL, assets;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, stellar_sdk_1.StellarToml.Resolver.resolve(domain)];\n                case 1:\n                    stellarTomlData = _a.sent();\n                    serverURL = getTransferServerURL(stellarTomlData) ||\n                        fail(\"There seems to be no transfer server on \".concat(domain, \".\"));\n                    assets = resolveAssets(stellarTomlData, domain);\n                    return [2 /*return*/, TransferServer(domain, serverURL, assets, network, options)];\n            }\n        });\n    });\n}\nfunction locateTransferServer(domain, options) {\n    return __awaiter(this, void 0, void 0, function () {\n        var stellarTomlData;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, stellar_sdk_1.StellarToml.Resolver.resolve(domain, options)];\n                case 1:\n                    stellarTomlData = _a.sent();\n                    return [2 /*return*/, getTransferServerURL(stellarTomlData)];\n            }\n        });\n    });\n}\nfunction resolveAssets(stellarTomlData, domain) {\n    if (domain === void 0) { domain = \"?\"; }\n    if (!stellarTomlData.CURRENCIES) {\n        throw Error(\"No CURRENCIES found in stellar.toml of domain \".concat(domain, \".\"));\n    }\n    return stellarTomlData.CURRENCIES.filter(function (currency) { return currency.code; }).map(function (currency) { return new stellar_sdk_1.Asset(currency.code, currency.issuer); });\n}\nfunction resolveTransferServerURL(horizonURL, asset) {\n    return __awaiter(this, void 0, void 0, function () {\n        var horizon, accountData, homeDomain;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (asset.isNative()) {\n                        throw Error(\"Native XLM asset does not have an issuer account.\");\n                    }\n                    horizon = new stellar_sdk_1.Horizon.Server(horizonURL);\n                    return [4 /*yield*/, horizon.loadAccount(asset.getIssuer())];\n                case 1:\n                    accountData = _a.sent();\n                    homeDomain = accountData.home_domain;\n                    if (!homeDomain) {\n                        return [2 /*return*/, null];\n                    }\n                    return [2 /*return*/, locateTransferServer(homeDomain)];\n            }\n        });\n    });\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WithdrawalType = void 0;\nexports.Withdrawal = Withdrawal;\nexports.createWithdrawalPayment = createWithdrawalPayment;\nvar stellar_sdk_1 = require(\"@stellar/stellar-sdk\");\nvar form_data_1 = __importDefault(require(\"form-data\"));\nvar errors_1 = require(\"./errors\");\nvar kyc_1 = require(\"./kyc\");\nvar result_1 = require(\"./result\");\nvar WithdrawalType;\n(function (WithdrawalType) {\n    WithdrawalType[\"bankAccount\"] = \"bank_account\";\n    WithdrawalType[\"cash\"] = \"cash\";\n    WithdrawalType[\"crypto\"] = \"crypto\";\n    WithdrawalType[\"mobile\"] = \"mobile\";\n    WithdrawalType[\"billPayment\"] = \"bill_payment\";\n})(WithdrawalType || (exports.WithdrawalType = WithdrawalType = {}));\nfunction Withdrawal(transferServer, asset, fields) {\n    if (fields === void 0) { fields = {}; }\n    if (asset.isNative()) {\n        throw Error(\"Cannot withdraw lumens, but only assets issued by \".concat(transferServer.domain, \".\"));\n    }\n    var withdrawal = {\n        asset: asset,\n        fields: __assign(__assign({ lang: transferServer.options.lang, wallet_name: transferServer.options.walletName, wallet_url: transferServer.options.walletURL }, fields), { asset_code: asset.getCode() }),\n        interactive: function (authToken) {\n            return requestInteractiveWithdrawal(withdrawal, authToken);\n        },\n        legacy: function (authToken) {\n            return requestLegacyWithdrawal(withdrawal, authToken);\n        },\n        transferServer: transferServer,\n    };\n    return withdrawal;\n}\nfunction requestInteractiveWithdrawal(withdrawal, authToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        var fields, transferServer, body, headers, validateStatus, error_1, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    fields = withdrawal.fields, transferServer = withdrawal.transferServer;\n                    body = new form_data_1.default();\n                    Object.keys(fields).forEach(function (fieldName) {\n                        if (typeof fields[fieldName] !== \"undefined\") {\n                            body.append(fieldName, fields[fieldName]);\n                        }\n                    });\n                    headers = {\n                        \"Content-Type\": \"multipart/form-data\",\n                    };\n                    if (authToken) {\n                        // tslint:disable-next-line no-string-literal\n                        headers[\"Authorization\"] = \"Bearer \".concat(authToken);\n                    }\n                    validateStatus = function (status) {\n                        return status === 200 || status === 201 || status === 400 || status === 403;\n                    };\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, requestWithdrawal(withdrawal, function () {\n                            return transferServer.post(\"/transactions/withdraw/interactive\", body, {\n                                headers: headers,\n                                validateStatus: validateStatus,\n                            });\n                        })];\n                case 2: return [2 /*return*/, _a.sent()];\n                case 3:\n                    error_1 = _a.sent();\n                    response = error_1.response;\n                    if (response && response.status === 404) {\n                        return [2 /*return*/, requestLegacyWithdrawal(withdrawal, authToken)];\n                    }\n                    else if (response) {\n                        throw (0, errors_1.ResponseError)(response, withdrawal.transferServer);\n                    }\n                    else {\n                        return [2 /*return*/, requestLegacyWithdrawal(withdrawal, authToken)];\n                    }\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction requestLegacyWithdrawal(withdrawal, authToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        var fields, transferServer, headers, validateStatus;\n        return __generator(this, function (_a) {\n            fields = withdrawal.fields, transferServer = withdrawal.transferServer;\n            headers = {};\n            if (authToken) {\n                // tslint:disable-next-line no-string-literal\n                headers[\"Authorization\"] = \"Bearer \".concat(authToken);\n            }\n            validateStatus = function (status) {\n                return status === 200 || status === 201 || status === 400 || status === 403;\n            };\n            return [2 /*return*/, requestWithdrawal(withdrawal, function () {\n                    return transferServer.get(\"/withdraw\", {\n                        headers: headers,\n                        params: fields,\n                        validateStatus: validateStatus,\n                    });\n                })];\n        });\n    });\n}\nfunction requestWithdrawal(withdrawal, sendRequest) {\n    return __awaiter(this, void 0, void 0, function () {\n        var transferServer, response;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    transferServer = withdrawal.transferServer;\n                    return [4 /*yield*/, sendRequest()];\n                case 1:\n                    response = _a.sent();\n                    if ((0, kyc_1.isKYCRequired)(response)) {\n                        return [2 /*return*/, (0, kyc_1.createKYCInstructions)(response, transferServer.domain)];\n                    }\n                    else if (response.status === 200) {\n                        return [2 /*return*/, {\n                                data: response.data,\n                                type: result_1.TransferResultType.ok,\n                            }];\n                    }\n                    else {\n                        throw (0, errors_1.ResponseError)(response, withdrawal.transferServer);\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n/**\n * @returns An unsigned transaction containing a payment to conduct the actual withdrawal.\n */\nfunction createWithdrawalPayment(response, builder, asset, amount, options) {\n    if (options === void 0) { options = {}; }\n    // TODO: Support path payments\n    builder.addOperation(stellar_sdk_1.Operation.payment({\n        amount: amount,\n        asset: asset,\n        destination: response.data.account_id,\n        source: options.sourceAccountID,\n    }));\n    if (response.data.memo_type === \"hash\" && response.data.memo) {\n        builder.addMemo(stellar_sdk_1.Memo.hash(response.data.memo));\n    }\n    else if (response.data.memo_type === \"id\" && response.data.memo) {\n        builder.addMemo(stellar_sdk_1.Memo.id(response.data.memo));\n    }\n    else if (response.data.memo_type === \"text\" && response.data.memo) {\n        builder.addMemo(stellar_sdk_1.Memo.text(response.data.memo));\n    }\n    else if (response.data.memo) {\n        throw Error(\"Anchor requires a memo on the withdrawal transaction, but did not specify a valid memo type.\");\n    }\n    return builder.build();\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./deposit\"), exports);\n__exportStar(require(\"./fees\"), exports);\n__exportStar(require(\"./info\"), exports);\n__exportStar(require(\"./kyc\"), exports);\n__exportStar(require(\"./result\"), exports);\n__exportStar(require(\"./transactions\"), exports);\n__exportStar(require(\"./transfer-server\"), exports);\n__exportStar(require(\"./withdrawal\"), exports);\n","import {\n  fetchTransferInfos,\n  openTransferServer,\n  TransferServer,\n  TransferServerInfo\n} from \"@suncewallet/stellar-transfer\"\nimport { Asset, Networks } from \"@stellar/stellar-sdk\"\nimport { mapSuspendables } from \"../lib/suspense\"\nimport { transferInfosCache } from \"./_caches\"\nimport { useAccountHomeDomains } from \"./stellar\"\n\nconst dedupe = <T>(input: T[]): T[] => Array.from(new Set(input))\n\nfunction withTimeout<T>(promise: Promise<T>, ms: number, message: string): Promise<T> {\n  return Promise.race([\n    promise,\n    new Promise<never>((resolve, reject) => {\n      setTimeout(() => reject(Error(message)), ms)\n    })\n  ])\n}\n\nasync function initTransferServer(domain: string, testnet: boolean): Promise<TransferServer | undefined> {\n  const network = testnet ? Networks.TESTNET : Networks.PUBLIC\n\n  try {\n    const transferServer = await withTimeout(\n      openTransferServer(domain, network, {\n        walletName: \"Sunce\",\n        walletURL: \"https://sunce.montelibero.org\"\n      }),\n      8000,\n      `Transfer server discovery at ${domain} timed out.`\n    )\n    return transferServer\n  } catch (error) {\n    // tslint:disable-next-line no-console\n    console.error(`Treating ${domain} as no transfer server available:`, error)\n    return undefined\n  }\n}\n\nexport function useTransferInfos(\n  assets: Asset[],\n  testnet: boolean,\n  assetTransferDomainOverrides: Record<string, string> = {}\n): (TransferServerInfo | undefined)[] {\n  const accountIDs = assets.map(asset => asset.issuer).filter(issuer => Boolean(issuer))\n  const homeDomains = useAccountHomeDomains(accountIDs, testnet)\n\n  const homeDomainsWithOverrides = homeDomains.map(\n    (domain, index) => assetTransferDomainOverrides[assets[index].code] || domain\n  )\n  const domains = dedupe(homeDomainsWithOverrides).filter((domain): domain is string => Boolean(domain))\n\n  return mapSuspendables(\n    domains,\n    domain => {\n      return (transferInfosCache.get(domain) ||\n        transferInfosCache.suspend(domain, async () => {\n          try {\n            const transferServer = await initTransferServer(domain, testnet)\n            if (!transferServer) return []\n\n            const transferInfo = await fetchTransferInfos(transferServer)\n            return (transferInfo ? [transferInfo] : []) as [TransferServerInfo] | []\n          } catch (error) {\n            // tslint:disable-next-line no-console\n            console.error(`Failed to fetch transfer infos for transfer server ${domain}:`, error)\n            return []\n          }\n        }))[0]\n    },\n    { ignoreSingleErrors: true }\n  )\n}\n","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nconst useFaderStyles = makeStyles({\n  root: {\n    display: \"block\",\n    position: \"relative\",\n    height: \"100%\",\n    overflow: \"auto\",\n    width: \"100%\"\n  },\n  slide: {\n    display: \"block\",\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    opacity: 0,\n    overflow: \"auto\",\n    transition: \"opacity .3s\",\n    willChange: \"opacity\",\n\n    \"&$active\": {\n      opacity: 1\n    }\n  },\n  active: {\n    // Only used in conjunction with `slide`\n  }\n})\n\ninterface FaderProps {\n  children: React.ReactNode[]\n  className?: string\n  current: number\n  style?: React.CSSProperties\n}\n\nfunction Fader(props: FaderProps) {\n  const classes = useFaderStyles()\n\n  return (\n    <div className={`${classes.root} ${props.className || \"\"}`} style={props.style}>\n      {props.children.map((child, index) => (\n        <div className={[classes.slide, index === props.current ? classes.active : \"\"].join(\" \")} key={index}>\n          {child}\n        </div>\n      ))}\n    </div>\n  )\n}\n\ninterface VirtualizedCarouselProps {\n  className?: string\n  current: React.ReactNode\n  index: number\n  next?: React.ReactNode\n  prev?: React.ReactNode\n  size: number\n  style?: React.CSSProperties\n}\n\nfunction VirtualizedCarousel(props: VirtualizedCarouselProps) {\n  const children: React.ReactNode[] = []\n\n  for (let i = 0; i < props.size; i++) {\n    let child: React.ReactNode\n\n    if (i === props.index) {\n      child = props.current\n    } else if (i === props.index - 1) {\n      child = props.prev || null\n    } else if (i === props.index + 1) {\n      child = props.next || null\n    } else {\n      child = null\n    }\n\n    children.push(<React.Fragment key={i}>{child}</React.Fragment>)\n  }\n\n  return (\n    <Fader className={props.className} current={props.index} style={props.style}>\n      {children}\n    </Fader>\n  )\n}\n\nexport default React.memo(VirtualizedCarousel)\n","// tslint:disable no-object-literal-type-assertion\nimport { WebauthData } from \"@suncewallet/stellar-sep-10\"\nimport {\n  Deposit,\n  DepositInstructionsSuccess,\n  DepositTransaction,\n  KYCInstructions,\n  KYCStatusResponse,\n  KYCResponseType,\n  TransferServer,\n  TransferTransaction,\n  Withdrawal,\n  WithdrawalInstructionsSuccess,\n  WithdrawalTransaction\n} from \"@suncewallet/stellar-transfer\"\nimport BigNumber from \"big.js\"\nimport { Asset, Transaction } from \"@stellar/stellar-sdk\"\nimport { CustomError } from \"~Generic/lib/errors\"\n\nexport namespace TransferStates {\n  export interface SelectType {\n    step: \"initial\"\n    asset?: Asset\n    method?: string\n    formValues: {\n      [fieldName: string]: string | undefined\n    }\n  }\n\n  export interface EnterBasics {\n    step: \"enter-values\"\n    asset: Asset\n    method: string\n    formValues: {\n      [fieldName: string]: string | undefined\n    }\n    transferServer: TransferServer\n  }\n\n  export interface DepositXLM {\n    step: \"xlm-deposit\"\n  }\n\n  interface TransferProps {\n    deposit: Deposit | undefined\n    withdrawal: Withdrawal | undefined\n  }\n\n  export interface AuthPending extends TransferProps {\n    step: \"auth-pending\"\n    authChallenge: Transaction\n    webauth: WebauthData\n  }\n\n  export interface KYCPending<Transfer extends Deposit | Withdrawal> extends TransferProps {\n    step: \"kyc-pending\"\n    authToken?: string\n    didRedirect?: boolean\n    response: KYCInstructions<KYCResponseType>\n    transfer?: Transfer extends Deposit ? DepositTransaction : WithdrawalTransaction\n  }\n\n  export interface KYCDenied extends TransferProps {\n    step: \"kyc-denied\"\n    response: KYCStatusResponse<\"denied\">\n  }\n\n  export interface EnterTxDetails<Transfer extends Deposit | Withdrawal> extends TransferProps {\n    step: \"enter-tx-details\"\n    response: Transfer extends Deposit ? DepositInstructionsSuccess : WithdrawalInstructionsSuccess\n    transfer?: Transfer extends Deposit ? DepositTransaction : WithdrawalTransaction\n  }\n\n  export interface TransferCompleted<Transfer extends Deposit | Withdrawal> extends TransferProps {\n    step: \"completed\"\n    amount: BigNumber\n    response: Transfer extends Deposit ? DepositInstructionsSuccess : WithdrawalInstructionsSuccess\n  }\n}\n\nexport const Action = {\n  navigateBack: () =>\n    ({\n      type: \"navigate-back\"\n    } as const),\n\n  selectType: (asset: Asset, method: string, transferServer: TransferServer) =>\n    ({\n      type: \"select-type\",\n      asset,\n      method,\n      transferServer\n    } as const),\n\n  selectXLMDeposit: () =>\n    ({\n      type: \"select-xlm-deposit\"\n    } as const),\n\n  captureWithdrawalInput: (formValues: { [fieldName: string]: string | undefined }) =>\n    ({\n      type: \"capture-fields\",\n      formValues\n    } as const),\n\n  conductAuth: <Transfer extends Deposit | Withdrawal>(\n    deposit: Transfer extends Deposit ? Deposit : undefined,\n    withdrawal: Transfer extends Withdrawal ? Withdrawal : undefined,\n    webauth: WebauthData,\n    authChallenge: Transaction\n  ) =>\n    ({\n      type: \"conduct-auth\",\n      authChallenge,\n      deposit,\n      webauth,\n      withdrawal\n    } as const),\n\n  setAuthToken: (authToken: string) =>\n    ({\n      type: \"set-auth-token\",\n      authToken\n    } as const),\n\n  setDidRedirectToKYC: () =>\n    ({\n      type: \"did-redirect-to-kyc\"\n    } as const),\n\n  setTransferTransaction: (transaction: TransferTransaction) =>\n    ({\n      type: \"set-transfer-transaction\",\n      transaction\n    } as const),\n\n  conductKYC: <Transfer extends Deposit | Withdrawal>(\n    deposit: Transfer extends Deposit ? Deposit : undefined,\n    withdrawal: Transfer extends Withdrawal ? Withdrawal : undefined,\n    response: KYCInstructions<KYCResponseType>,\n    authToken?: string\n  ) =>\n    ({\n      type: \"conduct-kyc\",\n      authToken,\n      deposit,\n      response,\n      withdrawal\n    } as const),\n\n  promptForTxDetails: <TransactionType extends DepositTransaction | WithdrawalTransaction>(\n    deposit: DepositTransaction extends TransactionType ? Deposit : undefined,\n    withdrawal: WithdrawalTransaction extends TransactionType ? Withdrawal : undefined,\n    response: DepositTransaction extends TransactionType ? DepositInstructionsSuccess : WithdrawalInstructionsSuccess,\n    transfer?: TransactionType\n  ) =>\n    ({\n      type: \"prompt-for-tx-details\",\n      deposit: deposit as Deposit | undefined,\n      response: response as DepositInstructionsSuccess | WithdrawalInstructionsSuccess,\n      transfer,\n      withdrawal: withdrawal as Withdrawal | undefined\n    } as const),\n\n  completed: (amount: BigNumber) =>\n    ({\n      type: \"completed\",\n      amount\n    } as const),\n\n  kycDenied: (response: KYCStatusResponse<\"denied\">) =>\n    ({\n      type: \"kyc-denied\",\n      response\n    } as const)\n} as const\n\nexport type TransferAction = ReturnType<typeof Action[keyof typeof Action]>\n\nexport type TransferState =\n  | TransferStates.SelectType\n  | TransferStates.EnterBasics\n  | TransferStates.DepositXLM\n  | TransferStates.AuthPending\n  | TransferStates.KYCPending<Deposit | Withdrawal>\n  | TransferStates.KYCDenied\n  | TransferStates.EnterTxDetails<Deposit | Withdrawal>\n  | TransferStates.TransferCompleted<Deposit | Withdrawal>\n\nexport function shouldBackNavigationCloseDialog(state: TransferState) {\n  return state.step === \"initial\" || state.step === \"completed\" || state.step === \"kyc-denied\"\n}\n\nexport const initialState: TransferState = {\n  step: \"initial\",\n  formValues: {}\n}\n\nexport function stateMachine(state: TransferState, action: TransferAction): TransferState {\n  switch (action.type) {\n    case \"navigate-back\":\n      if (state.step === \"enter-values\") {\n        return {\n          ...state,\n          step: \"initial\"\n        }\n      } else if (state.step === \"xlm-deposit\") {\n        return {\n          step: \"initial\",\n          formValues: {}\n        }\n      } else if (\"deposit\" in state && state.deposit) {\n        return {\n          step: \"enter-values\",\n          asset: state.deposit.asset,\n          method: state.deposit.fields.type!,\n          formValues: state.deposit.fields,\n          transferServer: state.deposit.transferServer\n        }\n      } else if (\"withdrawal\" in state && state.withdrawal) {\n        return {\n          step: \"enter-values\",\n          asset: state.withdrawal.asset,\n          method: state.withdrawal.fields.type!,\n          formValues: state.withdrawal.fields,\n          transferServer: state.withdrawal.transferServer\n        }\n      } else {\n        return state\n      }\n    case \"select-type\":\n      return {\n        ...(state as TransferStates.SelectType),\n        step: \"enter-values\",\n        asset: action.asset,\n        method: action.method,\n        transferServer: action.transferServer\n      }\n    case \"select-xlm-deposit\":\n      return {\n        step: \"xlm-deposit\"\n      }\n    case \"capture-fields\":\n      return {\n        step: \"enter-values\",\n        asset: (state as TransferStates.EnterBasics).asset,\n        formValues: action.formValues || (state as TransferStates.EnterBasics).formValues,\n        method: (state as TransferStates.EnterBasics).method,\n        transferServer: (state as TransferStates.EnterBasics).transferServer\n      }\n    case \"conduct-auth\":\n      return {\n        step: \"auth-pending\",\n        authChallenge: action.authChallenge,\n        deposit: action.deposit,\n        webauth: action.webauth,\n        withdrawal: action.withdrawal\n      }\n    case \"set-auth-token\":\n      return {\n        ...state,\n        authToken: action.authToken\n      } as any\n    case \"conduct-kyc\":\n      return {\n        step: \"kyc-pending\",\n        authToken: action.authToken,\n        deposit: action.deposit,\n        response: action.response,\n        withdrawal: action.withdrawal\n      }\n    case \"did-redirect-to-kyc\":\n      return {\n        ...(state as TransferStates.KYCPending<Deposit | Withdrawal>),\n        didRedirect: true\n      }\n    case \"set-transfer-transaction\":\n      return {\n        ...(state as TransferStates.KYCPending<Deposit | Withdrawal>),\n        transfer: action.transaction\n      }\n    case \"prompt-for-tx-details\":\n      return {\n        step: \"enter-tx-details\",\n        deposit: action.deposit,\n        response: action.response,\n        transfer: action.transfer,\n        withdrawal: action.withdrawal\n      }\n    case \"completed\":\n      return {\n        step: \"completed\",\n        amount: action.amount,\n        deposit: (state as TransferStates.EnterTxDetails<Deposit | Withdrawal>).deposit,\n        response: (state as TransferStates.EnterTxDetails<Deposit | Withdrawal>).response,\n        withdrawal: (state as TransferStates.EnterTxDetails<Deposit | Withdrawal>).withdrawal\n      }\n    case \"kyc-denied\":\n      return {\n        step: \"kyc-denied\",\n        deposit: (state as TransferStates.EnterTxDetails<Deposit | Withdrawal>).deposit,\n        response: action.response,\n        withdrawal: (state as TransferStates.KYCPending<Deposit | Withdrawal>).withdrawal\n      }\n    default:\n      throw CustomError(\"UnexpectedActionError\", `Unexpected action: ${(action as TransferAction).type}`, {\n        action: (action as TransferAction).type\n      })\n  }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.debug = void 0;\nvar debug_1 = __importDefault(require(\"debug\"));\nexports.debug = (0, debug_1.default)(\"sep-10\");\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fetchChallenge = fetchChallenge;\nexports.postResponse = postResponse;\nexports.authenticate = authenticate;\nvar stellar_sdk_1 = require(\"@stellar/stellar-sdk\");\nvar axios_1 = __importDefault(require(\"axios\"));\nvar logger_1 = require(\"./logger\");\nfunction assertChallengeOK(challenge, serviceSigningKey, localPublicKey) {\n    (0, logger_1.debug)(\"Checking challenge transaction...\", {\n        localPublicKey: localPublicKey,\n        serviceSigningKey: serviceSigningKey,\n    });\n    var serviceSigningKeypair = serviceSigningKey\n        ? stellar_sdk_1.Keypair.fromPublicKey(serviceSigningKey)\n        : null;\n    if (serviceSigningKey && challenge.source !== serviceSigningKey) {\n        throw Error(\"Challenge source account does not match the remote signing account: \".concat(challenge.source));\n    }\n    if (String(challenge.sequence) !== \"0\") {\n        throw Error(\"Challenge sequence number must be zero.\");\n    }\n    var timeToleranceMs = 10000;\n    if (!challenge.timeBounds) {\n        throw Error(\"Challenge transaction has no time bounds set.\");\n    }\n    if (Number.parseInt(challenge.timeBounds.minTime, 10) * 1000 >\n        Date.now() + timeToleranceMs) {\n        throw Error(\"Challenge transaction lower time bound is in the future.\");\n    }\n    if (Number.parseInt(challenge.timeBounds.maxTime, 10) * 1000 <\n        Date.now() - timeToleranceMs) {\n        throw Error(\"Challenge transaction upper time bound is in the past.\");\n    }\n    if (challenge.operations.length === 0) {\n        throw Error(\"Challenge transaction carries no operations.\");\n    }\n    var nonce = getNonceOperation(challenge);\n    if (nonce.length !== 64) {\n        throw Error(\"Challenge nonce must be 64 bytes long.\");\n    }\n    if (serviceSigningKeypair &&\n        !challenge.signatures.some(function (signature) {\n            return signature.hint().equals(serviceSigningKeypair.signatureHint());\n        })) {\n        throw Error(\"Challenge not signed by service's signing key.\");\n    }\n    // Everything is fine\n}\nfunction getNonceOperation(challenge) {\n    var nonceOperation = challenge.operations.filter(function (operation) {\n        return operation.type === \"manageData\";\n    })[0];\n    if (!nonceOperation || !nonceOperation.value) {\n        throw Error(\"Challange does not contain a manage_data operation\");\n    }\n    return nonceOperation.value;\n}\nfunction fetchChallenge(endpointURL, serviceSigningKey, localPublicKey, network) {\n    return __awaiter(this, void 0, void 0, function () {\n        var response, error_1, transaction;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.debug)(\"Fetching web auth challenge from \".concat(endpointURL, \"...\"));\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, (0, axios_1.default)(endpointURL, {\n                            params: { account: localPublicKey },\n                        })];\n                case 2:\n                    response = _a.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    (0, logger_1.debug)(\"Fetching web auth challenge from \".concat(endpointURL, \" failed:\"), error_1);\n                    throw Error(\"Cannot fetch web auth challenge: \".concat(error_1.message));\n                case 4:\n                    (0, logger_1.debug)(\"Fetched web auth challenge:\", response.data);\n                    transaction = new stellar_sdk_1.Transaction(response.data.transaction, network);\n                    assertChallengeOK(transaction, serviceSigningKey, localPublicKey);\n                    return [2 /*return*/, transaction];\n            }\n        });\n    });\n}\nfunction postResponse(endpointURL, transaction) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, response, error_2, message;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    data = {\n                        transaction: transaction.toEnvelope().toXDR().toString(\"base64\"),\n                    };\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, (0, axios_1.default)(endpointURL, {\n                            method: \"POST\",\n                            headers: {\n                                // SEP-10 defines a strict \"application/json\" content type, without charset\n                                \"Content-Type\": \"application/json\",\n                            },\n                            data: data,\n                        })];\n                case 2:\n                    response = _b.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_2 = _b.sent();\n                    (0, logger_1.debug)(\"Authentication at \".concat(endpointURL, \" failed:\"), error_2);\n                    throw Object.assign(Error(\"Web authentication failed: \".concat(error_2.message)), {\n                        response: error_2.response,\n                    });\n                case 4:\n                    if (!response.data || typeof response.data.token !== \"string\") {\n                        message = ((_a = response.data) === null || _a === void 0 ? void 0 : _a.error)\n                            ? response.data.error\n                            : \"No token sent.\";\n                        throw Error(\"Web authentication failed: \".concat(message));\n                    }\n                    return [2 /*return*/, response.data.token];\n            }\n        });\n    });\n}\nfunction authenticate(endpointURL, serviceSigningKey, keypair, network) {\n    return __awaiter(this, void 0, void 0, function () {\n        var transaction, token;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, fetchChallenge(endpointURL, serviceSigningKey, keypair.publicKey(), network)];\n                case 1:\n                    transaction = _a.sent();\n                    transaction.sign(keypair);\n                    return [4 /*yield*/, postResponse(endpointURL, transaction)];\n                case 2:\n                    token = _a.sent();\n                    return [2 /*return*/, token];\n            }\n        });\n    });\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getServiceSigningKey = getServiceSigningKey;\nexports.getWebAuthEndpointURL = getWebAuthEndpointURL;\nexports.fetchWebAuthData = fetchWebAuthData;\nvar stellar_sdk_1 = require(\"@stellar/stellar-sdk\");\nvar logger_1 = require(\"./logger\");\nfunction getServiceSigningKey(stellarTomlData) {\n    return stellarTomlData.SIGNING_KEY || null;\n}\nfunction getWebAuthEndpointURL(stellarTomlData) {\n    return stellarTomlData.WEB_AUTH_ENDPOINT || null;\n}\nfunction fetchWebAuthData(horizon, issuerAccountID) {\n    return __awaiter(this, void 0, void 0, function () {\n        var account, domain, stellarTomlData, endpointURL, signingKey;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, horizon.loadAccount(issuerAccountID)];\n                case 1:\n                    account = _a.sent();\n                    domain = account.home_domain;\n                    if (!domain) {\n                        (0, logger_1.debug)(\"Web auth endpoint cannot be located. Issuing account has no home_domain: \".concat(issuerAccountID));\n                        return [2 /*return*/, null];\n                    }\n                    return [4 /*yield*/, stellar_sdk_1.StellarToml.Resolver.resolve(domain)];\n                case 2:\n                    stellarTomlData = _a.sent();\n                    endpointURL = getWebAuthEndpointURL(stellarTomlData);\n                    signingKey = getServiceSigningKey(stellarTomlData);\n                    if (!endpointURL || !signingKey) {\n                        return [2 /*return*/, null];\n                    }\n                    return [2 /*return*/, {\n                            domain: domain,\n                            endpointURL: endpointURL,\n                            signingKey: signingKey,\n                        }];\n            }\n        });\n    });\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./authentication\"), exports);\n__exportStar(require(\"./stellar-toml\"), exports);\n","import React from \"react\"\nimport { Memo } from \"@stellar/stellar-sdk\"\nimport { WithdrawalSuccessResponse } from \"@suncewallet/stellar-transfer\"\nimport { trackError } from \"~App/contexts/notifications\"\n\nexport function usePolling(pollIntervalMs: number) {\n  const intervalRef = React.useRef<NodeJS.Timeout | null>(null)\n\n  const start = (callback: () => any) => {\n    if (!intervalRef.current) {\n      intervalRef.current = setInterval(async () => {\n        try {\n          await callback()\n        } catch (error) {\n          trackError(error)\n        }\n      }, pollIntervalMs) as any\n    }\n  }\n\n  const stop = () => {\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current)\n      intervalRef.current = null\n    }\n  }\n\n  React.useEffect(() => {\n    // Don't automatically start polling on mount, but definitely stop polling on unmount\n    return () => stop()\n  }, [])\n\n  return {\n    isActive: () => intervalRef.current !== null,\n    start,\n    stop\n  }\n}\n\nexport function createMemo(withdrawalResponse: WithdrawalSuccessResponse): Memo | null {\n  const { memo, memo_type: type } = withdrawalResponse\n\n  if (!memo || !type) {\n    return null\n  }\n\n  switch (type) {\n    case \"hash\":\n      const hash = Buffer.from(memo, \"base64\")\n      return Memo.hash(hash.toString(\"hex\"))\n    case \"id\":\n      return Memo.id(memo)\n    case \"text\":\n      return Memo.text(memo)\n    default:\n      return null\n  }\n}\n\ntype ToNumber<T> = T extends null | undefined ? T : number\n\nexport function parseAmount<T extends string | number | null | undefined>(value: T): ToNumber<T> {\n  const parsed = value === null || value === undefined ? value : Number.parseFloat(value as string)\n\n  return parsed as ToNumber<T>\n}\n","import BigNumber from \"big.js\"\nimport React from \"react\"\nimport { Asset, Transaction } from \"@stellar/stellar-sdk\"\nimport { getServiceSigningKey, getWebAuthEndpointURL, WebauthData } from \"@suncewallet/stellar-sep-10\"\nimport { fetchTransaction, fetchTransferInfos, TransferServer } from \"@suncewallet/stellar-transfer\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { SigningKeyCacheContext } from \"~App/contexts/caches\"\nimport { trackError } from \"~App/contexts/notifications\"\nimport { stellarTomlCache } from \"~Generic/hooks/_caches\"\nimport { useWebAuth } from \"~Generic/hooks/stellar\"\nimport { useNetWorker } from \"~Generic/hooks/workers\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { signTransaction } from \"~Generic/lib/transaction\"\nimport { initialState, stateMachine, Action, TransferAction, TransferState, TransferStates } from \"../util/statemachine\"\nimport { usePolling } from \"../util/util\"\n\nexport interface TransferMachineState {\n  current: TransferState\n  next?: TransferState\n  prevs: TransferState[]\n}\n\nconst kycPollIntervalMs = 6000\n\nconst initialMachineState: TransferMachineState = {\n  current: initialState,\n  prevs: []\n}\n\nfunction timeTravelingStateMachine(machineState: TransferMachineState, action: TransferAction): TransferMachineState {\n  const nextState = stateMachine(machineState.current, action)\n  const goingForward = action.type !== \"navigate-back\"\n\n  if (nextState.step !== machineState.current.step && goingForward) {\n    return {\n      prevs: [...machineState.prevs, machineState.current],\n      current: nextState,\n      next: undefined\n    }\n  } else if (nextState.step !== machineState.current.step && !goingForward) {\n    return {\n      prevs: machineState.prevs.slice(0, -1),\n      next: machineState.current,\n      current: nextState\n    }\n  } else {\n    return {\n      ...machineState,\n      current: nextState\n    }\n  }\n}\n\nexport function useTransferState(account: Account, closeDialog: () => void) {\n  const netWorker = useNetWorker()\n  const signingKeys = React.useContext(SigningKeyCacheContext)\n  const WebAuth = useWebAuth()\n\n  const [machineState, dispatch] = React.useReducer(timeTravelingStateMachine, initialMachineState)\n\n  const submitTransferSelection = async (transferServer: TransferServer, asset: Asset, method: string | null) => {\n    dispatch(Action.selectType(asset, method || \"\", transferServer))\n  }\n\n  const initiateWebAuth = async (\n    transferServer: TransferServer\n  ): Promise<[undefined, undefined] | [WebauthData, string | undefined]> => {\n    const stellarTomlCacheItem = stellarTomlCache.get(transferServer.domain)\n    const stellarTomlData =\n      stellarTomlCacheItem && stellarTomlCacheItem[0]\n        ? stellarTomlCacheItem[1]\n        : await netWorker.fetchStellarToml(transferServer.domain)\n\n    const endpointURL = getWebAuthEndpointURL(stellarTomlData)\n\n    if (!endpointURL) {\n      return [undefined, undefined]\n    }\n\n    const webauthMetadata: WebauthData = {\n      domain: transferServer.domain,\n      endpointURL,\n      signingKey: getServiceSigningKey(stellarTomlData) || null\n    }\n\n    if (webauthMetadata.signingKey) {\n      signingKeys.store(webauthMetadata.signingKey, webauthMetadata.domain)\n    }\n\n    const cachedAuthToken = WebAuth.getCachedAuthToken(webauthMetadata.endpointURL, account.publicKey)\n    return [webauthMetadata, cachedAuthToken]\n  }\n\n  const performWebAuth = async (webauthMetadata: WebauthData, challenge: Transaction, password: string | null) => {\n    const transaction = await signTransaction(challenge, account, password)\n    const authToken = await WebAuth.postResponse(webauthMetadata.endpointURL, transaction, account.testnet)\n\n    dispatch(Action.setAuthToken(authToken))\n    return authToken\n  }\n\n  const submitTransferFieldValues = async (details: Omit<TransferStates.EnterBasics, \"step\">) => {\n    dispatch(Action.captureWithdrawalInput(details.formValues))\n\n    const infos = await fetchTransferInfos(details.transferServer)\n    const assetInfo = infos.assets.find(info => info.asset.equals(details.asset))\n    const withdraw = assetInfo && assetInfo.withdraw\n\n    if (!withdraw || !withdraw.enabled) {\n      throw CustomError(\n        \"AssetNotWithdrawableError\",\n        `Asset ${details.asset.code} seems to not be withdrawable via ${details.transferServer.domain}`,\n        { asset: details.asset.code, domain: details.transferServer.domain }\n      )\n    }\n\n    const [webauth, cachedAuthToken] = await initiateWebAuth(details.transferServer)\n\n    if (cachedAuthToken) {\n      dispatch(Action.setAuthToken(cachedAuthToken))\n    }\n\n    return [webauth, cachedAuthToken] as const\n  }\n\n  const didRedirectToKYC = () => dispatch(Action.setDidRedirectToKYC())\n  const afterSuccessfulExecution = (amount: BigNumber) => dispatch(Action.completed(amount))\n\n  let consecutiveKYCPollErrors = 0\n\n  const pollKYCStatus = async (transferServer: TransferServer, transferTxId: string, authToken: string | undefined) => {\n    if (window.navigator.onLine === false) {\n      return\n    }\n\n    try {\n      const { transaction } = await fetchTransaction(transferServer, transferTxId, \"transfer\", authToken)\n\n      consecutiveKYCPollErrors = 0\n      dispatch(Action.setTransferTransaction(transaction))\n\n      return transaction\n    } catch (error) {\n      consecutiveKYCPollErrors++\n\n      if (consecutiveKYCPollErrors <= 3) {\n        trackError(error)\n      }\n    }\n  }\n\n  const { isActive: isKYCPollingActive, start: startKYCPolling, stop: stopKYCPolling } = usePolling(kycPollIntervalMs)\n\n  const navigateBack = () => {\n    if (isKYCPollingActive()) {\n      stopKYCPolling()\n    }\n\n    if ([\"completed\", \"initial\", \"kyc-denied\"].indexOf(machineState.current.step) > -1) {\n      closeDialog()\n    } else {\n      dispatch(Action.navigateBack())\n    }\n  }\n\n  const transfer = {\n    afterSuccessfulExecution,\n    didRedirectToKYC,\n    initiateWebAuth,\n    isKYCPollingActive,\n    navigateBack,\n    performWebAuth,\n    pollKYCStatus,\n    startKYCPolling,\n    stopKYCPolling,\n    submitTransferFieldValues,\n    submitTransferSelection\n  }\n\n  return {\n    dispatch,\n    machineState,\n    transfer\n  }\n}\n","import BigNumber from \"big.js\"\nimport { Networks, Transaction } from \"@stellar/stellar-sdk\"\nimport { WebauthData } from \"@suncewallet/stellar-sep-10\"\nimport {\n  fetchTransferInfos,\n  Deposit,\n  DepositInstructionsSuccess,\n  DepositTransaction,\n  KYCResponseType,\n  TransferResultType,\n  TransferStatus\n} from \"@suncewallet/stellar-transfer\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { useWebAuth } from \"~Generic/hooks/stellar\"\nimport { Action, TransferStates } from \"../util/statemachine\"\nimport { useTransferState } from \"./useTransferState\"\nimport { parseAmount } from \"../util/util\"\n\nfunction createDeposit(account: Account, state: Omit<TransferStates.EnterBasics, \"step\">): Deposit {\n  const fields = {\n    ...(state.formValues as Record<string, string>),\n    type: state.method\n  }\n  return Deposit(state.transferServer, state.asset, account.accountID, fields)\n}\n\nexport function useDepositState(account: Account, closeDialog: () => void) {\n  const WebAuth = useWebAuth()\n  const { dispatch, machineState, transfer } = useTransferState(account, closeDialog)\n\n  const selectXLMDeposit = () => {\n    dispatch(Action.selectXLMDeposit())\n  }\n\n  const requestDeposit = async (deposit: Deposit, authToken?: string, transaction?: DepositTransaction) => {\n    const instructions = await deposit.interactive(authToken)\n\n    if (instructions.type === TransferResultType.ok) {\n      dispatch(Action.promptForTxDetails(deposit, undefined as any, instructions, transaction))\n      transfer.stopKYCPolling()\n    } else if (instructions.type === TransferResultType.kyc && instructions.subtype === KYCResponseType.interactive) {\n      // sandbox.anchorusd.com seems to use `identifier` instead of `id`\n      const transactionID = (instructions.data as any).id || (instructions.data as any).identifier\n\n      if (!transfer.isKYCPollingActive()) {\n        transfer.startKYCPolling(() => pollKYCStatus(deposit, transactionID, authToken))\n\n        dispatch(\n          Action.conductKYC(\n            deposit,\n            undefined,\n            instructions,\n            \"authToken\" in machineState.current ? machineState.current.authToken : undefined\n          )\n        )\n\n        // Poll status immediately in case the withdrawal is already pending\n        pollKYCStatus(deposit, transactionID, authToken)\n      }\n    } else {\n      throw CustomError(\n        \"UnexpectedResponseTypeError\",\n        `Unexpected response type: ${instructions.type} / ${instructions.data.type}`,\n        {\n          type: instructions.type,\n          dataType: instructions.data.type\n        }\n      )\n    }\n\n    return instructions\n  }\n\n  const performWebAuth = async (\n    deposit: Deposit,\n    withdrawal: undefined, // Just in here to match the same method in useWithdrawalState()\n    webauthMetadata: WebauthData,\n    challenge: Transaction,\n    password: string | null\n  ) => {\n    const authToken = await transfer.performWebAuth(webauthMetadata, challenge, password)\n    await requestDeposit(deposit, authToken)\n\n    return authToken\n  }\n\n  const submitTransferFieldValues = async (details: Omit<TransferStates.EnterBasics, \"step\">) => {\n    const infos = await fetchTransferInfos(details.transferServer)\n    const assetInfo = infos.assets.find(info => info.asset.equals(details.asset))\n\n    if (!assetInfo || !assetInfo.deposit || !assetInfo.deposit.enabled) {\n      throw CustomError(\n        \"AssetNotDepositableError\",\n        `Asset ${details.asset.code} seems to not be depositable via ${details.transferServer.domain}`,\n        { asset: details.asset.code, domain: details.transferServer.domain }\n      )\n    }\n\n    const deposit = createDeposit(account, details)\n    const [webauth, cachedAuthToken] = await transfer.submitTransferFieldValues(details)\n\n    if (!webauth) {\n      // Hacky: We don't have a better way to determine if auth is required.\n      // `auth_required` has been dropped from SEP-24 /info response\n      await requestDeposit(deposit)\n    } else if (cachedAuthToken) {\n      await requestDeposit(deposit, cachedAuthToken)\n    } else {\n      const network = account.testnet ? Networks.TESTNET : Networks.PUBLIC\n      const authChallenge = await WebAuth.fetchChallenge(\n        webauth.endpointURL,\n        webauth.signingKey,\n        account.publicKey,\n        network\n      )\n      dispatch(Action.conductAuth(deposit, undefined, webauth, authChallenge))\n    }\n  }\n\n  const pollKYCStatus = async (deposit: Deposit, transferTxId: string, authToken?: string) => {\n    const transaction = (await transfer.pollKYCStatus(\n      deposit.transferServer,\n      transferTxId,\n      authToken\n    )) as DepositTransaction\n\n    if (transaction && transaction.status === TransferStatus.pending_user_transfer_start) {\n      const instructions: DepositInstructionsSuccess = {\n        type: TransferResultType.ok,\n        data: {\n          how: \"\",\n          eta: transaction.status_eta,\n          fee_fixed: parseAmount(transaction.amount_fee)\n        }\n      }\n      dispatch(Action.promptForTxDetails(deposit, undefined as any, instructions, transaction))\n      transfer.stopKYCPolling()\n    } else if (transaction && transaction.status === \"completed\") {\n      const amount = BigNumber(transaction.amount_out)\n      dispatch(Action.completed(amount))\n      transfer.stopKYCPolling()\n    }\n  }\n\n  const actions = {\n    afterSuccessfulExecution: transfer.afterSuccessfulExecution,\n    didRedirectToKYC: transfer.didRedirectToKYC,\n    navigateBack: transfer.navigateBack,\n    performWebAuth,\n    selectXLMDeposit,\n    submitTransferFieldValues,\n    submitTransferSelection: transfer.submitTransferSelection\n  }\n\n  return {\n    actions,\n    nextState: machineState.next,\n    prevStates: machineState.prevs,\n    state: machineState.current\n  }\n}\n\nexport type DepositActions = ReturnType<typeof useDepositState>[\"actions\"]\n","import BigNumber from \"big.js\"\nimport { Horizon, Networks, Operation, Transaction, xdr } from \"@stellar/stellar-sdk\"\nimport { WebauthData } from \"@suncewallet/stellar-sep-10\"\nimport {\n  fetchTransferInfos,\n  KYCResponseType,\n  TransferResultType,\n  TransferStatus,\n  Withdrawal,\n  WithdrawalInstructionsSuccess,\n  WithdrawalTransaction\n} from \"@suncewallet/stellar-transfer\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { useHorizonURLs, useWebAuth } from \"~Generic/hooks/stellar\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { useNetWorker } from \"~Generic/hooks/workers\"\nimport { createTransaction } from \"~Generic/lib/transaction\"\nimport { Action, TransferStates } from \"../util/statemachine\"\nimport { useTransferState } from \"./useTransferState\"\nimport { createMemo, parseAmount } from \"../util/util\"\n\nfunction createWithdrawal(state: Omit<TransferStates.EnterBasics, \"step\">): Withdrawal {\n  const fields = {\n    ...(state.formValues as Record<string, string>),\n    type: state.method\n  }\n  return Withdrawal(state.transferServer, state.asset, fields)\n}\n\nasync function createWithdrawalTransaction(\n  account: Account,\n  accountData: Horizon.AccountResponse,\n  amount: BigNumber,\n  horizon: Horizon.Server,\n  instructions: WithdrawalInstructionsSuccess,\n  withdrawal: Withdrawal\n): Promise<Transaction> {\n  const memo = createMemo(instructions.data)\n\n  if (!instructions.data.account_id) {\n    throw CustomError(\n      \"MissingInfoError\",\n      `Cannot create transaction, because ${withdrawal.transferServer.domain} did not send all required information.`,\n      { transferServer: withdrawal.transferServer.domain }\n    )\n  }\n\n  const operations: xdr.Operation[] = [\n    Operation.payment({\n      amount: String(amount),\n      asset: withdrawal.asset,\n      destination: instructions.data.account_id\n    })\n  ]\n\n  return createTransaction(operations, {\n    accountData,\n    horizon,\n    memo,\n    walletAccount: account\n  })\n}\n\nexport function useWithdrawalState(account: Account, closeDialog: () => void) {\n  const netWorker = useNetWorker()\n  const horizonURLs = useHorizonURLs(account.testnet)\n  const WebAuth = useWebAuth()\n\n  const { dispatch, machineState, transfer } = useTransferState(account, closeDialog)\n\n  const requestWithdrawal = async (withdrawal: Withdrawal, authToken?: string, transaction?: WithdrawalTransaction) => {\n    const instructions = await withdrawal.interactive(authToken)\n\n    if (instructions.type === TransferResultType.ok) {\n      dispatch(Action.promptForTxDetails(undefined, withdrawal, instructions, transaction))\n      transfer.stopKYCPolling()\n    } else if (instructions.type === TransferResultType.kyc && instructions.subtype === KYCResponseType.interactive) {\n      // sandbox.anchorusd.com seems to use `identifier` instead of `id`\n      const transactionID = (instructions.data as any).id || (instructions.data as any).identifier\n\n      if (!transfer.isKYCPollingActive()) {\n        transfer.startKYCPolling(() => pollKYCStatus(withdrawal, transactionID, authToken))\n\n        dispatch(\n          Action.conductKYC(\n            undefined,\n            withdrawal,\n            instructions,\n            \"authToken\" in machineState.current ? machineState.current.authToken : undefined\n          )\n        )\n\n        // Poll status immediately in case the withdrawal is already pending\n        pollKYCStatus(withdrawal, transactionID, authToken)\n      }\n    } else {\n      throw CustomError(\n        \"UnexpectedResponseTypeError\",\n        `Unexpected response type: ${instructions.type} / ${instructions.data.type}`,\n        { type: instructions.type, dataType: instructions.data.type }\n      )\n    }\n\n    return instructions\n  }\n\n  const performWebAuth = async (\n    deposit: undefined, // Just in here to match the same method in useDepositState()\n    withdrawal: Withdrawal,\n    webauthMetadata: WebauthData,\n    challenge: Transaction,\n    password: string | null\n  ) => {\n    const authToken = await transfer.performWebAuth(webauthMetadata, challenge, password)\n    await requestWithdrawal(withdrawal, authToken)\n\n    return authToken\n  }\n\n  const submitTransferFieldValues = async (details: Omit<TransferStates.EnterBasics, \"step\">) => {\n    const infos = await fetchTransferInfos(details.transferServer)\n    const assetInfo = infos.assets.find(info => info.asset.equals(details.asset))\n    const withdraw = assetInfo && assetInfo.withdraw\n\n    if (!withdraw || !withdraw.enabled) {\n      throw CustomError(\n        \"AssetNotWithdrawableError\",\n        `Asset ${details.asset.code} seems to not be withdrawable via ${details.transferServer.domain}`,\n        { asset: details.asset.code, domain: details.transferServer.domain }\n      )\n    }\n\n    const withdrawal = createWithdrawal(details)\n    const [webauth, cachedAuthToken] = await transfer.submitTransferFieldValues(details)\n\n    if (!webauth) {\n      // Hacky: We don't have a better way to determine if auth is required.\n      // `auth_required` has been dropped from SEP-24 /info response\n      await requestWithdrawal(withdrawal)\n    } else if (cachedAuthToken) {\n      await requestWithdrawal(withdrawal, cachedAuthToken)\n    } else {\n      const network = account.testnet ? Networks.TESTNET : Networks.PUBLIC\n      const authChallenge = await WebAuth.fetchChallenge(\n        webauth.endpointURL,\n        webauth.signingKey,\n        account.publicKey,\n        network\n      )\n      dispatch(Action.conductAuth(undefined, withdrawal, webauth, authChallenge))\n    }\n  }\n\n  const prepareWithdrawalTransaction = async (\n    withdrawal: Withdrawal,\n    instructions: WithdrawalInstructionsSuccess,\n    amount: BigNumber\n  ) => {\n    const accountData = await netWorker.fetchAccountData(horizonURLs, account.accountID)\n    const horizonURL = horizonURLs[0]\n\n    if (!accountData) {\n      throw CustomError(\n        \"FetchAccountDataError\",\n        `Cannot fetch account data of ${account.accountID} from ${horizonURL}`,\n        { account: account.accountID, horizon: horizonURL }\n      )\n    }\n\n    return createWithdrawalTransaction(\n      account,\n      accountData,\n      amount,\n      new Horizon.Server(horizonURL),\n      instructions,\n      withdrawal\n    )\n  }\n\n  const pollKYCStatus = async (withdrawal: Withdrawal, transferTxId: string, authToken?: string) => {\n    const transaction = (await transfer.pollKYCStatus(\n      withdrawal.transferServer,\n      transferTxId,\n      authToken\n    )) as WithdrawalTransaction\n\n    if (transaction && transaction.status === TransferStatus.pending_user_transfer_start) {\n      const instructions: WithdrawalInstructionsSuccess = {\n        type: TransferResultType.ok,\n        data: {\n          account_id: transaction.withdraw_anchor_account,\n          memo_type: transaction.withdraw_memo_type as \"id\" | \"hash\" | \"text\" | undefined,\n          memo: transaction.withdraw_memo,\n          eta: transaction.status_eta,\n          fee_fixed: parseAmount(transaction.amount_fee),\n          extra_info: transaction.to ? { message: transaction.to } : undefined\n        }\n      }\n      dispatch(Action.promptForTxDetails(undefined, withdrawal, instructions, transaction))\n      transfer.stopKYCPolling()\n    }\n  }\n\n  const actions = {\n    afterSuccessfulExecution: transfer.afterSuccessfulExecution,\n    didRedirectToKYC: transfer.didRedirectToKYC,\n    navigateBack: transfer.navigateBack,\n    performWebAuth,\n    prepareWithdrawalTransaction,\n    submitTransferFieldValues,\n    submitTransferSelection: transfer.submitTransferSelection\n  }\n\n  return {\n    actions,\n    nextState: machineState.next,\n    prevStates: machineState.prevs,\n    state: machineState.current\n  }\n}\n\nexport type WithdrawalActions = ReturnType<typeof useWithdrawalState>[\"actions\"]\n","import React from \"react\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { TransferState } from \"../util/statemachine\"\nimport { DepositActions } from \"../hooks/useDepositState\"\n\nexport interface DepositContextType {\n  account: Account\n  actions: DepositActions\n  state: TransferState\n}\n\nexport const DepositContext = React.createContext<DepositContextType>({} as any)\n\nexport interface DepositProviderProps extends DepositContextType {\n  children: React.ReactNode\n}\n\nfunction DepositProvider(props: DepositProviderProps) {\n  const { children, ...contextValue } = props\n\n  return <DepositContext.Provider value={contextValue}>{children}</DepositContext.Provider>\n}\n\nexport default DepositProvider\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { Account } from \"~App/contexts/accounts\"\nimport * as routes from \"~App/routes\"\nimport { useRouter, RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport { Box } from \"~Layout/components/Box\"\nimport Portal from \"~Generic/components/Portal\"\n\ninterface Props {\n  account: Account\n  actionsRef: RefStateObject\n  margin?: string\n}\n\nfunction NoWithdrawableAssets(props: Props) {\n  const router = useRouter()\n  const { t } = useTranslation()\n  return (\n    <Box margin={props.margin} textAlign=\"center\">\n      <Typography>{t(\"transfer-service.no-withdrawable-assets.body.no-withdrawable-assets\")}</Typography>\n      <Portal desktop=\"inline\" target={props.actionsRef.element}>\n        <DialogActionsBox>\n          <ActionButton\n            onClick={() => router.history.push(routes.manageAccountAssets(props.account.id))}\n            type=\"primary\"\n          >\n            {t(\"transfer-service.no-withdrawable-assets.action.add-asset\")}\n          </ActionButton>\n        </DialogActionsBox>\n      </Portal>\n    </Box>\n  )\n}\n\nexport default React.memo(NoWithdrawableAssets)\n","import Typography from \"@material-ui/core/Typography\"\nimport React from \"react\"\nimport { useIsMobile } from \"~Generic/hooks/userinterface\"\nimport { HorizontalLayout, VerticalLayout } from \"~Layout/components/Box\"\nimport ViewLoading from \"~Generic/components/ViewLoading\"\n\nexport function DesktopTwoColumns(props: { children: React.ReactNode[] }) {\n  const isSmallScreen = useIsMobile()\n\n  if (isSmallScreen) {\n    return <VerticalLayout>{props.children[0]}</VerticalLayout>\n  }\n\n  return (\n    <HorizontalLayout alignItems=\"stretch\" height=\"100%\">\n      <VerticalLayout\n        grow\n        minWidth={300}\n        maxWidth={400}\n        padding={isSmallScreen ? 0 : \"4vh 0\"}\n        overflowY=\"auto\"\n        shrink={0}\n        width=\"50%\"\n      >\n        <React.Suspense fallback={<ViewLoading />}>{props.children[0]}</React.Suspense>\n      </VerticalLayout>\n      <VerticalLayout\n        grow\n        margin=\"0 0 0 5%\"\n        padding=\"4vh 1vw 4vh 5%\"\n        shrink\n        style={{ borderLeft: \"1px solid rgba(0, 0, 0, 0.25)\" }}\n      >\n        {props.children[1]}\n      </VerticalLayout>\n    </HorizontalLayout>\n  )\n}\n\nexport function Paragraph(props: { children: React.ReactNode }) {\n  return (\n    <Typography color=\"textSecondary\" style={{ marginBottom: 16 }} variant=\"body2\">\n      {props.children}\n    </Typography>\n  )\n}\n\ninterface SummaryProps {\n  children: React.ReactNode\n  headline: React.ReactNode\n}\n\nexport function Summary(props: SummaryProps) {\n  return (\n    <>\n      <Typography color=\"textSecondary\" style={{ marginTop: 16, marginBottom: 16 }} variant=\"h6\">\n        {props.headline}\n      </Typography>\n      {props.children}\n    </>\n  )\n}\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { Deposit } from \"@suncewallet/stellar-transfer\"\nimport { RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport { VerticalLayout } from \"~Layout/components/Box\"\nimport Portal from \"~Generic/components/Portal\"\nimport { TransferStates } from \"../util/statemachine\"\nimport { Paragraph, Summary } from \"./Sidebar\"\n\ninterface DepositSuccessProps {\n  dialogActionsRef: RefStateObject | undefined\n  onClose: () => void\n  state: TransferStates.TransferCompleted<Deposit>\n}\n\nfunction DepositSuccess(props: DepositSuccessProps) {\n  const { transferServer } = props.state.deposit!\n  const { t } = useTranslation()\n  return (\n    <VerticalLayout grow>\n      <VerticalLayout alignItems=\"center\" margin=\"24px 0\" textAlign=\"center\">\n        <Typography variant=\"h5\">{t(\"transfer-service.deposit-success.body.deposit-pending\")}</Typography>\n        <Typography style={{ margin: \"16px 0\" }} variant=\"body2\">\n          <Typography style={{ margin: \"8px 0\" }} variant=\"body2\">\n            {t(\n              \"transfer-service.deposit-success.body.info.1\",\n              `${transferServer.domain} is waiting for your deposit.`,\n              { domain: transferServer.domain }\n            )}\n          </Typography>\n          <Typography style={{ margin: \"8px 0\" }} variant=\"body2\">\n            {t(\"transfer-service.deposit-success.body.info.2\")}\n          </Typography>\n          {/* TODO: Show nice summary */}\n        </Typography>\n        <Portal desktop=\"inline\" target={props.dialogActionsRef && props.dialogActionsRef.element}>\n          <DialogActionsBox>\n            <ActionButton onClick={props.onClose} type=\"primary\">\n              {t(\"transfer-service.deposit-success.action.close\")}\n            </ActionButton>\n          </DialogActionsBox>\n        </Portal>\n      </VerticalLayout>\n    </VerticalLayout>\n  )\n}\n\nconst Sidebar = () => {\n  const { t } = useTranslation()\n  return (\n    <Summary headline={t(\"transfer-service.deposit-success.sidebar.headline\")}>\n      <Paragraph>{t(\"transfer-service.deposit-success.sidebar.info\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst SuccessView = Object.assign(React.memo(DepositSuccess), { Sidebar })\n\nexport default SuccessView\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport LumenDepositOptions from \"~LumenPurchase/components/LumenPurchaseOptions\"\nimport { VerticalLayout } from \"~Layout/components/Box\"\nimport { DepositContext } from \"./DepositProvider\"\nimport { Paragraph, Summary } from \"./Sidebar\"\n\ninterface PurchaseLumensProps {\n  onCloseDialog: () => void\n}\n\nfunction PurchaseLumens(props: PurchaseLumensProps) {\n  const { account } = React.useContext(DepositContext)\n\n  return (\n    <VerticalLayout alignItems=\"center\" textAlign=\"center\">\n      <LumenDepositOptions account={account} onCloseDialog={props.onCloseDialog} />\n    </VerticalLayout>\n  )\n}\n\nconst Sidebar = () => {\n  const { t } = useTranslation()\n  return (\n    <Summary headline={t(\"transfer-service.purchase-lumens.sidebar.headline\")}>\n      <Paragraph>{t(\"transfer-service.purchase-lumens.sidebar.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.purchase-lumens.sidebar.info.2\")}</Paragraph>\n    </Summary>\n  )\n}\nconst PurchaseLumensView = Object.assign(React.memo(PurchaseLumens), { Sidebar })\n\nexport default PurchaseLumensView\n","import React from \"react\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { TransferState } from \"../util/statemachine\"\nimport { WithdrawalActions } from \"../hooks/useWithdrawalState\"\n\nexport interface WithdrawalContextType {\n  account: Account\n  actions: WithdrawalActions\n  state: TransferState\n}\n\nexport const WithdrawalContext = React.createContext<WithdrawalContextType>({} as any)\n\nexport interface WithdrawalProviderProps extends WithdrawalContextType {\n  children: React.ReactNode\n}\n\nfunction WithdrawalProvider(props: WithdrawalProviderProps) {\n  const { children, ...contextValue } = props\n\n  return <WithdrawalContext.Provider value={contextValue}>{children}</WithdrawalContext.Provider>\n}\n\nexport default WithdrawalProvider\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Transaction } from \"@stellar/stellar-sdk\"\nimport { AssetTransferInfo } from \"@suncewallet/stellar-transfer\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { useLoadingState } from \"~Generic/hooks/util\"\nimport { isWrongPasswordError, CustomError } from \"~Generic/lib/errors\"\nimport { VerticalLayout } from \"~Layout/components/Box\"\nimport ReviewForm from \"~TransactionReview/components/ReviewForm\"\nimport { TransferState } from \"../util/statemachine\"\nimport { DepositContext } from \"./DepositProvider\"\nimport { Paragraph, Summary } from \"./Sidebar\"\nimport { WithdrawalContext } from \"./WithdrawalProvider\"\nimport { DepositActions } from \"../hooks/useDepositState\"\nimport { WithdrawalActions } from \"../hooks/useWithdrawalState\"\n\nconst doNothing = () => undefined\n\ninterface WithdrawalAuthenticationProps {\n  account: Account\n  assetTransferInfos: AssetTransferInfo[]\n  authChallenge: Transaction | null\n  dialogActionsRef: RefStateObject | undefined\n  state: TransferState\n  type: \"deposit\" | \"withdrawal\"\n}\n\nfunction WithdrawalAuthentication(props: WithdrawalAuthenticationProps) {\n  const { actions, state } =\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    props.type === \"deposit\" ? React.useContext(DepositContext) : React.useContext(WithdrawalContext)\n  const [passwordError, setPasswordError] = React.useState<Error>()\n  const [submission, handleSubmission] = useLoadingState({ throwOnError: true })\n\n  const submit = React.useCallback(\n    (options: { password: string | null }) =>\n      handleSubmission(async () => {\n        if (state.step !== \"auth-pending\") {\n          throw CustomError(\"UnexpectedStateError\", `Encountered unexpected state: ${state.step}`, {\n            state: state.step\n          })\n        }\n        try {\n          return await (actions.performWebAuth as DepositActions[\"performWebAuth\"] &\n            WithdrawalActions[\"performWebAuth\"])(\n            state.deposit as any,\n            state.withdrawal as any,\n            state.webauth,\n            props.authChallenge!,\n            options.password\n          )\n        } catch (error) {\n          if (isWrongPasswordError(error)) {\n            setPasswordError(error)\n          } else {\n            throw error\n          }\n        }\n      }),\n    [actions.performWebAuth, handleSubmission, props.authChallenge, state]\n  )\n\n  if (!props.authChallenge) {\n    return null\n  }\n\n  return (\n    <VerticalLayout alignItems=\"stretch\" margin=\"0 auto\" maxWidth={500} width=\"100%\">\n      <ReviewForm\n        account={props.account}\n        actionsRef={props.dialogActionsRef}\n        loading={submission.type === \"pending\"}\n        passwordError={passwordError}\n        onClose={actions.navigateBack}\n        onConfirm={state.step === \"auth-pending\" ? submit : doNothing}\n        transaction={props.authChallenge}\n      />\n    </VerticalLayout>\n  )\n}\n\nconst Sidebar = () => {\n  const { t } = useTranslation()\n  return (\n    <Summary headline={t(\"transfer-service.authentication.sidebar.headline\")}>\n      <Paragraph>{t(\"transfer-service.authentication.sidebar.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.authentication.sidebar.info.2\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst AuthenticationView = Object.assign(React.memo(WithdrawalAuthentication), { Sidebar })\n\nexport default AuthenticationView\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { TransferStates } from \"../util/statemachine\"\nimport { Paragraph, Summary } from \"./Sidebar\"\n\ninterface Props {\n  state: TransferStates.KYCDenied\n}\n\nfunction WithdrawalKYCDenied(props: Props): never {\n  const { response } = props.state\n  const { transferServer } = props.state.deposit! || props.state.withdrawal!\n\n  throw CustomError(\n    \"KycDeniedError\",\n    `${transferServer.domain} has rejected the information about your person that you supplied. ` +\n      `See ${response.more_info_url} for more details.`,\n    { domain: transferServer.domain, url: response.more_info_url || \"\" }\n  )\n}\n\nconst Sidebar = () => {\n  const { t } = useTranslation()\n  return (\n    <Summary headline={t(\"transfer-service.kyc-denied.sidebar.headline\")}>\n      <Paragraph>{t(\"transfer-service.kyc-denied.sidebar.info\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst KYCDeniedView = Object.assign(React.memo(WithdrawalKYCDenied), { Sidebar })\n\nexport default KYCDeniedView\n","import BigNumber from \"big.js\"\nimport { formatBalance } from \"~Generic/lib/balances\"\n\nconst isCommonAbbreviation = (str: string) => [\"bic\", \"iban\", \"sepa\", \"swift\"].indexOf(str) > -1\n\nconst minBig = (a: BigNumber, b: BigNumber) => (a.lt(b) ? a : b)\n\nconst uppercaseIfCommonAbbreviation = (str: string) => (isCommonAbbreviation(str) ? str.toUpperCase() : str)\nconst uppercaseFirstLetter = (str: string) => str[0].toUpperCase() + str.slice(1)\n\nexport function formatBalanceRange(\n  balance: BigNumber,\n  minAmount: BigNumber | undefined,\n  maxAmount: BigNumber | undefined\n): string {\n  const min = minAmount && minAmount.gt(0) ? minAmount : null\n  const max = maxAmount ? minBig(balance, maxAmount) : balance\n\n  if (min && max && min.gt(max)) {\n    return `Not possible - Minimum ${formatBalance(min)}`\n  }\n\n  if (min && max) {\n    return `${formatBalance(min)} - ${formatBalance(max)}`\n  } else if (min) {\n    return `Min. ${formatBalance(min)}`\n  } else if (max) {\n    return `Max. ${formatBalance(max)}`\n  } else {\n    return \"\"\n  }\n}\n\nexport function formatDescriptionText(description: string) {\n  if (description === description.toLowerCase() || description === description.toUpperCase()) {\n    description = description.replace(/\\. ([a-z])/g, (match, letter) => `. ${letter.toUpperCase()}`)\n    description = description.replace(/\\b([A-Za-z]+)\\b/g, match => uppercaseIfCommonAbbreviation(match))\n  }\n  return uppercaseFirstLetter(description)\n}\n\nexport function formatDuration(seconds: number) {\n  if (seconds < 0 || seconds > 365 * 24 * 60 * 60) {\n    return \"<illegal value>\"\n  } else if (seconds < 90) {\n    return `${Math.round(seconds)} seconds`\n  } else if (seconds < 90 * 60) {\n    return `${Math.round(seconds / 60)} minutes`\n  } else if (seconds < 48 * 60 * 60) {\n    return `${Math.round(seconds / 60 / 60)} hours`\n  } else {\n    return `${Math.round(seconds / 24 / 60 / 60)} days`\n  }\n}\n\nexport function formatIdentifier(identifier: string) {\n  return identifier\n    .replace(/[-_]/g, \" \")\n    .split(\" \")\n    .map((word, index) => (index === 0 ? uppercaseFirstLetter(word) : word))\n    .map(word => uppercaseIfCommonAbbreviation(word))\n    .join(\" \")\n}\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { DepositTransaction, TransferStatus, WithdrawalTransaction } from \"@suncewallet/stellar-transfer\"\nimport { VerticalLayout } from \"~Layout/components/Box\"\nimport { formatDuration } from \"../util/formatters\"\n\nfunction Paragraph(props: { children: React.ReactNode }) {\n  return (\n    <Typography style={{ margin: \"8px 0\" }} variant=\"body2\">\n      {props.children}\n    </Typography>\n  )\n}\n\ninterface TransferTransactionStatusProps {\n  didRedirectAlready?: boolean\n  domain: string\n  transaction: DepositTransaction | WithdrawalTransaction | undefined\n  type: \"deposit\" | \"withdrawal\"\n}\n\nfunction TransferTransactionStatus(props: TransferTransactionStatusProps) {\n  const { t } = useTranslation()\n  return (\n    <VerticalLayout grow>\n      <VerticalLayout alignItems=\"center\" margin=\"16px auto\" textAlign=\"center\">\n        {(() => {\n          if (!props.transaction || props.transaction.status === TransferStatus.incomplete) {\n            return props.didRedirectAlready ? (\n              <>\n                <Paragraph>\n                  {t(\n                    \"transfer-service.transaction-status.incomplete.already-redirected.info.1\",\n                    `${props.domain} is checking your personal information. Please try again later.`,\n                    { domain: props.domain }\n                  )}{\" \"}\n                </Paragraph>\n                {props.transaction && props.transaction.status_eta ? (\n                  <Paragraph>\n                    {t(\n                      \"transfer-service.transaction-status.incomplete.already-redirected.info.2\",\n                      `Estimated time to completion: ${formatDuration(props.transaction.status_eta)}`,\n                      { eta: formatDuration(props.transaction.status_eta) }\n                    )}\n                  </Paragraph>\n                ) : null}\n              </>\n            ) : (\n              <Paragraph>\n                {t(\n                  \"transfer-service.transaction-status.incomplete.not-redirected.info\",\n                  `${props.domain} requires you to provide additional information.`,\n                  { domain: props.domain }\n                )}\n              </Paragraph>\n            )\n          } else if (props.transaction.status === TransferStatus.error) {\n            return (\n              <>\n                <Paragraph>\n                  $\n                  {props.type === \"deposit\"\n                    ? t(\"transfer-service.transaction-status.error.rejected.deposit\")\n                    : t(\"transfer-service.transaction-status.error.rejected.withdrawal\")}{\" \"}\n                  â€“ {props.transaction.message}\n                </Paragraph>\n                <Paragraph>\n                  {t(\"transfer-service.transaction-status.error.contact\", `Please contact ${props.domain}.`, {\n                    domain: props.domain\n                  })}\n                </Paragraph>\n              </>\n            )\n          } else if (props.transaction.status === TransferStatus.pending_user_transfer_start) {\n            return (\n              <Paragraph>\n                {t(\n                  \"transfer-service.transaction-status.pending-user-transfer-start.info\",\n                  `${props.domain} requires further information from you.`,\n                  { domain: props.domain }\n                )}\n              </Paragraph>\n            )\n          } else if (props.transaction.more_info_url) {\n            return (\n              <Paragraph>\n                {t(\"transfer-service.transaction-status.more-info-url.info\")}\n                <br />\n                <a href={props.transaction.more_info_url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {props.transaction.more_info_url}\n                </a>\n              </Paragraph>\n            )\n          } else {\n            return null\n          }\n        })()}\n      </VerticalLayout>\n    </VerticalLayout>\n  )\n}\n\nexport default React.memo(TransferTransactionStatus)\n","import { nanoid } from \"nanoid\"\nimport React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport CircularProgress from \"@material-ui/core/CircularProgress\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { Withdrawal } from \"@suncewallet/stellar-transfer\"\nimport { trackError } from \"~App/contexts/notifications\"\nimport { RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { openLink } from \"~Platform/links\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { Box, VerticalLayout } from \"~Layout/components/Box\"\nimport Portal from \"~Generic/components/Portal\"\nimport { TransferStates } from \"../util/statemachine\"\nimport { DepositContext } from \"./DepositProvider\"\nimport { Paragraph, Summary } from \"./Sidebar\"\nimport TransferTransactionStatus from \"./TransferTransactionStatus\"\nimport { WithdrawalContext } from \"./WithdrawalProvider\"\n\ninterface TransferKYCPendingProps {\n  dialogActionsRef: RefStateObject | undefined\n  state: TransferStates.KYCPending<Withdrawal>\n  type: \"deposit\" | \"withdrawal\"\n}\n\nfunction TransferKYCPending(props: TransferKYCPendingProps) {\n  const { response } = props.state\n  const { transferServer } = props.type === \"deposit\" ? props.state.deposit! : props.state.withdrawal!\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const { actions } = props.type === \"deposit\" ? React.useContext(DepositContext) : React.useContext(WithdrawalContext)\n  const { t } = useTranslation()\n\n  const formID = React.useMemo(() => nanoid(), [])\n\n  const handleSubmit = (event: React.SyntheticEvent) => {\n    event.preventDefault()\n    actions.didRedirectToKYC()\n\n    if (response.data.type === \"interactive_customer_info_needed\") {\n      // tslint:disable-next-line no-console\n      console.debug(`Opening anchor KYC page: ${response.data.url}`)\n      openLink(response.data.url)\n    } else {\n      trackError(CustomError(\"OnlyInteractiveKycSupportedError\", \"Only interactive KYCs are supported.\"))\n    }\n  }\n\n  return (\n    <form id={formID} noValidate onSubmit={handleSubmit}>\n      <VerticalLayout grow>\n        <VerticalLayout alignItems=\"center\" margin=\"24px auto\" textAlign=\"center\">\n          <Typography variant=\"h5\">{t(\"transfer-service.kyc-pending.body.additional-info-needed\")}</Typography>\n          <TransferTransactionStatus\n            domain={transferServer.domain}\n            transaction={props.state.transfer}\n            type={props.type}\n          />\n          {props.state.didRedirect ? (\n            <Box grow margin=\"48px 0\" textAlign=\"center\">\n              <CircularProgress />\n            </Box>\n          ) : null}\n          <Portal desktop=\"inline\" target={props.dialogActionsRef && props.dialogActionsRef.element}>\n            <DialogActionsBox desktopStyle={{ justifyContent: \"center\", marginTop: 16 }}>\n              <ActionButton form={formID} type=\"submit\">\n                {props.state.didRedirect\n                  ? t(\"transfer-service.kyc-pending.action.open-again\")\n                  : t(\"transfer-service.kyc-pending.action.continue\")}\n              </ActionButton>\n            </DialogActionsBox>\n          </Portal>\n        </VerticalLayout>\n      </VerticalLayout>\n    </form>\n  )\n}\n\nconst Sidebar = () => {\n  const { t } = useTranslation()\n  return (\n    <Summary headline={t(\"transfer-service.kyc-pending.sidebar.headline\")}>\n      <Paragraph>{t(\"transfer-service.kyc-pending.sidebar.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.kyc-pending.sidebar.info.2\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst KYCPendingView = Object.assign(React.memo(TransferKYCPending), { Sidebar })\n\nexport default KYCPendingView\n","import React from \"react\"\nimport { VerticalLayout } from \"~Layout/components/Box\"\n\ninterface FormLayoutProps {\n  children: React.ReactNode\n  wrap?: boolean\n}\n\nfunction FormLayout(props: FormLayoutProps) {\n  return <VerticalLayout>{props.children}</VerticalLayout>\n}\n\nexport default React.memo(FormLayout)\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { TransferInfoFields } from \"@suncewallet/stellar-transfer\"\nimport { formatDescriptionText, formatIdentifier } from \"../util/formatters\"\nimport FormLayout from \"./FormLayout\"\n\ninterface FormBuilderFieldProps {\n  descriptor: TransferInfoFields[\"\"]\n  name: string\n  onChange: (event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => void\n  style?: React.CSSProperties\n  value?: string\n}\n\nexport function FormBuilderField(props: FormBuilderFieldProps) {\n  const { description, choices, optional = false } = props.descriptor\n  const { t } = useTranslation()\n\n  const formattedDescription = formatDescriptionText(description)\n  const formattedName = formatIdentifier(props.name)\n  const placeholder = optional\n    ? t(\"transfer-service.form-builder.placeholder.optional\", `(Optional) ${formattedName}`, { name: formattedName })\n    : formattedName\n\n  return choices ? (\n    <TextField\n      helperText={formattedDescription}\n      label={formattedName}\n      onChange={props.onChange}\n      placeholder={placeholder}\n      select\n      style={{ flexGrow: 1, ...props.style }}\n      value={props.value}\n    >\n      {choices.map((choice, index) => (\n        <MenuItem key={index} value={choice}>\n          {formatIdentifier(choice)}\n        </MenuItem>\n      ))}\n    </TextField>\n  ) : (\n    <TextField\n      helperText={formattedDescription}\n      label={formattedName}\n      onChange={props.onChange}\n      placeholder={placeholder}\n      style={{ flexGrow: 1, ...props.style }}\n      value={props.value || \"\"}\n    />\n  )\n}\n\ninterface Props {\n  fields: TransferInfoFields\n  fieldStyle?: React.CSSProperties\n  formValues: { [fieldName: string]: string }\n  onSetFormValue: (fieldName: string, newValue: string) => void\n  style?: React.CSSProperties\n}\n\nexport function FormBuilder(props: Props) {\n  // We had issues with illegal properties in the fields data\n  const fields = Object.entries(props.fields).filter(\n    ([fieldName, descriptor]) => descriptor && typeof descriptor === \"object\"\n  )\n  return (\n    <FormLayout>\n      {fields.map(([fieldName, descriptor]) => (\n        <FormBuilderField\n          key={fieldName}\n          descriptor={descriptor}\n          name={fieldName}\n          onChange={event => props.onSetFormValue(fieldName, event.target.value)}\n          style={props.fieldStyle}\n          value={props.formValues[fieldName]}\n        />\n      ))}\n    </FormLayout>\n  )\n}\n","import BigNumber from \"big.js\"\nimport { nanoid } from \"nanoid\"\nimport React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Asset } from \"@stellar/stellar-sdk\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { AssetTransferInfo } from \"@suncewallet/stellar-transfer\"\nimport { trackError } from \"~App/contexts/notifications\"\nimport theme from \"~App/theme\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport { ReadOnlyTextfield } from \"~Generic/components/FormFields\"\nimport Portal from \"~Generic/components/Portal\"\nimport { useStellarToml } from \"~Generic/hooks/stellar\"\nimport { useLiveAccountData } from \"~Generic/hooks/stellar-subscriptions\"\nimport { RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { useLoadingState } from \"~Generic/hooks/util\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { findMatchingBalanceLine } from \"~Generic/lib/stellar\"\nimport { VerticalLayout } from \"~Layout/components/Box\"\nimport { formatDescriptionText } from \"../util/formatters\"\nimport { TransferStates } from \"../util/statemachine\"\nimport { DepositContext } from \"./DepositProvider\"\nimport { FormBuilder, FormBuilderField } from \"./FormBuilder\"\nimport FormLayout from \"./FormLayout\"\nimport { Paragraph, Summary } from \"./Sidebar\"\nimport { WithdrawalContext } from \"./WithdrawalProvider\"\n\ntype FormValues = Record<string, string>\n\ntype FormValueTransform<Value = string> = (input: Value) => Value\n\nconst isFormValueSet = (value: string | undefined): boolean => typeof value === \"string\" && value.length > 0\n\nfunction filterObject<V>(obj: { [key: string]: V }, filter: (value: V, key: string) => boolean) {\n  return Object.keys(obj).reduce<{ [key: string]: V }>((filtered, key) => {\n    const value = obj[key]\n    return filter(value, key) ? { ...filtered, [key]: value } : filtered\n  }, {})\n}\n\nfunction maybeIBAN(value: string) {\n  if (value && value.length >= 15 && value.match(/^[A-Z]{2}[0-9]{2}\\s?[A-Z0-9]{4}\\s?[A-Z0-9]{4}/)) {\n    return value.replace(/\\s+/g, \"\")\n  }\n  return value\n}\n\nfunction postprocessFormValue(originalValue: string, transforms: FormValueTransform[]) {\n  return transforms.reduce((transformed, transform) => transform(transformed), originalValue)\n}\n\nfunction postprocessFormValues(inputFormValues: FormValues, methodID: string): FormValues {\n  const formValues = { ...inputFormValues }\n\n  if (methodID === \"bank_account\") {\n    formValues.dest = postprocessFormValue(formValues.dest, [maybeIBAN])\n  }\n  return formValues\n}\n\ninterface ReadOnlyFieldProps {\n  asset: Asset\n  metadata: AssetTransferInfo[\"deposit\"] | AssetTransferInfo[\"withdraw\"]\n}\n\nconst MinMaxAmount = React.memo(function MinMaxAmount(props: ReadOnlyFieldProps) {\n  const { t } = useTranslation()\n\n  const assetCode = props.asset ? props.asset.getCode() : \"\"\n  if (!props.metadata || (!props.metadata.min_amount && !props.metadata.max_amount)) {\n    return null\n  }\n  return (\n    <ReadOnlyTextfield\n      inputProps={{\n        style: {\n          color: theme.palette.text.secondary\n        }\n      }}\n      label={t(\"transfer-service.transfer-details.body.min-max-amount.label\")}\n      style={{ marginTop: 24 }}\n      value={[\n        props.metadata.min_amount\n          ? t(\n              \"transfer-service.transfer-details.body.min-max-amount.min-amount\",\n              `Min. ${props.metadata.min_amount} ${assetCode}`.trim(),\n              { amount: props.metadata.min_amount, assetCode }\n            )\n          : null,\n        props.metadata.max_amount\n          ? t(\n              \"transfer-service.transfer-details.body.min-max-amount.max-amount\",\n              `Max. ${props.metadata.max_amount} ${assetCode}`.trim(),\n              { amount: props.metadata.max_amount, assetCode }\n            )\n          : null\n      ]\n        .filter(str => Boolean(str))\n        .join(\" / \")}\n    />\n  )\n})\n\nconst filterEmptyStrings = (array: string[]): string[] => array.filter(str => str !== \"\")\n\ninterface TransferFeeProps extends ReadOnlyFieldProps {\n  domain: string\n  type: \"deposit\" | \"withdrawal\"\n}\n\nconst TransferFee = React.memo(function TransferFee(props: TransferFeeProps) {\n  const { t } = useTranslation()\n\n  if (!props.metadata) {\n    return null\n  }\n\n  const formattedFee =\n    filterEmptyStrings([\n      typeof props.metadata.fee_fixed === \"number\"\n        ? `${props.metadata.fee_fixed} ${props.asset && props.asset.getCode()}`\n        : \"\",\n      typeof props.metadata.fee_percent === \"number\" ? `${props.metadata.fee_percent}%` : \"\"\n    ]).join(\" + \") || \"unknown\"\n\n  return (\n    <ReadOnlyTextfield\n      helperText={t(\"transfer-service.transfer-details.body.fee.helper-text\", `As charged by ${props.domain}`, {\n        domain: props.domain\n      })}\n      inputProps={{\n        style: {\n          color: theme.palette.text.secondary\n        }\n      }}\n      label={\n        props.type === \"deposit\"\n          ? t(\"transfer-service.transfer-details.body.fee.label.deposit\")\n          : t(\"transfer-service.transfer-details.body.fee.label.withdrawal\")\n      }\n      style={{ marginTop: 24 }}\n      value={\n        props.metadata.fee_fixed === 0 && props.metadata.fee_percent === 0\n          ? `${props.metadata.fee_fixed} ${props.asset && props.asset.getCode()}`\n          : formattedFee\n      }\n    />\n  )\n})\n\ninterface TransferDetailsFormProps {\n  active: boolean\n  assetTransferInfos: AssetTransferInfo[]\n  dialogActionsRef: RefStateObject | undefined\n  state: TransferStates.EnterBasics\n  type: \"deposit\" | \"withdrawal\"\n}\n\nfunction TransferDetailsForm(props: TransferDetailsFormProps) {\n  const { account, actions } =\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    props.type === \"deposit\" ? React.useContext(DepositContext) : React.useContext(WithdrawalContext)\n\n  const accountData = useLiveAccountData(account.publicKey, account.testnet)\n  const balanceLine = findMatchingBalanceLine(accountData.balances, props.state.asset)\n  const balance = balanceLine ? BigNumber(balanceLine.balance) : BigNumber(0)\n\n  const formID = React.useMemo(() => nanoid(), [])\n  const [submissionState, handleSubmission] = useLoadingState({ throwOnError: true })\n  const { t } = useTranslation()\n\n  const assetInfo = props.assetTransferInfos.find(info => info.asset.equals(props.state.asset))\n  const stellarToml = useStellarToml(props.state.transferServer.domain)\n\n  const [formValues, setFormValues] = React.useState<FormValues>(\n    (props.state.formValues as Record<string, string>) || {}\n  )\n  const setFormValue = (fieldName: string, newValue: string) =>\n    setFormValues(prevFormValues => ({ ...prevFormValues, [fieldName]: newValue }))\n\n  const handleSubmit = React.useCallback(\n    (event: React.SyntheticEvent) => {\n      event.preventDefault()\n\n      handleSubmission(\n        actions\n          .submitTransferFieldValues({\n            ...props.state,\n            formValues: {\n              ...props.state.formValues,\n              ...postprocessFormValues(formValues, props.state.method),\n              account: account.accountID\n            }\n          })\n          .catch(error => {\n            if (error.message?.includes(\"Cannot fetch web auth challenge\")) {\n              trackError(CustomError(\"FetchWebAuthChallengeError\", \"Cannot fetch web auth challenge\"))\n            } else {\n              trackError(error)\n            }\n          })\n      )\n    },\n    [account.accountID, actions, formValues, handleSubmission, props.state]\n  )\n\n  const methodMetadata = (() => {\n    if (props.type === \"deposit\") {\n      return assetInfo && assetInfo.deposit ? assetInfo.deposit : null\n    } else {\n      return assetInfo && assetInfo.withdraw && assetInfo.withdraw.types\n        ? assetInfo.withdraw.types[props.state.method]\n        : null\n    }\n  })()\n\n  const isSEP24Anchor = Boolean(stellarToml && stellarToml.TRANSFER_SERVER_SEP0024)\n  const fields = methodMetadata && methodMetadata.fields && !isSEP24Anchor ? methodMetadata.fields : {}\n\n  const automaticallySetValues = [\"account\", \"asset_code\", \"type\"]\n  const emailField = fields.email || fields.email_address\n\n  // The .filter() is necessary due to a misplaced prop in the response of an anchor\n  const hasEmptyMandatoryFields = Object.keys(fields)\n    .filter(key => fields[key] && typeof fields[key] === \"object\")\n    .some(key => !fields[key].optional && !formValues[key] && automaticallySetValues.indexOf(key) === -1)\n\n  const amountOptional = fields.amount ? fields.amount.optional : true\n  const emailOptional = emailField ? emailField.optional : true\n\n  const validAmount =\n    (amountOptional || isFormValueSet(formValues.amount)) && /^([0-9]+(\\.[0-9]+)?)?$/.test(formValues.amount || \"\")\n\n  const validBalance =\n    props.type === \"deposit\" ||\n    !assetInfo ||\n    !assetInfo.withdraw?.min_amount ||\n    BigNumber(assetInfo.withdraw.min_amount).lte(balance)\n\n  const validEmail =\n    (emailOptional === true || isFormValueSet(formValues.email) || isFormValueSet(formValues.email_address)) &&\n    /^([^@]+@[^@]+\\.[^@]+)?$/.test(formValues.email || formValues.email_address || \"\")\n\n  const isDisabled = hasEmptyMandatoryFields || !validAmount || !validEmail || !validBalance\n\n  return (\n    <form id={formID} noValidate onSubmit={handleSubmit}>\n      <VerticalLayout>\n        <FormLayout>\n          {fields.dest ? (\n            <FormBuilderField\n              name={t(\"transfer-service.transfer-details.body.destination.name\")}\n              descriptor={fields.dest || {}}\n              onChange={event => setFormValue(\"dest\", event.target.value)}\n              style={{ marginTop: 24 }}\n              value={formValues.dest || \"\"}\n            />\n          ) : null}\n          {fields.dest_extra ? (\n            <FormBuilderField\n              name={\n                fields.dest_extra.description\n                  ? formatDescriptionText(fields.dest_extra.description)\n                  : t(\"transfer-service.transfer-details.body.dest_extra.name\")\n              }\n              descriptor={fields.dest_extra}\n              onChange={event => setFormValue(\"dest_extra\", event.target.value)}\n              style={{ marginTop: 24 }}\n              value={formValues.dest_extra || \"\"}\n            />\n          ) : null}\n        </FormLayout>\n        <FormBuilder\n          fields={filterObject(\n            fields,\n            (value, key) => [...automaticallySetValues, \"amount\", \"dest\", \"dest_extra\"].indexOf(key) === -1\n          )}\n          fieldStyle={{ marginTop: 24 }}\n          formValues={formValues}\n          onSetFormValue={setFormValue}\n        />\n        <FormLayout>\n          <MinMaxAmount asset={props.state.asset} metadata={assetInfo && assetInfo.withdraw} />\n          {!validBalance && (\n            <Typography color=\"error\" variant=\"caption\">\n              {t(\"transfer-service.transfer-details.body.min-max-amount.not-enough-funds\")}\n            </Typography>\n          )}\n          <TransferFee\n            asset={props.state.asset}\n            domain={assetInfo ? assetInfo.transferServer.domain : \"\"}\n            metadata={assetInfo && (props.type === \"deposit\" ? assetInfo.deposit : assetInfo.withdraw)}\n            type={props.type}\n          />\n        </FormLayout>\n        <Portal desktop=\"inline\" target={props.dialogActionsRef && props.dialogActionsRef.element}>\n          <DialogActionsBox>\n            <ActionButton\n              disabled={isDisabled}\n              form={formID}\n              loading={submissionState && submissionState.type === \"pending\"}\n              onClick={() => undefined}\n              type=\"submit\"\n            >\n              {t(\"transfer-service.transfer-details.action.proceed\")}\n            </ActionButton>\n          </DialogActionsBox>\n        </Portal>\n      </VerticalLayout>\n    </form>\n  )\n}\n\nconst Sidebar = (props: { type: \"deposit\" | \"withdrawal\" }) => {\n  const { t } = useTranslation()\n  return props.type === \"deposit\" ? (\n    <Summary headline={t(\"transfer-service.transfer-details.sidebar.deposit.headline\")}>\n      <Paragraph>{t(\"transfer-service.transfer-details.sidebar.deposit.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.transfer-details.sidebar.deposit.info.2\")}</Paragraph>\n    </Summary>\n  ) : (\n    <Summary headline={t(\"transfer-service.transfer-details.sidebar.withdrawal.headline\")}>\n      <Paragraph>{t(\"transfer-service.transfer-details.sidebar.withdrawal.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.transfer-details.sidebar.withdrawal.info.2\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst DetailsFormView = Object.assign(React.memo(TransferDetailsForm), { Sidebar })\n\nexport default DetailsFormView\n","import { nanoid } from \"nanoid\"\nimport React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Asset } from \"@stellar/stellar-sdk\"\nimport Collapse from \"@material-ui/core/Collapse\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport TextField from \"@material-ui/core/TextField\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { AssetTransferInfo } from \"@suncewallet/stellar-transfer\"\nimport { trackError } from \"~App/contexts/notifications\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { useIsSmallMobile, RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { useLoadingState } from \"~Generic/hooks/util\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport AssetSelector from \"~Generic/components/AssetSelector\"\nimport Portal from \"~Generic/components/Portal\"\nimport { formatIdentifier } from \"../util/formatters\"\nimport { TransferStates } from \"../util/statemachine\"\nimport { DepositActions } from \"../hooks/useDepositState\"\nimport { DepositContext } from \"./DepositProvider\"\nimport FormLayout from \"./FormLayout\"\nimport { Paragraph, Summary } from \"./Sidebar\"\nimport { WithdrawalContext } from \"./WithdrawalProvider\"\n\nconst useFormStyles = makeStyles({\n  select: {\n    fontSize: 18,\n    fontWeight: 400\n  }\n})\n\ninterface FormValues {\n  asset: Asset | null\n  methodID: string | null\n}\n\ninterface TransferInitialProps {\n  assetTransferInfos: AssetTransferInfo[]\n  dialogActionsRef: RefStateObject | undefined\n  state: TransferStates.SelectType\n  trustedAssets: Asset[]\n  type: \"deposit\" | \"withdrawal\"\n  transferableAssets: Asset[]\n}\n\nfunction TransferInitial(props: TransferInitialProps) {\n  const { account, actions } =\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    props.type === \"deposit\" ? React.useContext(DepositContext) : React.useContext(WithdrawalContext)\n\n  const formID = React.useMemo(() => nanoid(), [])\n  const classes = useFormStyles()\n  const isTinyScreen = useIsSmallMobile()\n  const [submissionState, handleSubmission] = useLoadingState({ throwOnError: true })\n  const { t } = useTranslation()\n\n  const getAssetInfo = (asset: Asset | null): AssetTransferInfo | undefined => {\n    return asset ? props.assetTransferInfos.find(assetInfo => assetInfo.asset.equals(asset)) : undefined\n  }\n  const getMethodNames = (asset: Asset | null): string[] => {\n    const meta = getAssetInfo(asset)\n    return meta && meta.withdraw && meta.withdraw.types ? Object.keys(meta.withdraw.types) : []\n  }\n\n  const initialAsset =\n    props.state.asset || (props.type === \"deposit\" ? Asset.native() : props.transferableAssets[0]) || null\n  const initialMethod =\n    props.state.method || (getMethodNames(initialAsset).length === 1 ? getMethodNames(initialAsset)[0] : null)\n\n  const [formValues, setFormValues] = React.useState<FormValues>({\n    asset: initialAsset,\n    methodID: initialMethod\n  })\n\n  const setFormValue = (fieldName: string) => (\n    event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>\n  ) => {\n    setFormValues(prevValues => ({\n      ...prevValues,\n      [fieldName]: event.target.value\n    }))\n  }\n\n  const methodNames = formValues.asset ? getMethodNames(formValues.asset) : []\n  const showMethods = props.type === \"withdrawal\" && methodNames.length > 0\n  const isDisabled = !formValues.asset || (!formValues.methodID && showMethods)\n\n  const nontransferableAssets = props.trustedAssets.filter(\n    asset => !props.transferableAssets.some(transferable => transferable.equals(asset))\n  )\n\n  const assetTransferInfo = getAssetInfo(formValues.asset)\n\n  const handleAssetSelection = React.useCallback(\n    (asset: Asset) => {\n      const assetInfo = props.assetTransferInfos.find(info => info.asset.equals(asset))\n      const transfer = assetInfo && (props.type === \"deposit\" ? assetInfo.deposit : assetInfo.withdraw)\n\n      if (transfer && \"types\" in transfer && transfer.types && Object.keys(transfer.types).length === 1) {\n        setFormValues({\n          asset,\n          methodID: Object.keys(transfer.types)[0]\n        })\n      } else {\n        setFormValues(prevValues => ({\n          ...prevValues,\n          asset\n        }))\n      }\n    },\n    [props.assetTransferInfos, props.type]\n  )\n\n  const handleSubmit = React.useCallback(\n    (event: React.SyntheticEvent) => {\n      event.preventDefault()\n\n      if (props.type === \"deposit\" && formValues.asset && formValues.asset.isNative()) {\n        return (actions as DepositActions).selectXLMDeposit()\n      }\n\n      if (!formValues.asset) {\n        return trackError(\n          CustomError(\"InvariantViolationError\", \"Invariant violation: Form submission without selected asset\", {\n            message: \"Form submission without selected asset\"\n          })\n        )\n      }\n      if (!assetTransferInfo) {\n        return trackError(\n          CustomError(\n            \"InvariantViolationError\",\n            \"Invariant violation: Form submission without asset transfer information\",\n            {\n              message: \" Form submission without asset transfer information\"\n            }\n          )\n        )\n      }\n\n      handleSubmission(\n        actions.submitTransferSelection(assetTransferInfo.transferServer, formValues.asset, formValues.methodID)\n      )\n    },\n    [actions, assetTransferInfo, formValues.asset, formValues.methodID, handleSubmission, props.type]\n  )\n\n  return (\n    <form id={formID} noValidate onSubmit={handleSubmit}>\n      <FormLayout>\n        <AssetSelector\n          assets={props.trustedAssets}\n          disabledAssets={nontransferableAssets}\n          label={\n            isTinyScreen\n              ? t(\"transfer-service.initial.body.asset-selector.label.short\")\n              : props.type === \"deposit\"\n              ? t(\"transfer-service.initial.body.asset-selector.label.deposit\")\n              : t(\"transfer-service.initial.body.asset-selector.label.withdrawal\")\n          }\n          margin=\"normal\"\n          onChange={handleAssetSelection}\n          showXLM={props.type === \"deposit\"}\n          testnet={account.testnet}\n          value={formValues.asset || undefined}\n          accountId={account.accountID}\n        >\n          {props.transferableAssets.length === 0 ? (\n            <MenuItem disabled value=\"\">\n              {t(\"transfer-service.initial.body.asset-selector.no-assets\")}\n            </MenuItem>\n          ) : null}\n        </AssetSelector>\n        <Collapse in={showMethods}>\n          <TextField\n            fullWidth\n            label={\n              props.type === \"deposit\"\n                ? t(\"transfer-service.initial.body.method-selector.label.deposit\")\n                : t(\"transfer-service.initial.body.method-selector.label.withdrawal\")\n            }\n            margin=\"normal\"\n            onChange={setFormValue(\"methodID\")}\n            select\n            SelectProps={{\n              classes: {\n                select: classes.select\n              }\n            }}\n            value={formValues.methodID || \"\"}\n          >\n            <MenuItem disabled value=\"\">\n              {formValues.asset\n                ? t(\"transfer-service.initial.body.method-selector.info-item.asset\")\n                : t(\"transfer-service.initial.body.method-selector.info-item.no-asset\")}\n            </MenuItem>\n            {methodNames.map(methodName => (\n              <MenuItem key={methodName} value={methodName}>\n                {formatIdentifier(methodName)}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Collapse>\n      </FormLayout>\n      <Portal desktop=\"inline\" target={props.dialogActionsRef && props.dialogActionsRef.element}>\n        <DialogActionsBox>\n          <ActionButton\n            disabled={isDisabled}\n            form={formID}\n            loading={submissionState.type === \"pending\"}\n            onClick={() => undefined}\n            type=\"submit\"\n          >\n            {t(\"transfer-service.initial.action.proceed\")}\n          </ActionButton>\n        </DialogActionsBox>\n      </Portal>\n    </form>\n  )\n}\n\nconst Sidebar = (props: { type: \"deposit\" | \"withdrawal\" }) => {\n  const { t } = useTranslation()\n  return props.type === \"deposit\" ? (\n    <Summary headline={t(\"transfer-service.initial.sidebar.deposit.headline\")}>\n      <Paragraph>{t(\"transfer-service.initial.sidebar.deposit.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.initial.sidebar.deposit.info.2\")}</Paragraph>\n    </Summary>\n  ) : (\n    <Summary headline={t(\"transfer-service.initial.sidebar.withdrawal.headline\")}>\n      <Paragraph>{t(\"transfer-service.initial.sidebar.withdrawal.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.initial.sidebar.withdrawal.info.2\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst InitialView = Object.assign(React.memo(TransferInitial), { Sidebar })\n\nexport default InitialView\n","import React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { Withdrawal } from \"@suncewallet/stellar-transfer\"\nimport { RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport { VerticalLayout } from \"~Layout/components/Box\"\nimport Portal from \"~Generic/components/Portal\"\nimport { TransferStates } from \"../util/statemachine\"\nimport { Paragraph, Summary } from \"./Sidebar\"\n\ninterface WithdrawalSuccessProps {\n  dialogActionsRef: RefStateObject | undefined\n  onClose: () => void\n  state: TransferStates.TransferCompleted<Withdrawal>\n}\n\nfunction WithdrawalSuccess(props: WithdrawalSuccessProps) {\n  const { transferServer } = props.state.withdrawal!\n  const { t } = useTranslation()\n  return (\n    <VerticalLayout grow>\n      <VerticalLayout alignItems=\"center\" margin=\"24px 0\" textAlign=\"center\">\n        <Typography variant=\"h5\">{t(\"transfer-service.withdrawal-success.body.withdrawal-in-progress\")}</Typography>\n        <Typography style={{ margin: \"16px 0\" }} variant=\"body2\">\n          <Typography style={{ margin: \"8px 0\" }} variant=\"body2\">\n            {t(\n              \"transfer-service.withdrawal-success.body.info.1\",\n              `${transferServer.domain} is conducting the withdrawal.`,\n              { domain: transferServer.domain }\n            )}\n          </Typography>\n          <Typography style={{ margin: \"8px 0\" }} variant=\"body2\">\n            {t(\"transfer-service.withdrawal-success.body.info.2\")}\n          </Typography>\n          {/* TODO: Show nice summary */}\n        </Typography>\n        <Portal desktop=\"inline\" target={props.dialogActionsRef && props.dialogActionsRef.element}>\n          <DialogActionsBox>\n            <ActionButton onClick={props.onClose} type=\"primary\">\n              {t(\"transfer-service.withdrawal-success.action.close\")}\n            </ActionButton>\n          </DialogActionsBox>\n        </Portal>\n      </VerticalLayout>\n    </VerticalLayout>\n  )\n}\n\nconst Sidebar = () => {\n  const { t } = useTranslation()\n  return (\n    <Summary headline={t(\"transfer-service.withdrawal-success.sidebar.headline\")}>\n      <Paragraph>{t(\"transfer-service.withdrawal-success.sidebar.info\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst SuccessView = Object.assign(React.memo(WithdrawalSuccess), { Sidebar })\n\nexport default SuccessView\n","import BigNumber from \"big.js\"\nimport { nanoid } from \"nanoid\"\nimport React from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { Transaction } from \"@stellar/stellar-sdk\"\nimport SendIcon from \"@material-ui/icons/Send\"\nimport {\n  Deposit,\n  Withdrawal,\n  WithdrawalInstructionsSuccess,\n  DepositInstructionsSuccess\n} from \"@suncewallet/stellar-transfer\"\nimport { trackError } from \"~App/contexts/notifications\"\nimport { useLiveAccountData } from \"~Generic/hooks/stellar-subscriptions\"\nimport { RefStateObject } from \"~Generic/hooks/userinterface\"\nimport { useLoadingState } from \"~Generic/hooks/util\"\nimport { useStellarToml } from \"~Generic/hooks/stellar\"\nimport { findMatchingBalanceLine } from \"~Generic/lib/stellar\"\nimport { ActionButton, DialogActionsBox } from \"~Generic/components/DialogActions\"\nimport { PriceInput, ReadOnlyTextfield } from \"~Generic/components/FormFields\"\nimport Portal from \"~Generic/components/Portal\"\nimport { formatBalance } from \"~Generic/lib/balances\"\nimport { formatBalanceRange, formatDescriptionText, formatDuration } from \"../util/formatters\"\nimport { TransferStates } from \"../util/statemachine\"\nimport { WithdrawalActions } from \"../hooks/useWithdrawalState\"\nimport { DepositContext } from \"./DepositProvider\"\nimport FormLayout from \"./FormLayout\"\nimport { Paragraph, Summary } from \"./Sidebar\"\nimport { WithdrawalContext } from \"./WithdrawalProvider\"\n\nconst nullOrUndefined = (value: any): value is null | undefined => value === null || value === undefined\n\ninterface TransferTransactionDetailsProps {\n  dialogActionsRef: RefStateObject | undefined\n  sendTransaction: (transaction: Transaction) => Promise<any>\n  state: TransferStates.EnterTxDetails<Deposit | Withdrawal>\n  type: \"deposit\" | \"withdrawal\"\n}\n\nfunction TransferTransactionDetails(props: TransferTransactionDetailsProps) {\n  const { sendTransaction } = props\n  const { account, actions } =\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    props.type === \"deposit\" ? React.useContext(DepositContext) : React.useContext(WithdrawalContext)\n  const { asset } = (props.state.deposit || props.state.withdrawal) as Deposit | Withdrawal\n  const { t } = useTranslation()\n\n  const formID = React.useMemo(() => nanoid(), [])\n  const accountData = useLiveAccountData(account.accountID, account.testnet)\n  const amountIn = props.state.transfer ? props.state.transfer.amount_in : \"\"\n\n  const [amountString, setAmountString] = React.useState(amountIn || \"\")\n  const [txPreparationState, handleTxPreparation] = useLoadingState({ throwOnError: true })\n\n  const balanceLine = findMatchingBalanceLine(accountData.balances, asset)\n  const balance = balanceLine ? BigNumber(balanceLine.balance) : BigNumber(0)\n\n  const data = props.state.response.data\n  const minAmount = data.min_amount ? BigNumber(data.min_amount) : undefined\n  const maxAmount = data.max_amount ? BigNumber(data.max_amount) : undefined\n\n  const amount = amountString.match(/^[0-9]+(\\.[0-9]+)?$/) ? BigNumber(amountString) : BigNumber(0)\n  const eta = data.eta ? formatDuration(data.eta) : t(\"transfer-service.transaction-details.body.eta.not-available\")\n\n  const isAmountOutOfBounds = (minAmount && amount.lt(minAmount)) || (maxAmount && amount.gt(maxAmount))\n  const isDisabled = props.type === \"withdrawal\" ? !amount.gt(0) || amount.gt(balance) || isAmountOutOfBounds : false\n\n  const stellarToml = useStellarToml(props.state.withdrawal?.transferServer.domain)\n  const isSEP24Anchor = Boolean(stellarToml && stellarToml.TRANSFER_SERVER_SEP0024)\n\n  const fees = BigNumber(data.fee_fixed || 0).add(\n    BigNumber(data.fee_percent || 0)\n      .div(100)\n      .mul(amount)\n  )\n  const feeMaxDecimals = fees.round(2).eq(fees) ? 2 : undefined\n  const feesUnknown = nullOrUndefined(data.fee_fixed) && nullOrUndefined(data.fee_percent)\n\n  const handleSubmit = React.useCallback(\n    (event: React.SyntheticEvent) => {\n      event.preventDefault()\n\n      if (props.type === \"deposit\") {\n        actions.afterSuccessfulExecution(amount)\n      } else {\n        handleTxPreparation(\n          (async () => {\n            try {\n              const tx = await (actions as WithdrawalActions).prepareWithdrawalTransaction(\n                props.state.withdrawal!,\n                props.state.response as WithdrawalInstructionsSuccess,\n                amount\n              )\n              await sendTransaction(tx)\n              actions.afterSuccessfulExecution(amount)\n            } catch (error) {\n              trackError(error)\n            }\n          })()\n        )\n      }\n    },\n    [actions, amount, handleTxPreparation, props.state, props.type, sendTransaction]\n  )\n\n  const extraInfo =\n    data.extra_info && typeof data.extra_info === \"string\"\n      ? { message: data.extra_info as string }\n      : data.extra_info || {}\n\n  return (\n    <form id={formID} noValidate onSubmit={handleSubmit}>\n      <FormLayout wrap>\n        {props.type === \"deposit\" && (props.state.response as DepositInstructionsSuccess).data.how ? (\n          <ReadOnlyTextfield\n            label={t(\"transfer-service.transaction-details.body.deposit-instructions.label\")}\n            multiline\n            value={(props.state.response as DepositInstructionsSuccess).data.how}\n          />\n        ) : null}\n        {props.type === \"deposit\" ? null : (\n          <PriceInput\n            assetCode={asset.getCode()}\n            disabled={isSEP24Anchor || (minAmount && minAmount.gt(balance))}\n            error={amount.gt(balance) || (minAmount && minAmount.gt(balance))}\n            label={t(\"transfer-service.transaction-details.body.amount.label.withdrawal\")}\n            helperText={\n              amount.gt(balance) &&\n              t(\"transfer-service.transaction-details.body.amount.error.amount-greater-than-balance\")\n            }\n            margin=\"normal\"\n            onChange={event => setAmountString(event.target.value)}\n            placeholder={formatBalanceRange(balance, minAmount, maxAmount)}\n            style={{ marginTop: 24 }}\n            value={amountString}\n          />\n        )}\n        <PriceInput\n          assetCode={asset.getCode()}\n          disabled\n          label={t(\"transfer-service.transaction-details.body.fees.label\")}\n          margin=\"normal\"\n          readOnly\n          style={{ marginTop: 24 }}\n          value={\n            feesUnknown\n              ? t(\"transfer-service.transaction-details.body.fees.value.unknown\")\n              : `- ${formatBalance(fees, { maximumDecimals: feeMaxDecimals })}`\n          }\n        />\n        <PriceInput\n          assetCode={asset.getCode()}\n          disabled\n          label={t(\"transfer-service.transaction-details.body.amount-to-receive.label\")}\n          readOnly\n          style={{ marginTop: 24 }}\n          value={amount.minus(fees).lte(0) ? \"-\" : formatBalance(amount.minus(fees))}\n        />\n        <ReadOnlyTextfield\n          label={t(\"transfer-service.transaction-details.body.eta.label\")}\n          style={{ marginTop: 24 }}\n          value={eta}\n        />\n        {Object.keys(extraInfo).map((extraKey, index) => (\n          <ReadOnlyTextfield\n            key={index}\n            label={\n              Object.keys(extraInfo).length === 1\n                ? t(\"transfer-service.transaction-details.body.information.label\")\n                : formatDescriptionText(extraKey)\n            }\n            style={{ marginTop: 24 }}\n            value={extraInfo[extraKey]}\n          />\n        ))}\n        <Portal desktop=\"inline\" target={props.dialogActionsRef && props.dialogActionsRef.element}>\n          <DialogActionsBox>\n            <ActionButton\n              disabled={isDisabled}\n              form={formID}\n              icon={props.type === \"deposit\" ? null : <SendIcon />}\n              loading={txPreparationState.type === \"pending\"}\n              onClick={() => undefined}\n              type=\"submit\"\n            >\n              {props.type === \"deposit\"\n                ? t(\"transfer-service.transaction-details.action.done\")\n                : t(\"transfer-service.transaction-details.action.withdraw\")}\n            </ActionButton>\n          </DialogActionsBox>\n        </Portal>\n      </FormLayout>\n    </form>\n  )\n}\n\nconst Sidebar = (props: { type: \"deposit\" | \"withdrawal\" }) => {\n  const { t } = useTranslation()\n  return props.type === \"deposit\" ? (\n    <Summary headline={t(\"transfer-service.transaction-details.sidebar.deposit.headline\")}>\n      <Paragraph>{t(\"transfer-service.transaction-details.sidebar.deposit.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.transaction-details.sidebar.deposit.info.2\")}</Paragraph>\n    </Summary>\n  ) : (\n    <Summary headline={t(\"transfer-service.transaction-details.sidebar.withdrawal.headline\")}>\n      <Paragraph>{t(\"transfer-service.transaction-details.sidebar.withdrawal.info.1\")}</Paragraph>\n      <Paragraph>{t(\"transfer-service.transaction-details.sidebar.withdrawal.info.2\")}</Paragraph>\n    </Summary>\n  )\n}\n\nconst TransactionDetailsView = Object.assign(React.memo(TransferTransactionDetails), { Sidebar })\n\nexport default TransactionDetailsView\n","import { AssetTransferInfo } from \"@suncewallet/stellar-transfer\"\nimport React from \"react\"\nimport { Asset, Transaction } from \"@stellar/stellar-sdk\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { CustomError } from \"~Generic/lib/errors\"\nimport { RefStateObject } from \"~Generic/hooks/userinterface\"\nimport DepositSuccess from \"./DepositSuccess\"\nimport PurchaseLumens from \"./PurchaseLumens\"\nimport TransferAuthentication from \"./TransferAuthentication\"\nimport TransferKYCDenied from \"./TransferKYCDenied\"\nimport TransferKYCPending from \"./TransferKYCPending\"\nimport TransferDetailsForm from \"./TransferDetailsForm\"\nimport TransferInitial from \"./TransferInitial\"\nimport WithdrawalSuccess from \"./WithdrawalSuccess\"\nimport TransferTransactionDetails from \"./TransferTransactionDetails\"\nimport { TransferState } from \"../util/statemachine\"\n\ninterface TransferContentProps {\n  account: Account\n  active?: boolean\n  assetTransferInfos: AssetTransferInfo[]\n  dialogActionsRef?: RefStateObject\n  onClose: () => void\n  sendTransaction: (transaction: Transaction) => Promise<any>\n  state: TransferState\n  trustedAssets: Asset[]\n  type: \"deposit\" | \"withdrawal\"\n  transferableAssets: Asset[]\n}\n\nexport const TransferContent = React.memo(function TransferContent(props: TransferContentProps) {\n  const { assetTransferInfos, state, trustedAssets, transferableAssets } = props\n\n  if (state.step === \"initial\") {\n    return (\n      <TransferInitial\n        assetTransferInfos={assetTransferInfos}\n        dialogActionsRef={props.dialogActionsRef}\n        state={state}\n        trustedAssets={trustedAssets}\n        type={props.type}\n        transferableAssets={transferableAssets}\n      />\n    )\n  } else if (state.step === \"enter-values\") {\n    return (\n      <TransferDetailsForm\n        active={props.active || false}\n        assetTransferInfos={assetTransferInfos}\n        dialogActionsRef={props.dialogActionsRef}\n        state={state}\n        type={props.type}\n      />\n    )\n  } else if (state.step === \"xlm-deposit\") {\n    return <PurchaseLumens onCloseDialog={props.onClose} />\n  } else if (state.step === \"auth-pending\") {\n    return (\n      <TransferAuthentication\n        account={props.account}\n        assetTransferInfos={assetTransferInfos}\n        authChallenge={\"authChallenge\" in state ? state.authChallenge : null}\n        dialogActionsRef={props.dialogActionsRef}\n        state={state}\n        type={props.type}\n      />\n    )\n  } else if (state.step === \"kyc-pending\") {\n    return <TransferKYCPending dialogActionsRef={props.dialogActionsRef} state={state} type={props.type} />\n  } else if (state.step === \"kyc-denied\") {\n    return <TransferKYCDenied state={state} />\n  } else if (state.step === \"enter-tx-details\") {\n    return (\n      <TransferTransactionDetails\n        dialogActionsRef={props.dialogActionsRef}\n        sendTransaction={props.sendTransaction}\n        state={state}\n        type={props.type}\n      />\n    )\n  } else if (state.step === \"completed\") {\n    return props.type === \"deposit\" ? (\n      <DepositSuccess dialogActionsRef={props.dialogActionsRef} onClose={props.onClose} state={state} />\n    ) : (\n      <WithdrawalSuccess dialogActionsRef={props.dialogActionsRef} onClose={props.onClose} state={state} />\n    )\n  } else {\n    throw CustomError(\"UnexpectedStateError\", `Encountered unexpected state: ${(state as TransferState).step}`, {\n      state: (state as TransferState).step\n    })\n  }\n})\n\ninterface TransferSidebarProps {\n  state: TransferState\n  type: \"deposit\" | \"withdrawal\"\n}\n\nexport const TransferSidebar = React.memo(function TransferSidebar(props: TransferSidebarProps) {\n  const { state, type } = props\n\n  if (state.step === \"initial\") {\n    return <TransferInitial.Sidebar type={type} />\n  } else if (state.step === \"enter-values\") {\n    return <TransferDetailsForm.Sidebar type={type} />\n  } else if (state.step === \"xlm-deposit\") {\n    return <PurchaseLumens.Sidebar />\n  } else if (state.step === \"auth-pending\") {\n    return <TransferAuthentication.Sidebar />\n  } else if (state.step === \"kyc-pending\") {\n    return <TransferKYCPending.Sidebar />\n  } else if (state.step === \"kyc-denied\") {\n    return <TransferKYCDenied.Sidebar />\n  } else if (state.step === \"enter-tx-details\") {\n    return <TransferTransactionDetails.Sidebar type={type} />\n  } else if (state.step === \"completed\") {\n    return type === \"deposit\" ? <DepositSuccess.Sidebar /> : <WithdrawalSuccess.Sidebar />\n  } else {\n    throw CustomError(\"UnexpectedStateError\", `Encountered unexpected state: ${(state as TransferState).step}`, {\n      state: (state as TransferState).step\n    })\n  }\n})\n","import React from \"react\"\nimport { Asset, Horizon, Transaction } from \"@stellar/stellar-sdk\"\nimport { Account } from \"~App/contexts/accounts\"\nimport { useTransferInfos } from \"~Generic/hooks/transfer-server\"\nimport { useIsMobile, useDialogActions } from \"~Generic/hooks/userinterface\"\nimport { AccountData } from \"~Generic/lib/account\"\nimport { getAssetsFromBalances } from \"~Generic/lib/stellar\"\nimport Carousel from \"~Layout/components/Carousel\"\nimport VirtualizedFader from \"~Layout/components/VirtualizedFader\"\nimport ViewLoading from \"~Generic/components/ViewLoading\"\nimport { useDepositState } from \"../hooks/useDepositState\"\nimport { useWithdrawalState } from \"../hooks/useWithdrawalState\"\nimport DepositProvider from \"./DepositProvider\"\nimport NoWithdrawableAssets from \"./NoWithdrawableAssets\"\nimport { DesktopTwoColumns } from \"./Sidebar\"\nimport { TransferContent as PureTransferContent, TransferSidebar } from \"./TransferContent\"\nimport TransferDialogLayout from \"./TransferDialogLayout\"\nimport WithdrawalProvider from \"./WithdrawalProvider\"\nimport withFallback from \"~Generic/hocs/withFallback\"\nimport { TransferState } from \"../util/statemachine\"\n\nconst faderStyles: React.CSSProperties = {\n  minWidth: 150\n}\n\nfunction flatMap<In, Out>(inputs: In[], mapper: (input: In) => Out[]): Out[] {\n  return inputs.reduce<Out[]>((outputs, input): Out[] => [...outputs, ...mapper(input)], [])\n}\n\nfunction parseOverrides(overridesString: string) {\n  const [assetCode, domain] = overridesString.split(\":\")\n  return {\n    [assetCode]: domain\n  }\n}\n\nconst TransferContent = withFallback(PureTransferContent, <ViewLoading />)\n\nexport interface TransferDialogProps {\n  account: Account\n  accountData: AccountData\n  horizon: Horizon.Server\n  onClose: () => void\n  sendTransaction: (transaction: Transaction) => Promise<any>\n  type: \"deposit\" | \"withdrawal\"\n}\n\nfunction TransferDialog(props: TransferDialogProps) {\n  const dialogActionsRef = useDialogActions()\n  const isSmallScreen = useIsMobile()\n\n  const { actions, nextState, prevStates, state } =\n    props.type === \"deposit\"\n      ? // eslint-disable-next-line react-hooks/rules-of-hooks\n        useDepositState(props.account, props.onClose)\n      : // eslint-disable-next-line react-hooks/rules-of-hooks\n        useWithdrawalState(props.account, props.onClose)\n\n  const prevState = prevStates.length > 0 ? prevStates[prevStates.length - 1] : undefined\n\n  const trustedAssets = React.useMemo(() => getAssetsFromBalances(props.accountData.balances) || [Asset.native()], [\n    props.accountData.balances\n  ])\n\n  // Allow overriding the transfer server domain by asset using an env var (for testing purposes)\n  const assetTransferDomainOverrides = import.meta.env.VITE_TRANSFER_DOMAIN_OVERRIDE\n    ? parseOverrides(import.meta.env.VITE_TRANSFER_DOMAIN_OVERRIDE)\n    : {}\n  const transferInfos = useTransferInfos(trustedAssets, props.account.testnet, assetTransferDomainOverrides)\n\n  const assetTransferInfos = React.useMemo(\n    () => flatMap(transferInfos, transferInfo => (transferInfo ? transferInfo.assets : [])),\n    [transferInfos]\n  )\n\n  const transferableAssets = React.useMemo(() => {\n    return assetTransferInfos\n      .filter(assetInfo =>\n        props.type === \"deposit\"\n          ? assetInfo.deposit && assetInfo.deposit.enabled\n          : assetInfo.withdraw && assetInfo.withdraw.enabled\n      )\n      .map(assetInfo => assetInfo.asset)\n      .filter(asset => trustedAssets.some(trustedAsset => trustedAsset.equals(asset)))\n      .concat(props.type === \"deposit\" ? [Asset.native()] : [])\n  }, [assetTransferInfos, props.type, trustedAssets])\n\n  const contentProps = {\n    ...props,\n    assetTransferInfos,\n    transferableAssets,\n    trustedAssets\n  }\n\n  const TransferProvider = props.type === \"deposit\" ? DepositProvider : WithdrawalProvider\n\n  return (\n    <TransferProvider account={props.account} actions={actions as any} state={state}>\n      <TransferDialogLayout\n        account={props.account}\n        dialogActionsRef={dialogActionsRef}\n        onNavigateBack={actions.navigateBack}\n        type={props.type}\n      >\n        <DesktopTwoColumns>\n          {transferableAssets.length === 0 ? (\n            <NoWithdrawableAssets account={props.account} actionsRef={dialogActionsRef} margin=\"32px 0 0\" />\n          ) : (\n            <Carousel current={prevStates.length}>\n              {[...prevStates, state, nextState]\n                .filter((s): s is TransferState => !!s)\n                .map((current, index) => (\n                  <TransferContent\n                    key={index}\n                    {...contentProps}\n                    active={current === state}\n                    dialogActionsRef={current === state ? dialogActionsRef : undefined}\n                    state={current}\n                  />\n                ))}\n            </Carousel>\n          )}\n          <VirtualizedFader\n            current={<TransferSidebar state={state} type={props.type} />}\n            index={prevStates.length}\n            next={nextState ? <TransferSidebar state={nextState} type={props.type} /> : null}\n            prev={prevState ? <TransferSidebar state={prevState} type={props.type} /> : null}\n            size={prevStates.length + 2}\n            style={isSmallScreen ? undefined : faderStyles}\n          />\n        </DesktopTwoColumns>\n      </TransferDialogLayout>\n    </TransferProvider>\n  )\n}\n\nexport default React.memo(TransferDialog)\n"],"names":["browser","errors","ResponseError","response","transferServer","isJsonResponse","message","result","TransferResultType","kyc","createKYCInstructions","isKYCRequired","result_1","require$$0","KYCResponseType","kycSubTypes","domain","subtype","__assign","this","t","s","i","n","p","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","__generator","body","_","f","y","g","verb","v","op","__importDefault","mod","deposit","Deposit","form_data_1","errors_1","require$$1","kyc_1","require$$2","require$$3","DepositType","asset","destinationAccountID","fields","authToken","requestInteractiveDeposit","requestLegacyDeposit","headers","validateStatus","error_1","_a","fieldName","status","requestDeposit","sendRequest","fees","fetchFee","operation","type","amount","__spreadArray","to","from","pack","l","ar","info","fetchTransferInfos","dedupe","array","fail","assetCodes","assetInfos","assetCode","transactions","fetchTransaction","fetchTransactions","TransferStatus","transferServer_1","id_1","id","idType","idParamName","_b","assetCode_1","authToken_1","options","bind","fn","toString","getPrototypeOf","kindOf","cache","thing","str","kindOfTest","typeOfTest","isArray","isUndefined","isBuffer","val","isFunction","isArrayBuffer","isArrayBufferView","isString","isNumber","isObject","isBoolean","isPlainObject","prototype","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","keys","len","key","findKey","_key","_global","global","isContextDefined","context","merge","caseless","assignValue","targetKey","extend","a","b","stripBOM","content","inherits","constructor","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","position","lastIndex","toArray","arr","isTypedArray","TypedArray","forEachEntry","iterator","pair","matchAll","regExp","matches","isHTMLForm","toCamelCase","m","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","name","ret","freezeMethods","toObjectSet","arrayOrString","delimiter","define","noop","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","token","callbacks","data","cb","asap","process","utils$1","AxiosError","code","config","request","prototype$1","error","customProps","axiosError","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","Buffer","el","index","exposedHelpers","build","encode$1","charMap","match","AxiosURLSearchParams","params","encoder","_encode","encode","buildURL","url","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","h","InterceptorManager$1","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","utils","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","defaults","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","method","defaults$1","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","line","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","w","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","AxiosHeaders","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","computed","accessors","defineAccessor","mapped","headerValue","AxiosHeaders$1","transformData","fns","isCancel","CanceledError","settle","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","args","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","loaded","total","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","cookies","expires","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","xsrfValue","xhrAdapter","_config","requestData","requestHeaders","responseType","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","err","timeoutErrorMessage","cancel","protocol","composeSignals$1","signals","timeout","length","controller","aborted","onabort","reason","unsubscribe","signal","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","isFetchSupported","isReadableStreamSupported","encodeText","test","supportsRequestStream","duplexAccessed","hasContentType","DEFAULT_CHUNK_SIZE","supportsResponseStream","resolvers","res","getBodyLength","resolveBodyLength","fetchAdapter","cancelToken","withCredentials","fetchOptions","composedSignal","requestContentLength","_request","contentTypeHeader","flush","isCredentialsSupported","isStreamResponse","responseContentLength","responseData","knownAdapters","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","state","throwIfCancellationRequested","dispatchRequest","VERSION","validators$1","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","correctSpelling","assertOptions","schema","allowUnknown","validators","Axios","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","fullPath","generateHTTPMethod","isForm","Axios$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","abort","c","CancelToken$1","spread","callback","isAxiosError","payload","HttpStatusCode","HttpStatusCode$1","createInstance","defaultConfig","instance","axios","promises","axios_1","util","joinURL","fragments","_i","joined","fragment","TransferServer","openTransferServer","locateTransferServer","resolveAssets","resolveTransferServerURL","stellar_sdk_1","util_1","getTransferServerURL","stellarTomlData","serverURL","assets","network","reqOptions","currency","horizonURL","horizon","accountData","homeDomain","withdrawal","Withdrawal","createWithdrawalPayment","require$$4","WithdrawalType","requestInteractiveWithdrawal","requestLegacyWithdrawal","requestWithdrawal","builder","__createBinding","o","k","k2","__exportStar","exports","require$$5","require$$6","require$$7","input","withTimeout","ms","initTransferServer","testnet","Networks","useTransferInfos","assetTransferDomainOverrides","accountIDs","issuer","homeDomainsWithOverrides","useAccountHomeDomains","domains","mapSuspendables","transferInfosCache","transferInfo","useFaderStyles","makeStyles","Fader","classes","child","React","VirtualizedCarousel","children","VirtualizedFader","Action","formValues","webauth","authChallenge","transaction","transfer","initialState","stateMachine","action","CustomError","logger","debug_1","authentication","fetchChallenge","postResponse","authenticate","logger_1","assertChallengeOK","challenge","serviceSigningKey","localPublicKey","serviceSigningKeypair","timeToleranceMs","nonce","getNonceOperation","signature","nonceOperation","endpointURL","error_2","keypair","stellarToml","getServiceSigningKey","getWebAuthEndpointURL","fetchWebAuthData","issuerAccountID","account","signingKey","usePolling","pollIntervalMs","intervalRef","start","trackError","stop","createMemo","withdrawalResponse","memo","hash","Memo","parseAmount","kycPollIntervalMs","initialMachineState","timeTravelingStateMachine","machineState","nextState","goingForward","useTransferState","closeDialog","netWorker","useNetWorker","signingKeys","SigningKeyCacheContext","WebAuth","useWebAuth","dispatch","submitTransferSelection","initiateWebAuth","stellarTomlCacheItem","stellarTomlCache","webauthMetadata","cachedAuthToken","performWebAuth","password","signTransaction","submitTransferFieldValues","details","assetInfo","withdraw","didRedirectToKYC","afterSuccessfulExecution","consecutiveKYCPollErrors","pollKYCStatus","transferTxId","isKYCPollingActive","startKYCPolling","stopKYCPolling","createDeposit","useDepositState","selectXLMDeposit","instructions","transactionID","BigNumber","createWithdrawal","createWithdrawalTransaction","operations","Operation","createTransaction","useWithdrawalState","horizonURLs","useHorizonURLs","prepareWithdrawalTransaction","Horizon","DepositContext","DepositProvider","contextValue","NoWithdrawableAssets","router","useRouter","useTranslation","Box","Typography","Portal","DialogActionsBox","ActionButton","routes.manageAccountAssets","NoWithdrawableAssets$1","DesktopTwoColumns","isSmallScreen","useIsMobile","VerticalLayout","HorizontalLayout","ViewLoading","Paragraph","Summary","DepositSuccess","Sidebar","SuccessView","PurchaseLumens","LumenDepositOptions","PurchaseLumensView","WithdrawalContext","WithdrawalProvider","doNothing","WithdrawalAuthentication","actions","passwordError","setPasswordError","submission","handleSubmission","useLoadingState","submit","isWrongPasswordError","ReviewForm","AuthenticationView","WithdrawalKYCDenied","KYCDeniedView","isCommonAbbreviation","minBig","uppercaseIfCommonAbbreviation","uppercaseFirstLetter","formatBalanceRange","balance","minAmount","maxAmount","max","formatBalance","formatDescriptionText","description","letter","formatDuration","seconds","formatIdentifier","identifier","word","TransferTransactionStatus","TransferTransactionStatus$1","TransferKYCPending","formID","nanoid","handleSubmit","event","openLink","CircularProgress","KYCPendingView","FormLayout","FormLayout$1","FormBuilderField","choices","optional","formattedDescription","formattedName","placeholder","TextField","choice","MenuItem","FormBuilder","isFormValueSet","filterObject","filtered","maybeIBAN","postprocessFormValue","originalValue","transforms","transformed","transform","postprocessFormValues","inputFormValues","methodID","MinMaxAmount","ReadOnlyTextfield","theme","filterEmptyStrings","TransferFee","formattedFee","TransferDetailsForm","useLiveAccountData","balanceLine","findMatchingBalanceLine","submissionState","useStellarToml","setFormValues","setFormValue","newValue","prevFormValues","methodMetadata","isSEP24Anchor","automaticallySetValues","emailField","hasEmptyMandatoryFields","amountOptional","emailOptional","validAmount","validBalance","validEmail","isDisabled","DetailsFormView","useFormStyles","TransferInitial","isTinyScreen","useIsSmallMobile","getAssetInfo","getMethodNames","meta","initialAsset","Asset","initialMethod","prevValues","methodNames","showMethods","nontransferableAssets","transferable","assetTransferInfo","handleAssetSelection","AssetSelector","Collapse","InitialView","WithdrawalSuccess","nullOrUndefined","TransferTransactionDetails","sendTransaction","amountIn","amountString","setAmountString","txPreparationState","handleTxPreparation","eta","isAmountOutOfBounds","feeMaxDecimals","feesUnknown","tx","extraInfo","PriceInput","extraKey","SendIcon","TransactionDetailsView","TransferContent","assetTransferInfos","trustedAssets","transferableAssets","TransferAuthentication","TransferKYCDenied","TransferSidebar","faderStyles","flatMap","inputs","mapper","outputs","withFallback","PureTransferContent","TransferDialog","dialogActionsRef","useDialogActions","prevStates","prevState","getAssetsFromBalances","transferInfos","trustedAsset","contentProps","TransferProvider","TransferDialogLayout","Carousel","current","TransferDialog$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,16,17,18,19]}