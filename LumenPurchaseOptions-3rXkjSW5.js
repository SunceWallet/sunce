import{R as e,Y as g,b1 as y,aa as d,Z as l,$ as f,ap as L,a0 as b,a_ as E,b0 as h,b2 as C,E as x,ak as i,aN as k,bA as w,H as S,az as T,a5 as D}from"./app-BCVNF2m9.js";import{P as I,o as P,L as N,av as R,a as $}from"./app-stage2-xNvEQXce.js";const v=g({root:{[i.down(600)]:{zIndex:1400}},dialogPaper:{[i.down(600)]:{alignSelf:"flex-end",background:"rgba(255, 255, 255, 0.9)",margin:"0 20px 120px"}}});function A(t){const n=v(),o=y(),a=d(),{t:r}=l(),s=e.useMemo(()=>e.createElement(f,{className:n.root,smallDialog:!0,transparent:!0},e.createElement(L,{enter:a,exit:a,in:t.open},e.createElement(b,{onClick:t.onConfirm,type:"primary"},r("account.purchase-lumens.legal-confirmation.action.confirm")))),[n.root,a,t.onConfirm,t.open,r]);return e.createElement(E,{classes:{paper:n.dialogPaper},onClose:t.onClose,open:t.open,TransitionComponent:h},e.createElement(C,{actions:o,preventActionsPlaceholder:!0,preventNotchSpacing:!0},e.createElement(x,{color:"textSecondary"},t.message)),e.createElement(I,{target:a?document.body:o.element},s))}const M=e.memo(A);async function O(t){const o=`https://ncy9jaxgqh.execute-api.eu-central-1.amazonaws.com/moonpay?walletAddress=${t.accountID}&testnet=${t.testnet}`,a=await fetch(o);if(!a.ok){const s=await a.text();throw D("HttpRequestError",`HTTP fetch failed: ${s} 
Service: ${o}`,{response:s,service:o})}return(await a.json()).url}function U(t){const{account:n,onCloseDialog:o}=t,[a,r]=e.useState(!1),{t:s}=l(),m=e.useCallback(()=>r(!1),[]),u=e.useCallback(()=>r(!0),[]),p=e.useCallback(async()=>{try{const c=await O(n);P(c),o()}catch(c){k(c)}},[n,o]);return e.createElement(w,{style:{margin:"16px auto",maxWidth:600}},e.createElement(S,{button:!0,onClick:u},e.createElement(T,{primary:s("account.purchase-lumens.moonpay.text.primary"),secondary:s("account.purchase-lumens.moonpay.text.secondary")}),e.createElement(N,{style:{minWidth:24,marginLeft:12}},e.createElement(R,null))),e.createElement(M,{message:e.createElement($,{i18nKey:"account.purchase-lumens.moonpay.legal-confirmation"},"You will be redirected to moonpay.io, a third-party service. The depositing process is operated by Moon Pay Ltd, not by Sunce or Montelibero.",e.createElement("br",null),e.createElement("br",null),"Please contact the moonpay.io support for inquiries related to your deposit."),onClose:m,open:a,onConfirm:p}))}const B=e.memo(U);export{B as L};
//# sourceMappingURL=LumenPurchaseOptions-3rXkjSW5.js.map
